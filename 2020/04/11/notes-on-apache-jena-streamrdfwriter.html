<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="https://kinoshita.eti.br/2020/04/11/notes-on-apache-jena-streamrdfwriter.html"><meta property="og:site_name" content="kinow"><meta property="og:title" content="Notes on Apache Jena StreamRDFWriter"><meta property="og:description" content="Apache Jena project is like a box full of interesting things—at least if you love programming. One of its many features, is stream processing.
The graphs in Jena may contain very large datasets, with giga- or terabytes. Some queries may be very large, and then sending the whole result would be simply impracticable.
Instead, the data will go through ARQ. ARQ is a query engine for Jena that supports SPARQL. There is one piece of code there that I found interesting while reviewing a small pull request: org.apache.jena.riot.system.StreamRDFWriter.
It is responsible for writing graph data in a streaming fashion. (See stream processing for programming models and more.)
Stream factories StreamRDFWriter holds several implementations (as static members) of StreamRDFWriterFactory. The factory has one responsibility only, to create streams (StreamRDF), for a certain format and context.
"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-11T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-17T23:13:27+02:00"><meta property="article:tag" content="Apache Software Foundation"><meta property="article:tag" content="Apache Jena"><meta property="article:tag" content="Stream Processing"><meta property="article:tag" content="Open Source"><meta property="article:tag" content="Java"><meta property="og:image" content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta property="fb:admins" content="bruno.kinoshita"><meta name=twitter:title content="Notes on Apache Jena StreamRDFWriter"><meta name=twitter:description content="Apache Jena project is like a box full of interesting things—at least if you love programming. One of its many features, is stream processing.
The graphs in Jena may contain very large datasets, with giga- or terabytes. Some queries may be very large, and then sending the whole result would be simply impracticable.
Instead, the data will go through ARQ. ARQ is a query engine for Jena that supports SPARQL. There is one piece of code there that I found interesting while reviewing a small pull request: org.apache.jena.riot.system.StreamRDFWriter.
It is responsible for writing graph data in a streaming fashion. (See stream processing for programming models and more.)
Stream factories
StreamRDFWriter holds several implementations (as static members) of StreamRDFWriterFactory. The factory has one responsibility only, to create streams (StreamRDF), for a certain format and context.





  
  

"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta name=twitter:site content="@kinow"><link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2020/04/11/notes-on-apache-jena-streamrdfwriter/feed.xml title=kinow><link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.c3626db3678f53e4a53e3e75c7b2fe34bb46566f00eb84692501404d0064c32a.css integrity="sha256-w2Jts2ePU+SlPj51x7L+NLtGVm8A64RpJQFATQBkwyo="><title>kinow | Notes on Apache Jena StreamRDFWriter</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Notes on Apache Jena StreamRDFWriter","headline":"Notes on Apache Jena StreamRDFWriter","alternativeHeadline":"","description":"\u003cp\u003e\u003ca href=\u0022https:\/\/jena.apache.org\/\u0022\u003eApache Jena\u003c\/a\u003e project is like a box full of interesting things—at least if you love programming. One of its many features, is \u003cstrong\u003estream processing\u003c\/strong\u003e.\u003c\/p\u003e\n\u003cp\u003eThe graphs in Jena may contain very large datasets, with giga- or terabytes. Some queries may be very large, and then sending the whole result would be simply impracticable.\u003c\/p\u003e\n\u003cp\u003eInstead, the data will go through ARQ. ARQ is a query engine for Jena that supports SPARQL. There is one piece of code there that I found interesting while reviewing a small pull request: \u003ca href=\u0022https:\/\/github.com\/apache\/jena\/blob\/cbdba5edb47041a4181a00bd7660e5d4c212530a\/jena-arq\/src\/main\/java\/org\/apache\/jena\/riot\/system\/StreamRDFWriter.java\u0022\u003e\u003ccode\u003eorg.apache.jena.riot.system.StreamRDFWriter\u003c\/code\u003e\u003c\/a\u003e.\u003c\/p\u003e\n\u003cp\u003eIt is responsible for writing graph data in a streaming fashion. (See \u003ca href=\u0022https:\/\/en.wikipedia.org\/wiki\/Stream_processing\u0022\u003estream processing\u003c\/a\u003e for programming models and more.)\u003c\/p\u003e\n\u003ch2 id=\u0022stream-factories\u0022\u003eStream factories\u003c\/h2\u003e\n\u003cp\u003e\u003ccode\u003eStreamRDFWriter\u003c\/code\u003e holds several implementations (as \u003ccode\u003estatic\u003c\/code\u003e members) of \u003ccode\u003eStreamRDFWriterFactory\u003c\/code\u003e. The factory has one responsibility only, to create streams (\u003ccode\u003eStreamRDF\u003c\/code\u003e), for a certain format and context.\u003c\/p\u003e\n\n\n\n\u003cfigure class=\u0022feature\u0022\u003e\n\n  \u003cimg\n    src=\u0027\/assets\/posts\/2020-04-11-notes-on-apache-jena-streamrdfwriter\/01.png\u0027\n    alt=\u0027\u0027\n    title=\u0027\u0027\n    style=\u0027\u0027\n    width=\u0027\u0027\n    height=\u0027\u0027\n    \/\u003e\n  \u003cfigcaption\u003e\u003c\/figcaption\u003e\n\n\u003c\/figure\u003e","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kinoshita.eti.br\/2020\/04\/11\/notes-on-apache-jena-streamrdfwriter.html"},"author":{"@type":"Person","name":"Bruno P. Kinoshita"},"creator":{"@type":"Person","name":"Bruno P. Kinoshita"},"accountablePerson":{"@type":"Person","name":"Bruno P. Kinoshita"},"copyrightHolder":"kinow","copyrightYear":"2020","dateCreated":"2020-04-11T00:00:00.00Z","datePublished":"2020-04-11T00:00:00.00Z","dateModified":"2024-07-17T23:13:27.00Z","publisher":{"@type":"Organization","name":"kinow","url":"https://kinoshita.eti.br/","logo":{"@type":"ImageObject","url":"https:\/\/kinoshita.eti.br\/","width":"32","height":"32"}},"image":"https://kinoshita.eti.br/","url":"https:\/\/kinoshita.eti.br\/2020\/04\/11\/notes-on-apache-jena-streamrdfwriter.html","wordCount":"251","genre":["apache software foundation","apache jena","stream processing","open source","java"],"keywords":[]}</script></head><body><header role=banner class=content><nav id=nav aria-label=Main role=navigation class=content><ul><li><a href=/><i data-feather=about></i> About</a></li><li><a href=/blog/><i data-feather=blog></i> Blog</a></li><li><a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a></li></ul></nav></header><main><article class=content><h1>Notes on Apache Jena StreamRDFWriter</h1><div class=metadata><i data-feather=calendar></i>
<time datetime=2020-04-11>Apr 11, 2020</time></div><aside><nav id=TableOfContents><ul><li><a href=#stream-factories>Stream factories</a></li><li><a href=#streams-writer-registry>Streams writer registry</a></li><li><a href=#writing-data-to-streams>Writing data to streams</a></li></ul></nav></aside><p><a href=https://jena.apache.org/>Apache Jena</a> project is like a box full of interesting things—at least if you love programming. One of its many features, is <strong>stream processing</strong>.</p><p>The graphs in Jena may contain very large datasets, with giga- or terabytes. Some queries may be very large, and then sending the whole result would be simply impracticable.</p><p>Instead, the data will go through ARQ. ARQ is a query engine for Jena that supports SPARQL. There is one piece of code there that I found interesting while reviewing a small pull request: <a href=https://github.com/apache/jena/blob/cbdba5edb47041a4181a00bd7660e5d4c212530a/jena-arq/src/main/java/org/apache/jena/riot/system/StreamRDFWriter.java><code>org.apache.jena.riot.system.StreamRDFWriter</code></a>.</p><p>It is responsible for writing graph data in a streaming fashion. (See <a href=https://en.wikipedia.org/wiki/Stream_processing>stream processing</a> for programming models and more.)</p><h2 id=stream-factories>Stream factories</h2><p><code>StreamRDFWriter</code> holds several implementations (as <code>static</code> members) of <code>StreamRDFWriterFactory</code>. The factory has one responsibility only, to create streams (<code>StreamRDF</code>), for a certain format and context.</p><figure class=feature><img src=/assets/posts/2020-04-11-notes-on-apache-jena-streamrdfwriter/01.png alt title width height><figcaption></figcaption></figure><h2 id=streams-writer-registry>Streams writer registry</h2><p>All these factories and streams, the writer also needs a <code>registry</code>. It is used to access the writers required for streams using certain languages.</p><p>So if you have your graph dataset, and need to retrieve triples as thrift, you will interrogate the registry asking for a factory of that language (Turtle, N-Triples, RDF-Thrift, etc) or format (Flat Turtle, N-Quads, N-Triples-ASCII, RDF-Thrift, etc).</p><figure class=feature><img src=/assets/posts/2020-04-11-notes-on-apache-jena-streamrdfwriter/02.png alt title width height><figcaption></figcaption></figure><h2 id=writing-data-to-streams>Writing data to streams</h2><p>Each writer has one responsibility too—I really like the design of certain modules in Jena.</p><figure class=feature><img src=/assets/posts/2020-04-11-notes-on-apache-jena-streamrdfwriter/03.png alt title width height><figcaption></figcaption></figure><p>The action, however, happens somewhere else. In the <code>StreamRDFOps</code> and in the <code>Iterator</code> implementations is where the stream processing really takes place.</p><figure class=feature><img src=/assets/posts/2020-04-11-notes-on-apache-jena-streamrdfwriter/04.png alt title width height><figcaption></figcaption></figure><p>But this goes beyond the <code>StreamRDFWriter</code>. So that&rsquo;s all for today.</p><p>Categories:
<a href=/categories/blog.html>Blog</a></p><p>Tags:
<a href=/tags/apache-software-foundation.html>Apache Software Foundation</a>,
<a href=/tags/apache-jena.html>Apache Jena</a>,
<a href=/tags/stream-processing.html>Stream Processing</a>,
<a href=/tags/open-source.html>Open Source</a>,
<a href=/tags/java.html>Java</a></p><aside class=links><a class=previous href=https://kinoshita.eti.br/2020/04/04/apple-2.html>&#171; Previous</a><a class=next href=https://kinoshita.eti.br/2020/05/23/learning-new-vocabulary-with-shimura-ken-jailbreak-story.html>Next &#187;</a></aside></article></main><footer role=contentinfo><ul id=social-media-icons><li><a href=https://www.instagram.com/brunokinoshita/><img src=/assets/icons/instagram.png alt="Instagram link"></a></li><li><a href=https://twitter.com/kinow/><img src=/assets/icons/twitter.png alt="Twitter link"></a></li><li><a href=https://github.com/kinow/><img src=/assets/icons/github.png alt="GitHub link"></a></li><li><a href=/feed.xml><img src=/assets/icons/news.png alt="RSS feed link"></a></li></ul></footer></body></html>