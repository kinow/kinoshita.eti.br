<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Using Lumino with Vue">
<meta property="og:description" content="Lumino is the engine that powers the GUI of
JupyterLab. It used to be called Phosphor JS,
but some time ago there was a misunderstanding and the author gave up maintaining it.
Then JupyterLab decided to fork it under this new name.





  
  




The documentation is still lacking, but it works as expected, and there is already a
community supporting it. We decided to use it in Cylc UI
to have tabbed panels like JupyterLab.
This project contains the part of the code of
Cylc UI that integrated Lumino and Vue. It was a suggestion from one of the maintainers
of JupyterLab, that got involved in an issue of Cylc UI. You can find this project linked
too in the Lumino project README file.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kinoshita.eti.br/2020/03/28/using-lumino-with-vue.html"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-03-28T00:00:00+00:00">
<meta property="article:modified_time" content="2024-04-10T22:07:49+02:00">
<link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2020/03/28/using-lumino-with-vue/feed.xml title=kinow>
<link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.edd0fb9d64d9d8f2908cac4e6242f16d6626e9d2f915df8c59b5ad82b0cc0286.css integrity="sha256-7dD7nWTZ2PKQjKxOYkLxbWYm6dL5Fd+MWbWtgrDMAoY=">
<title>kinow | Using Lumino with Vue</title>
</head>
<body>
<header role=banner class=content>
<nav id=nav aria-label=Main role=navigation class=content>
<ul><li>
<a href=/><i data-feather=about></i> About</a>
</li><li>
<a href=/blog/><i data-feather=blog></i> Blog</a>
</li><li>
<a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a>
</li>
</ul>
</nav>
</header>
<main>
<article class=content>
<h1>Using Lumino with Vue</h1><div class=metadata>
<i data-feather=calendar></i>
<time datetime=2020-03-28>Mar 28, 2020</time>
</div>
<aside>
<nav id=TableOfContents></nav>
</aside>
<p><a href=https://github.com/jupyterlab/lumino>Lumino</a> is the engine that powers the GUI of
<a href=https://github.com/jupyterlab/jupyterlab/>JupyterLab</a>. It used to be called Phosphor JS,
but some time ago there was a misunderstanding and the author gave up maintaining it.
Then JupyterLab decided to fork it under this new name.</p>
<figure class=feature>
<img src=/assets/posts/2020-03-28-using-lumino-with-vue/demo.gif alt title width height>
<figcaption></figcaption>
</figure>
<p>The documentation is still lacking, but it works as expected, and there is already a
community supporting it. We decided to use it in <a href=https://github.com/cylc/cylc-ui>Cylc UI</a>
to have tabbed panels like JupyterLab.</p>
<p><a href=https://github.com/kinow/vue-lumino>This project</a> contains the part of the code of
Cylc UI that integrated Lumino and Vue. It was a suggestion from one of the maintainers
of JupyterLab, that got involved in an issue of Cylc UI. You can find this project linked
too in the Lumino project <code>README</code> file.</p>
<p>Lumino handles the DOM directly, while Vue deals with a virtual DOM. So integrating
both can be a bit tricky. And there are probably more than one way of doing it. So
I am not claiming the route we went is the best.</p>
<figure class=feature>
<img src=/assets/posts/2020-03-28-using-lumino-with-vue/01.png alt title width height>
<figcaption></figcaption>
</figure>
<p>The main component for this integration is called <code>Lumino</code>. It has an array in its
<code>data</code> section that holds one entry for each widget that must be added to the Lumino
<code>BoxPanel</code>. The array can contain anything, like booleans or numbers. It holds the
ID of each widget added. This ID is the actual HTML element ID, and is used in the code
by even listeners to activate, delete, and maintain the state of the Lumino widgets and
the Vue components.</p>
<figure class=feature>
<img src=/assets/posts/2020-03-28-using-lumino-with-vue/02.png alt title width height>
<figcaption></figcaption>
</figure>
<p>The <code>BoxPanel</code> goes into a <code>div</code> created in the component template, exclusively for
Lumino.</p>
<p>As Lumino stars working with the DOM before Vue has had time to move things
from the virtual DOM, we need to compensate by asking Vue to wait before</p>
<figure class=feature>
<img src=/assets/posts/2020-03-28-using-lumino-with-vue/03.png alt title width height>
<figcaption></figcaption>
</figure>
<p>The final step in the integration are wrappers for Vue components. These wrappers
represent the component, but are actually used to attach the component&rsquo;s HTML element
to the widget HTML element.</p>
<p>The <code>.appendChild</code> function in JS takes care of moving nodes within the DOM. And Vue
is smart enough to remove the element correctly. It should also take care of event
listeners automagically, but for safety I prefer to add and remove event listeners
myself.</p>
<figure class=feature>
<img src=/assets/posts/2020-03-28-using-lumino-with-vue/04.png alt title width height>
<figcaption></figcaption>
</figure>
<p>Through even listeners, and controlling when something from the virtual DOM
can access something from the DOM, and tricking Lumino into creating empty widgets
that later receive the HTML element from the wrapped Vue component, we get it
working with Vue in the same as Lumino works with JupyterLab.</p>
<p><a href=https://github.com/kinow/vue-lumino>https://github.com/kinow/vue-lumino</a></p>
<p>
Categories:
<a href=/categories/blog.html>blog</a>
</p>
<p>
Tags:
<a href=/tags/javascript.html>javascript</a>,
<a href=/tags/vuejs.html>vuejs</a>,
<a href=/tags/cylc.html>cylc</a>,
<a href=/tags/opensource.html>opensource</a>,
<a href=/tags/workflows.html>workflows</a>,
<a href=/tags/programming.html>programming</a>
</p>
<aside class=links>
<a class=previous href=https://kinoshita.eti.br/2020/03/28/zatoichi-crying-1.html>&#171; Previous</a>
<a class=next href=https://kinoshita.eti.br/2020/03/28/grumman-f-14-tomcat.html>Next &#187;</a>
</aside>
</article>
</main>
<footer role=contentinfo>
<ul id=social-media-icons>
<li>
<a href=https://www.instagram.com/brunokinoshita/>
<img src=/assets/icons/instagram.png alt="Instagram link">
</a>
</li>
<li>
<a href=https://twitter.com/kinow/>
<img src=/assets/icons/twitter.png alt="Twitter link">
</a>
</li>
<li>
<a href=https://github.com/kinow/>
<img src=/assets/icons/github.png alt="GitHub link">
</a>
</li>
<li>
<a href=/feed.xml>
<img src=/assets/icons/news.png alt="RSS feed link">
</a>
</li>
</ul>
</footer>
</body>
</html>