  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <title>Bruno P. Kinoshita</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Bruno de Paula Kinoshita personal web site" />
    <meta name="keywords"
        content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache, open source, codigo livre, codigo aberto" />
    <meta name="author" content="" />
    <meta name="generator" content="PieCrust 2.0.0rc2" />
    <meta name="template-engine" content="Twig" />
    <meta name="robots" content="all=index,follow" />
    <meta name="revisit-after" content="15 days" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="distribution" content="Global" />
    <meta name="url" content="/" />
    <meta name="copyright" content="Bruno de Paula Kinoshita" />
    <meta name="Googlebot" content="all" />
    <meta name="rating" content="general" />
    <meta http-equiv="expires" content="0" />
    <meta name="city" content="Sao Paulo" />
    <meta name="state" content="Brasil, Sao Paulo" />
    <meta http-equiv="content-language" content="en" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta id="page_favicon" href="/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="/feed.xml" />
    <link rel="stylesheet" href="/css/semantic/dist/semantic.min.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    <link rel="stylesheet" href="/css/prettyPhoto.css" type="text/css" media="all" />
</head>
<body id="body">
    <div class="ui vertical sidebar menu" id="toc">
        <div class="menu">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
</div>
<img id="me" src="/img/bruno.jpg" title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
    </div>
    <div class="ui black big launch right attached fixed button">
        <i class="content icon"></i>
        <span class="text">Menu</span>
    </div>
    <div class="ui fixed inverted main menu">
        <div class="ui container">
            <a class="launch icon item">
                <i class="content icon"></i>
            </a>
            <div class="item">
                None
            </div>
        </div>
    </div>
    <div class="pusher">
        <div class="full height">
            <div class="toc">
                <div class="ui vertical sticky fixed top menu">
                    <div class="menu">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
</div>
<img id="me" src="/img/bruno.jpg" title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
                </div>
            </div>
            <div class="article">
                <div class="main container">

                
                    
                    <div class='ui padded container'>
                        <h1 class='topic'>Blog</h1>
                    </div>
                    
                    <p>Posts in category &#8216;blog&#8217;</p>
<div class="ui raised padded container segment">
    <h2>Contributing to Apache Jena</h2>
    <p><small>kinow</small> @ <small>Jan 01, 2015&nbsp;18:49:03</small></p>







<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2015/01/01/contributing-to-apache-jena" data-text="Contributing to Apache Jena" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>As I mentioned in my <a href="2014/10/11/basic-workflow-of-a-sparql-query-in-fuseki.html">previous post</a>, 
I am using <a href="http://jena.apache.org">Apache Jena</a> for a project of a customer. I had never used 
any triple store, nor a SPARQL Endpoint server before. But for being involved with the Apache 
Software Foundation, and since the company itself is using several Apache components, it was only 
natural Jena to be our first choice.</p>
<p>It has served us very well so far. At the moment we have less than 100 queries per day, but the 
project is still under development and we expect 1000 queries per day by the first quarter of 
2015 and 1000000 near the end of 2015. We also have few entries in TDB, but expect to grow this 
number to a few million before 2016.</p>
<p>When I work for companies and we use Open Source Software (OSS) in a project, I always 
prepare assessment reports to include in the deliveries. In this report I justify the choice 
of Open Source Software (as well as commercial software). Sometimes I 
am lucky to work for a company that asks me to include hours to work on OSS :-)</p>
<p>I use <a href="http://trello.com">Trello</a> to triage issues in OSS projects (and for several other 
things). I have a board with several cards for Open Source. About a month ago I set up one 
for Jena and listed the issues that I thought I could contribute to. </p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2015/01/01/contributing-to-apache-jena/jena_trello.png" rel="prettyPhoto" class="thumbnail" title="Jena Trello card">
<img src="/2015/01/01/contributing-to-apache-jena/jena_trello.png" alt="Jena Trello card" />
</a>
<figcaption>Jena Trello card</i></figcaption>
</figure>
</div>
</div>

<p>I annotate easy issues with a &#8220;lhf&#8221; suffix for Low Hanging Fruit issues, and delete issues from 
the card once I submit a patch or update it (and include it in another card for the 
<a href="http://tupilabs.com/tag/tupilabs-report.html">TupiLabs reports</a>).</p>
<p>Most of the issues I included in the card for Jena had been created over two years ago, and hadn&#8217;t 
been updated in a while. When you test these issues against the current code, usually you find that 
some of them have already been fixed. Other issues included documentation problems, and minor features. I didn&#8217;t find any blocker issue that would impede us to use Jena in production.</p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2015/01/01/contributing-to-apache-jena/jena_jira.png" rel="prettyPhoto" class="thumbnail" title="Jena JIRA activity summary">
<img src="/2015/01/01/contributing-to-apache-jena/jena_jira.png" alt="Jena JIRA activity summary" />
</a>
<figcaption>Jena JIRA activity summary</figcaption>
</figure>
</div>
</div>

<p>The picture above shows the past 30 days activity summary in JIRA for Jena. The red line shows 
issues created, and the green line issues resolved. <a href="https://github.com/afs">Andy Seaborne</a> 
was very active in the past days and fixed several issues that were too old and had already been fixed in the trunk, and kindly merged patches and pull requests.</p>
<p>Some issues like <a href="https://issues.apache.org/jira/browse/JENA-632">JENA-632</a> will take a 
longer time to fix, but I&#8217;m getting used to Jena&#8217;s source code, and at the same getting more 
confident to use it in production - especially with a supportive OSS community. We are using 
Jena for RDF with Hadoop, and I learned that I can replace some custom Writables by others 
in the Jena Hadoop submodule.</p>
<p>By the way, even though this project ends in April, I intend to continue contributing to Jena. 
There is a lot of parts of the code that I would love to be able to understand and contribute, 
in special the Graph database, optimization techniques for SPARQL queries, the grammars used 
in the project, Fuseki v2 and enhance its testing harness (as well as the test coverage).</p>
<p><strong>If you are looking for a interesting project to get you started with semantics, linked data, 
RDF, and even graphs and database querying, try contributing to Jena. I bet you&#8217;ll have a lot 
of fun!</strong></p>
<p>Happy hacking and happy 2015!</p><!-- html -->

    <p class="postmetadata">

        <small>tags 
         [&nbsp;<a
            href="/tag/jena"
            rel="tag">jena</a>&nbsp;]&nbsp;

         [&nbsp;<a
            href="/tag/apache%20software%20foundation"
            rel="tag">apache software foundation</a>&nbsp;]&nbsp;

        </small>


        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/blog"
            title="View all posts in blog"
            rel="category tag">blog</a>&nbsp;]&nbsp;
        category </small>

    </p>
</div>

<div class="ui raised padded container segment">
    <h2>Basic workflow of a SPARQL query in Fuseki</h2>
    <p><small>kinow</small> @ <small>Oct 11, 2014&nbsp;20:36:33</small></p>







<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2014/10/11/basic-workflow-of-a-sparql-query-in-fuseki" data-text="Basic workflow of a SPARQL query in Fuseki" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>Before using any library or tool in a customer project, specially when it is an Open Source one, 
there are many things that I like to look at before deploying it. Basically, I look at the 
features, documentation, community, open issues (in special blockers or criticals), the time 
to release fixes and new features and, obviously, the license.</p>
<p>At the moment I&#8217;m using <a href="http://jena.apache.org">Apache Jena</a> to work with ontologies, SPARQL 
and data matching and enrichment for a customer. </p>
<p>Jena is fantastic, and similar tools include <a href="http://www.w3.org/wiki/VirtuosoUniversalServer">Virtuoso</a>, 
<a href="http://stardog.com/">StarDog</a>, <a href="http://www.ontotext.com/products/ontotext-graphdb-owlim/">GraphDB</a>, 
<a href="http://4store.org/">4Store</a> and others. From looking at the code and its community and documentation, 
Jena seems like a great choice. </p>
<p>I&#8217;m still investigating if/how we gonna need to use inference and reasoners, looking 
at the issues, and learning my way through its code base. The following is my initial mapping 
of what happens when you submit a SPARQL query to Fuseki.</p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2014/10/11/basic-workflow-of-a-sparql-query-in-fuseki/drawing1.png" rel="prettyPhoto" class="thumbnail" title="Fuseki SPARQL query work flow">
<img src="/2014/10/11/basic-workflow-of-a-sparql-query-in-fuseki/drawing1.png" alt="Fuseki SPARQL query work flow" />
</a>
<figcaption>Jena JDBC</figcaption>
</figure>
</div>
</div>

<p>My understanding is that Fuseki is just a web layer, handling a bunch of validations, logging, 
error handling, and relying on the ARQ module, that is who actually handles the requests. 
I also think a new Fuseki server is baking in the project git repo, so stay tuned for an 
updated version of this graph soon.</p>
<p>Happy hacking!</p><!-- html -->

    <p class="postmetadata">

        <small>tags 
         [&nbsp;<a
            href="/tag/sparql"
            rel="tag">sparql</a>&nbsp;]&nbsp;

         [&nbsp;<a
            href="/tag/jena"
            rel="tag">jena</a>&nbsp;]&nbsp;

        </small>


        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/blog"
            title="View all posts in blog"
            rel="category tag">blog</a>&nbsp;]&nbsp;
        category </small>

    </p>
</div>

<div class="ui raised padded container segment">
    <h2>Cypher, Gremlin and SPARQL: Graph dialects</h2>
    <p><small>kinow</small> @ <small>Sep 09, 2014&nbsp;10:14:33</small></p>







<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2014/09/09/cypher-gremlin-and-sparql-graph-dialects" data-text="Cypher, Gremlin and SPARQL: Graph dialects" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>When I was younger and my older brother was living in Germany, I asked him if he 
had learned German. He said that he did, and explained that there are several 
dialects, and he was quite proud for some people told him that he was using the 
Bavarian dialect correctly.</p>
<p>Even though <a href="http://www.neo4j.org/learn/cypher">Cypher</a>, 
<a href="http://gremlindocs.com/">Gremlin</a> and <a href="http://en.wikipedia.org/wiki/SPARQL">SPARQL</a> 
are all query languages, I think we can consider them dialects of a common graph language. 
Cypher is the query language used in <a href="http://www.neo4j.org/">neo4j</a>, a graph database. 
Gremlin is part of the <a href="http://www.tinkerpop.com/">Tinkerpop</a>, an open source project 
that contains graph server, graph algorithms, graph language, among other sub-projects. 
And last but not least, SPARQL is used to query <a href="http://en.wikipedia.org/wiki/Resource_Description_Framework">RDF documents</a>.</p>
<p>Let&#8217;s use the example of the Matrix movie provided by neo4j to take a look at the 
three languages.</p>
<h2>Cypher</h2>
<p>First we create the graph.</p>
<div class="highlight"><pre><span class="k">create</span> <span class="p">(</span><span class="n">matrix1</span><span class="p">:</span><span class="n">Movie</span> <span class="err">{</span><span class="n">id</span> <span class="p">:</span> <span class="s1">&#39;603&#39;</span><span class="p">,</span> <span class="n">title</span> <span class="p">:</span> <span class="s1">&#39;The Matrix&#39;</span><span class="p">,</span> <span class="k">year</span> <span class="p">:</span> <span class="s1">&#39;1999-03-31&#39;</span><span class="err">}</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix2</span><span class="p">:</span><span class="n">Movie</span> <span class="err">{</span><span class="n">id</span> <span class="p">:</span> <span class="s1">&#39;604&#39;</span><span class="p">,</span> <span class="n">title</span> <span class="p">:</span> <span class="s1">&#39;The Matrix Reloaded&#39;</span><span class="p">,</span> <span class="k">year</span> <span class="p">:</span> <span class="s1">&#39;2003-05-07&#39;</span><span class="err">}</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix3</span><span class="p">:</span><span class="n">Movie</span> <span class="err">{</span><span class="n">id</span> <span class="p">:</span> <span class="s1">&#39;605&#39;</span><span class="p">,</span> <span class="n">title</span> <span class="p">:</span> <span class="s1">&#39;The Matrix Revolutions&#39;</span><span class="p">,</span> <span class="k">year</span> <span class="p">:</span> <span class="s1">&#39;2003-10-27&#39;</span><span class="err">}</span><span class="p">),</span>

 <span class="p">(</span><span class="n">neo</span><span class="p">:</span><span class="n">Actor</span> <span class="err">{</span><span class="n">name</span><span class="p">:</span><span class="s1">&#39;Keanu Reeves&#39;</span><span class="err">}</span><span class="p">),</span>
 <span class="p">(</span><span class="n">morpheus</span><span class="p">:</span><span class="n">Actor</span> <span class="err">{</span><span class="n">name</span><span class="p">:</span><span class="s1">&#39;Laurence Fishburne&#39;</span><span class="err">}</span><span class="p">),</span>
 <span class="p">(</span><span class="n">trinity</span><span class="p">:</span><span class="n">Actor</span> <span class="err">{</span><span class="n">name</span><span class="p">:</span><span class="s1">&#39;Carrie-Anne Moss&#39;</span><span class="err">}</span><span class="p">),</span>

 <span class="p">(</span><span class="n">matrix1</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Neo&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">neo</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix2</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Neo&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">neo</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix3</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Neo&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">neo</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix1</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Morpheus&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">morpheus</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix2</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Morpheus&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">morpheus</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix3</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Morpheus&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">morpheus</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix1</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Trinity&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">trinity</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix2</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Trinity&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">trinity</span><span class="p">),</span>
 <span class="p">(</span><span class="n">matrix3</span><span class="p">)</span><span class="o">&lt;-</span><span class="p">[:</span><span class="n">ACTS_IN</span> <span class="err">{</span><span class="k">role</span> <span class="p">:</span> <span class="s1">&#39;Trinity&#39;</span><span class="err">}</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="n">trinity</span><span class="p">)</span>
</pre></div>

<p><code>Added 6 labels, created 6 nodes, set 21 properties, created 9 relationships, returned 0 rows in 2791 ms</code></p>

<p>And execute a simple query.</p>

<div class="highlight"><pre><span class="k">MATCH</span> <span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Actor</span> <span class="err">{</span> <span class="n">name</span><span class="p">:</span><span class="ss">&quot;Keanu Reeves&quot;</span> <span class="err">}</span><span class="p">)</span>
<span class="k">RETURN</span> <span class="n">a</span>
</pre></div>

<p><code>(9:Actor {name:"Keanu Reeves"})</code></p>

<h2>Gremlin</h2>

<p>Again, let&#8217;s start by creating our graph.</p>

<div class="highlight"><pre><span class="k">g</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TinkerGraph</span><span class="p">();</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;_id&quot;</span><span class="p">:</span><span class="mi">603</span><span class="p">,</span><span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="ss">&quot;The Matrix&quot;</span><span class="p">,</span> <span class="ss">&quot;year&quot;</span><span class="p">:</span> <span class="ss">&quot;1999-03-31&quot;</span><span class="p">]);</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;_id&quot;</span><span class="p">:</span><span class="mi">604</span><span class="p">,</span><span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="ss">&quot;The Matrix Reloaded&quot;</span><span class="p">,</span> <span class="ss">&quot;year&quot;</span><span class="p">:</span> <span class="ss">&quot;2003-05-07&quot;</span><span class="p">]);</span>
<span class="n">matrix3</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;_id&quot;</span><span class="p">:</span><span class="mi">605</span><span class="p">,</span><span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="ss">&quot;The Matrix Revolutions&quot;</span><span class="p">,</span> <span class="ss">&quot;year&quot;</span><span class="p">:</span> <span class="ss">&quot;2003-10-27&quot;</span><span class="p">]);</span>

<span class="n">neo</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;Keanu Reeves&quot;</span><span class="p">]);</span>
<span class="n">morpheus</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;Laurence Fishburne&quot;</span><span class="p">]);</span>
<span class="n">trinity</span> <span class="o">=</span> <span class="k">g</span><span class="p">.</span><span class="n">addVertex</span><span class="p">([</span><span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;Carrie-Anne Moss&quot;</span><span class="p">]);</span>

<span class="n">neo</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">);</span> 
<span class="n">neo</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">);</span> 
<span class="n">neo</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">);</span> 
<span class="n">morpheus</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">);</span> 
<span class="n">morpheus</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">);</span> 
<span class="n">morpheus</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">);</span> 
<span class="n">trinity</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">);</span> 
<span class="n">trinity</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">);</span> 
<span class="n">trinity</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="ss">&quot;actsIn&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">);</span>
</pre></div>

<p>And execute a simple query.</p>

<div class="highlight"><pre><span class="k">g</span><span class="p">.</span><span class="n">V</span><span class="p">.</span><span class="n">has</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Keanu Reeves&#39;</span><span class="p">).</span><span class="k">map</span>
</pre></div>

<p><code>gremlin&gt; g.V.has('name', 'Keanu Reeves').map
==&gt;{name=Keanu Reeves}
gremlin&gt;</code></p>

<p>Quite similar to neo4j.</p>

<h2>SPARQL</h2>

<p>Let&#8217;s load our example (thanks to <a href="https://twitter.com/kendall">Kendall G. Clark</a>). I used 
<a href="http://jena.apache.org/documentation/serving_data/">Fuseki</a> to run these queries.</p>

<div class="highlight"><pre>@prefix :          <span class="nt">&lt;http:</span><span class="err">//example.org/matrix</span><span class="nt">/&gt;</span> .

 :m1 a :Movie; :title &quot;The Matrix&quot;; :year &quot;1999-03-31&quot;.
 :m2 a :Movie; :title &quot;The Matrix Reloaded&quot;; :year &quot;2003-05-07&quot;.
 :m3 a :Movie; :title &quot;The Matrix Revolutions&quot;; :year &quot;2003-10-27&quot;.

 :neo a :Actor; :name &quot;Keanu Reeves&quot;.
 :morpheus a :Actor; :name &quot;Laurence Fishburne&quot;.
 :trinity a :Actor; :name &quot;Carrie-Anne Moss&quot;.

 :neo :hasRole [:as &quot;Neo&quot;; :in :m1].
 :neo :hasRole [:as &quot;Neo&quot;; :in :m2].
 :neo :hasRole [:as &quot;Neo&quot;; :in :m2].
 :morpheus :hasRole [:as &quot;Morpheus&quot;; :in :m1].
 :morpheus :hasRole [:as &quot;Morpheus&quot;; :in :m2].
 :morpheus :hasRole [:as &quot;Morpheus&quot;; :in :m2].
 :trinity :hasRole [:as &quot;Trinity&quot;; :in :m1].
 :trinity :hasRole [:as &quot;Trinity&quot;; :in :m2].
 :trinity :hasRole [:as &quot;Trinity&quot;; :in :m2].
</pre></div>

<p>And finally the SPARQL query.</p>

<div class="highlight"><pre><span class="k">SELECT</span> <span class="o">?</span><span class="n">a</span> <span class="k">WHERE</span> <span class="err">{</span>
   <span class="o">?</span><span class="n">a</span> <span class="n">a</span> <span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">matrix</span><span class="o">/</span><span class="n">Actor</span><span class="o">&gt;</span> <span class="p">.</span>
   <span class="o">?</span><span class="n">a</span> <span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">matrix</span><span class="o">/</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">?</span><span class="n">name</span> <span class="p">.</span>
   <span class="n">FILTER</span><span class="p">(</span><span class="o">?</span><span class="n">name</span>  <span class="o">=</span> <span class="ss">&quot;Keanu Reeves&quot;</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p>Returning the Keanu Reeves actor instance.</p>

<pre>-----------------------------------
| a                               |
===================================
| &lt;http://example.org/matrix/neo&gt; |
-----------------------------------</pre>

<p>SPARQL supports inference (or I must say that OWL, RDFS and the reasoners do), 
but it is easier to define the depth of a search in the graph using neo4j. As for 
Gremlin, it has native support to Groovy and Java. There is a common denominator 
for these three languages, but what makes them really powerful are their unique features. </p>

<p>I hope you enjoyed, and that this post gave you a quick overview of some of the existing 
graph languages. Make sure you ponder the pros and cons of each server/language, and 
make the best decision for your project. Take a look at <a href="http://en.wikipedia.org/wiki/Graph_database#APIs_and_Graph_Query.2FProgramming_Languages">other graph query languages</a> too.</p>

<p>Happy hacking!</p>

<p><hr />
<p>This post has been updated as suggested by <a href="https://twitter.com/kendall">@kendall</a> (Thank you!).
You can check the diff at <a href="https://github.com/kinow/kinoshita.eti.br/commits/master/site/_content/posts/2014-09-09_cypher-gremlin-and-sparql-graph-dialects.html">GitHub</a></p><!-- html --></p>
<pre><code>&lt;p class="postmetadata"&gt;

    &lt;small&gt;tags 
     [&amp;nbsp;&lt;a
        href="/tag/graphs"
        rel="tag"&gt;graphs&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

     [&amp;nbsp;&lt;a
        href="/tag/neo4j"
        rel="tag"&gt;neo4j&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

     [&amp;nbsp;&lt;a
        href="/tag/gremlin"
        rel="tag"&gt;gremlin&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

     [&amp;nbsp;&lt;a
        href="/tag/sparql"
        rel="tag"&gt;sparql&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

    &lt;/small&gt;


    &lt;br/&gt;
    &lt;small&gt;posted in 
    [&amp;nbsp;&lt;a
        href="/blog"
        title="View all posts in blog"
        rel="category tag"&gt;blog&lt;/a&gt;&amp;nbsp;]&amp;nbsp;
    category &lt;/small&gt;

&lt;/p&gt;
</code></pre>
</div>

<div class="ui raised padded container segment">
    <h2>Strings transliteration in Java with Apache Commons Lang</h2>
    <p><small>kinow</small> @ <small>Aug 09, 2014&nbsp;12:49:33</small></p>







<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2014/08/09/strings-transliteration-in-java-with-apache-commons-lang" data-text="Strings transliteration in Java with Apache Commons Lang" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p><a href="http://rosalind.info">Rosalind</a> is a website with a curated set of exercices for bioinformatics, organized hierarchily. 
In some of these examples you are required to replace characters (nucleotides) by other characters. It is a rather common 
task for developers, like when you need to replace special characters in user&#8217;s names.</p>
<p>There are different ways of describing it, such as translate, replace, or <strong><a href="http://en.wikipedia.org/wiki/Transliteration">transliterate</a></strong>. The latter being my favorite definition. </p>
<p>In Python I know that there are several different ways of transliterating strings 
[<a href="https://pypi.python.org/pypi/transliterate">1</a>][<a href="http://blog.lebowtech.com/blog/programming/python/transliterate-with-python.html">2</a>]. But in Java I always ended up using a Map or a Enum and writing my own method in some <em>Util</em> class for that.</p>
<p>Turns out that <a href="http://commons.apache.org">Apache Commons Lang</a>, which I use in most of my projects, 
provided this feature. What means that I will be able to reduce the length of my code, what also means 
less code to be tested (and one less place to look for bugs).</p>
<div class="highlight"><pre><span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">StringUtils</span><span class="o">.</span><span class="na">replaceChars</span><span class="o">(</span><span class="s">&quot;ATGCATGC&quot;</span><span class="o">,</span> <span class="s">&quot;GTCA&quot;</span><span class="o">,</span> <span class="s">&quot;CAGT&quot;</span><span class="o">);</span> <span class="c1">// &quot;TACGTACG&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
</pre></div>

<p>What the code above does, is replace G by C, T by A, C by G and A by T. This process is part of finding the 
<a href="http://www.bioinformatics.org/sms/rev_comp.html">DNA reverse complement</a>. But you can also use this for replacing 
special characters, spaces by _, and so it goes.</p>
<p>Happy hacking!</p><!-- html -->

    <p class="postmetadata">

        <small>tags 
         [&nbsp;<a
            href="/tag/java"
            rel="tag">java</a>&nbsp;]&nbsp;

         [&nbsp;<a
            href="/tag/apache%20software%20foundation"
            rel="tag">apache software foundation</a>&nbsp;]&nbsp;

         [&nbsp;<a
            href="/tag/bioinformatics"
            rel="tag">bioinformatics</a>&nbsp;]&nbsp;

        </small>


        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/blog"
            title="View all posts in blog"
            rel="category tag">blog</a>&nbsp;]&nbsp;
        category </small>

    </p>
</div>

<div class="ui raised padded container segment">
    <h2>Treemapping Jenkins Extension Points with R</h2>
    <p><small>kinow</small> @ <small>May 19, 2014&nbsp;00:51:33</small></p>







<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2014/05/19/treemapping-jenkins-extension-points-with-r" data-text="Treemapping Jenkins Extension Points with R" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>I have been playing with R and its packages for some time, and decided to study it a 
bit harder. Last week I started reading the <a href="http://adv-r.had.co.nz/">Advanced R Programming</a> 
by Hadley Wickham. </p>
<p>One of the first chapters talks about the basic data structures in R. In order to 
get my feet wet I thought about a simple example: <a href="http://en.wikipedia.org/wiki/Treemapping">treemapping</a> 
Jenkins extension points. </p>
<p style="text-align: center;"><a href="/2014/05/19/treemapping-jenkins-extension-points-with-r/extension_points.png"><img src="/2014/05/19/treemapping-jenkins-extension-points-with-r/extension_points.png" width="600px" alt="Treemap graph" /></a></p>

<p>There is a <a href="https://wiki.jenkins-ci.org/display/JENKINS/Extension+points">Wiki page with the extension points in Jenkins</a> (what parts of Jenkins can be customized) 
and its implementations. That page is generated by a <a href="https://ci.jenkins-ci.org/view/Infrastructure/job/infra_extension-indexer/">Jenkins job</a>. </p>
<p>That job outputs a JSON file that contains each available extension points, as well as 
an array with its implementations. The R code below will produce two vectors, one with the 
count of implementations of each extension point, and the other with the class name.</p>
<div class="highlight"><pre>nExtensionPoints <span class="o">&lt;-</span> <span class="kp">length</span><span class="p">(</span>extensionPointsJson<span class="o">$</span>extensionPoints<span class="p">)</span>
numberOfImplementations <span class="o">&lt;-</span> <span class="kt">vector</span><span class="p">(</span>length <span class="o">=</span> nExtensionPoints<span class="p">)</span>
namesOfTheExtensionPoints <span class="o">&lt;-</span> <span class="kt">vector</span><span class="p">(</span>length <span class="o">=</span> nExtensionPoints<span class="p">)</span>
<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="kp">seq_along</span><span class="p">(</span>extensionPoints<span class="p">))</span> <span class="p">{</span>
  extensionName <span class="o">=</span> extensionPoints<span class="p">[[</span>i<span class="p">]]</span><span class="o">$</span>className
  lastIndexOfDot <span class="o">=</span> <span class="kp">regexpr</span><span class="p">(</span><span class="s">&quot;\\.[^\\.]*$&quot;</span><span class="p">,</span> extensionName<span class="p">)</span>
  namesOfTheExtensionPoints<span class="p">[[</span>i<span class="p">]]</span> <span class="o">=</span> <span class="kp">substr</span><span class="p">(</span>extensionName<span class="p">,</span> lastIndexOfDot<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="m">+1</span><span class="p">,</span> <span class="kp">nchar</span><span class="p">(</span>extensionName<span class="p">))</span>
  numberOfImplementations<span class="p">[[</span>i<span class="p">]]</span> <span class="o">=</span> <span class="kp">length</span><span class="p">(</span>extensionPoints<span class="p">[[</span>i<span class="p">]]</span><span class="o">$</span>implementations<span class="p">)</span>
  <span class="kp">print</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span>namesOfTheExtensionPoints<span class="p">[[</span>i<span class="p">]],</span> <span class="s">&quot; -&gt; &quot;</span><span class="p">,</span> numberOfImplementations<span class="p">[[</span>i<span class="p">]]))</span>
<span class="p">}</span>
</pre></div>

<p>For creating the treemap I used the <strong><a href="http://flowingdata.com/2010/02/11/an-easy-way-to-make-a-treemap/">portfolio package</a></strong>, and the <code>map.market</code> 
function. The structures previously created and the next snippet of code are all that is 
needed to create the treemap of the Jenkins extension points.</p>
<div class="highlight"><pre>map.market<span class="p">(</span>id<span class="o">=</span><span class="kp">seq_along</span><span class="p">(</span>extensionPoints<span class="p">),</span> area<span class="o">=</span>numberOfImplementations<span class="p">,</span> group<span class="o">=</span>namesOfTheExtensionPoints<span class="p">,</span> color<span class="o">=</span>numberOfImplementations<span class="p">,</span> main<span class="o">=</span><span class="s">&quot;Jenkins Extension Points&quot;</span><span class="p">)</span>
</pre></div>

<p>You can also use the <a href="https://wiki.jenkins-ci.org/display/JENKINS/R+Plugin">Jenkins R Plug-in</a> to produce this graph, 
as in this <a href="http://builds.tupilabs.com/job/backend-extension-points-treemap/2/">sample job</a>. 
You can get the complete script in this <a href="https://gist.github.com/kinow/d5a2221c32dce3aa1076">gist</a>, or just 
copy it here.</p>
<div class="highlight"><pre><span class="kn">library</span><span class="p">(</span><span class="s">&#39;rjson&#39;</span><span class="p">)</span>
<span class="kn">library</span><span class="p">(</span><span class="s">&#39;portfolio&#39;</span><span class="p">)</span>

download.file<span class="p">(</span>url<span class="o">=</span><span class="s">&quot;https://ci.jenkins-ci.org/view/Infrastructure/job/infra_extension-indexer/ws/extension-points.json&quot;</span><span class="p">,</span> destfile<span class="o">=</span><span class="s">&quot;extension-points.json&quot;</span><span class="p">,</span> method<span class="o">=</span><span class="s">&quot;wget&quot;</span><span class="p">)</span>
extensionPointsJson <span class="o">&lt;-</span> fromJSON<span class="p">(</span><span class="kp">paste</span><span class="p">(</span><span class="kp">readLines</span><span class="p">(</span><span class="s">&quot;extension-points.json&quot;</span><span class="p">),</span> collapse<span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">))</span>
extensionPoints <span class="o">&lt;-</span> extensionPointsJson<span class="o">$</span>extensionPoints
nExtensionPoints <span class="o">&lt;-</span> <span class="kp">length</span><span class="p">(</span>extensionPointsJson<span class="o">$</span>extensionPoints<span class="p">)</span>
numberOfImplementations <span class="o">&lt;-</span> <span class="kt">vector</span><span class="p">(</span>length <span class="o">=</span> nExtensionPoints<span class="p">)</span>
namesOfTheExtensionPoints <span class="o">&lt;-</span> <span class="kt">vector</span><span class="p">(</span>length <span class="o">=</span> nExtensionPoints<span class="p">)</span>
<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="kp">seq_along</span><span class="p">(</span>extensionPoints<span class="p">))</span> <span class="p">{</span>
  extensionName <span class="o">=</span> extensionPoints<span class="p">[[</span>i<span class="p">]]</span><span class="o">$</span>className
  lastIndexOfDot <span class="o">=</span> <span class="kp">regexpr</span><span class="p">(</span><span class="s">&quot;\\.[^\\.]*$&quot;</span><span class="p">,</span> extensionName<span class="p">)</span>
  namesOfTheExtensionPoints<span class="p">[[</span>i<span class="p">]]</span> <span class="o">=</span> <span class="kp">substr</span><span class="p">(</span>extensionName<span class="p">,</span> lastIndexOfDot<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="m">+1</span><span class="p">,</span> <span class="kp">nchar</span><span class="p">(</span>extensionName<span class="p">))</span>
  numberOfImplementations<span class="p">[[</span>i<span class="p">]]</span> <span class="o">=</span> <span class="kp">length</span><span class="p">(</span>extensionPoints<span class="p">[[</span>i<span class="p">]]</span><span class="o">$</span>implementations<span class="p">)</span>
  <span class="kp">print</span><span class="p">(</span><span class="kp">paste</span><span class="p">(</span>namesOfTheExtensionPoints<span class="p">[[</span>i<span class="p">]],</span> <span class="s">&quot; -&gt; &quot;</span><span class="p">,</span> numberOfImplementations<span class="p">[[</span>i<span class="p">]]))</span>
<span class="p">}</span>
png<span class="p">(</span>filename<span class="o">=</span><span class="s">&quot;extension-points.png&quot;</span><span class="p">,</span> width<span class="o">=</span><span class="m">2048</span><span class="p">,</span> height<span class="o">=</span><span class="m">1536</span><span class="p">,</span> units<span class="o">=</span><span class="s">&quot;px&quot;</span><span class="p">,</span> bg<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">)</span>
map.market<span class="p">(</span>id<span class="o">=</span><span class="kp">seq_along</span><span class="p">(</span>extensionPoints<span class="p">),</span> area<span class="o">=</span>numberOfImplementations<span class="p">,</span> group<span class="o">=</span>namesOfTheExtensionPoints<span class="p">,</span> color<span class="o">=</span>numberOfImplementations<span class="p">,</span> main<span class="o">=</span><span class="s">&quot;Jenkins Extension Points&quot;</span><span class="p">)</span>
dev.off<span class="p">()</span>
</pre></div>

<!-- html -->

<pre><code>&lt;p class="postmetadata"&gt;

    &lt;small&gt;tags 
     [&amp;nbsp;&lt;a
        href="/tag/jenkins"
        rel="tag"&gt;jenkins&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

     [&amp;nbsp;&lt;a
        href="/tag/r"
        rel="tag"&gt;r&lt;/a&gt;&amp;nbsp;]&amp;nbsp;

    &lt;/small&gt;


    &lt;br/&gt;
    &lt;small&gt;posted in 
    [&amp;nbsp;&lt;a
        href="/blog"
        title="View all posts in blog"
        rel="category tag"&gt;blog&lt;/a&gt;&amp;nbsp;]&amp;nbsp;
    category &lt;/small&gt;

&lt;/p&gt;
</code></pre>
</div>

<div id="navigation">

        &larr;&nbsp;<a href="//blog/9" id="navigation-next">Older Entries</a>


        &mdash; <a href="//blog/7" id="navigation-next">Newer Entries</a>&nbsp;&rarr;

</div>
                    <p class="postmetadata">
                        
                        
                    </p>
                
                </div>
            </div>
        </div>
        <div class="ui vertical footer segment">
            <div class="ui center aligned container">
                           <div id="copy" class="">
                <p>&copy; <a href="/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
            </div>
         </div>
    </div>
</body>
</html>
<script src="/js/jquery-2.2.3.min.js"  type="text/javascript"></script>
    <script src="/css/semantic/dist/semantic.min.js"  type="text/javascript"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
    $("a[rel^='prettyPhoto']").prettyPhoto({
        social_tools: false,
        autoplay_slideshow: false, 
        hideflash: true, 
        autoplay: false, 
        overlay_gallery: false
    });

    $("#toc")
        .sidebar({
          dimPage          : true,
          transition       : 'overlay',
          mobileTransition : 'uncover'
        })
    ;

    $("#toc")
        .sidebar('attach events', '.launch.button, .view-ui, .launch.item')
    ;
  });
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32767310-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
