  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <title>Bruno P. Kinoshita</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Bruno de Paula Kinoshita personal web site" />
    <meta name="keywords"
        content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache, open source, codigo livre, codigo aberto" />
    <meta name="author" content="" />
    <meta name="generator" content="PieCrust 3.2.1" />
    <meta name="template-engine" content="Twig" />
    <meta name="robots" content="all=index,follow" />
    <meta name="revisit-after" content="15 days" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="distribution" content="Global" />
    <meta name="url" content="/" />
    <meta name="copyright" content="Bruno de Paula Kinoshita" />
    <meta name="Googlebot" content="all" />
    <meta name="rating" content="general" />
    <meta http-equiv="expires" content="0" />
    <meta name="city" content="Sao Paulo" />
    <meta name="state" content="Brasil, Sao Paulo" />
    <meta http-equiv="content-language" content="en" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta id="page_favicon" href="/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="/feed.xml" />
    <link rel="stylesheet" href="/css/semantic/dist/semantic.min.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    <link rel="stylesheet" href="/css/prettyPhoto.css" type="text/css" media="all" />
</head>
<body id="body">
    <div class="ui vertical sidebar menu" id="toc">
        <nav class="menu" role="navigation">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/art">Art</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
    <div class="item">
        <a href="/about/">About</a>
    </div>
</nav>
<img src="/img/bruno.jpg" title="Hmmmm" alt="My picture" width="134px" height="215px" />
    </div>
    <div class="ui black big launch right attached fixed button">
        <i class="content icon"></i>
        <span class="text">Menu</span>
    </div>
    <div class="ui fixed inverted main menu">
        <div class="ui container">
            <a class="launch icon item">
                <i class="content icon"></i>
            </a>
            <div class="item">
                
            </div>
        </div>
    </div>
    <div class="pusher">
        <div class="full height">
            <div class="toc">
                <div class="ui vertical sticky fixed top menu">
                    <nav class="menu" role="navigation">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/art">Art</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
    <div class="item">
        <a href="/about/">About</a>
    </div>
</nav>
<img src="/img/bruno.jpg" title="Hmmmm" alt="My picture" width="134px" height="215px" />
                </div>
            </div>
            <div class="article">
                <div class="main container" role="main">
                    <!-- right fixed menu -->
                    <div class="ui dividing right rail" id="taxonomy">
                        <div class="ui sticky fixed top">
                            <br/>
                            <h4>Blog Taxonomy</h4>
                            <nav id="tag-cloud" class="sidebar-box" role="complementary">
                              
                              <span style="font-size: 23.0pt"><a href="/tag/apache%20software%20foundation">apache software foundation</a></span>&nbsp;(26)
                              
                              <span style="font-size: 14.0pt"><a href="/tag/cylc">cylc</a></span>&nbsp;(8)
                              
                              <span style="font-size: 17.0pt"><a href="/tag/illustrations">illustrations</a></span>&nbsp;(14)
                              
                              <span style="font-size: 27.5pt"><a href="/tag/java">java</a></span>&nbsp;(35)
                              
                              <span style="font-size: 23.0pt"><a href="/tag/jenkins">jenkins</a></span>&nbsp;(26)
                              
                              <span style="font-size: 31.0pt"><a href="/tag/opensource">opensource</a></span>&nbsp;(42)
                              
                              <span style="font-size: 27.5pt"><a href="/tag/programming">programming</a></span>&nbsp;(35)
                              
                              <span style="font-size: 18.5pt"><a href="/tag/python">python</a></span>&nbsp;(17)
                              
                              <span style="font-size: 24.5pt"><a href="/tag/software%20quality">software quality</a></span>&nbsp;(29)
                              
                              <span style="font-size: 16.5pt"><a href="/tag/testlink">testlink</a></span>&nbsp;(13)
                              
                            </nav>
                            
                        </div>
                    </div>
                

Posts in category 'blog'




<div class="ui raised padded container segment">
    <h2><a href="/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard" title="Permanent link">My favourite Star Trek captain: Jean-Luc Picard</a></h2>
    <p><small>kinow</small> @ <small>Aug 03, 2017&nbsp;21:52:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard" data-text="My favourite Star Trek captain: Jean-Luc Picard" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>My favourite Star Trek captain: <a href="http://www.startrek.com/database_article/picard-jean-luc">Jean-Luc Picard</a>.</p>
<blockquote>&ldquo;Space, the final frontier. These are the voyages of the starship Enterprise. Its continuing mission: to explore strange new worlds, to seek out new life and new civilizations, to boldly go where no one has gone before!&rdquo;</blockquote>

<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard/jeanlucpicard.jpg" rel="prettyPhoto" class="thumbnail" title="Jean-Luc Picard">
<img style="height: 400px;" class="ui image" src="/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard/jeanlucpicard.jpg" alt="Jean-Luc Picard" />
</a>
<figcaption>Jean-Luc Picard</figcaption>
</figure>
</div>
</div>

<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard/jeanlucpicard-photo.jpg" rel="prettyPhoto" class="thumbnail" title="Jean-Luc Picard">
<img style="height: 400px;" class="ui image" src="/2017/08/03/my-favourite-star-trek-captain-jean-luc-picard/jeanlucpicard-photo.jpg" alt="Jean-Luc Picard" />
</a>
<figcaption>Jean-Luc Picard</figcaption>
</figure>
</div>
</div>

<p>2B pencil, rubber eraser, blending stump, and HB 0.3 mechanical pencil. Yellow-ish layer added adjusting LAB colour space in GIMP.</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/science%20fiction"
        rel="tag">science fiction</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/illustrations"
        rel="tag">illustrations</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/06/27/drawing-archer" title="Permanent link">Drawing Archer</a></h2>
    <p><small>kinow</small> @ <small>Jun 27, 2017&nbsp;00:09:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/06/27/drawing-archer" data-text="Drawing Archer" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>Archer, from <a href="https://www.reddit.com/r/redditgetsdrawn/comments/4cwiyf/flinging_arrows_in_humid_louisiana_yesterday_my/">redditgetsdrawn</a>.</p>
<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/06/27/drawing-archer/archer1.png" rel="prettyPhoto" class="thumbnail" title="Archer drawing">
<img style="height: 400px;" class="ui image" src="/2017/06/27/drawing-archer/archer1.png" alt="Archer drawing" />
</a>
<figcaption>Archer drawing</figcaption>
</figure>
</div>
</div>

<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/06/27/drawing-archer/sBcgBwm6ZuoLOjHPf_tAS5kp6qRxUxhTpZUWj9tuADs.jpg" rel="prettyPhoto" class="thumbnail" title="Archer photo">
<img style="height: 400px;" class="ui image" src="/2017/06/27/drawing-archer/sBcgBwm6ZuoLOjHPf_tAS5kp6qRxUxhTpZUWj9tuADs.jpg" alt="Archer photo" />
</a>
<figcaption>Archer photo</figcaption>
</figure>
</div>
</div>

<p>Simplified and changed her angle. On <a href="http://kinow.deviantart.com/art/Archer1-688782846">DeviantArt</a> too.</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/illustrations"
        rel="tag">illustrations</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/04/24/drawing-sketch-page-036" title="Permanent link">Drawing sketch: Page 036</a></h2>
    <p><small>kinow</small> @ <small>Apr 24, 2017&nbsp;00:41:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/04/24/drawing-sketch-page-036" data-text="Drawing sketch: Page 036" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <div class='row'>
<div class="ui container" style='text-align: center;'>
<figure>
<a href="/2017/04/24/drawing-sketch-page-036/sketch-book-036.jpg" rel="prettyPhoto" class="thumbnail" title="Page 036">
<img class="ui fluid image" src="/2017/04/24/drawing-sketch-page-036/sketch-book-036.jpg" alt="Page 036" />
</a>
<figcaption>Page 036</figcaption>
</figure>
</div>
</div>

<p>Almost ANZAC day. And almost time to switch back to coding Jenkins plug-ins.</p>
<p>Normally sketch more in-between development cycles for Open Source projects, or
contract works.</p>
<ul>
<li><a href="http://animals.nationalgeographic.com/animals/invertebrates/krill/">Krill</a>: Krill are small crustaceans of the order Euphausiacea, and are found in all the world&#8217;s oceans. The name krill comes from the Norwegian word krill, meaning &#8220;small fry of fish&#8221;, which is also often attributed to species of fish.</li>
<li><a href="http://nzbirdsonline.org.nz/species/tui">Tui</a>: Tui are boisterous, medium-sized, common and widespread bird of forest and suburbia – unless you live in Canterbury. They look black from a distance, but in good light tui have a blue, green and bronze iridescent sheen, and distinctive white throat tufts (poi). They are usually very vocal, with a complicated mix of tuneful notes interspersed with coughs, grunts and wheezes. In flight, their bodies slant with the head higher than the tail, and their noisy whirring flight is interspersed with short glides.</li>
<li><a href="http://www.goodreads.com/quotes/209171-at-bottom-you-see-we-are-not-homo-sapiens-as">Fatigue or Craziness</a>: Lots of crazy people on Queen Street during holidays.</li>
</ul><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/illustrations"
        rel="tag">illustrations</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue" title="Permanent link">Troubleshooting a Jenkins Plug-in compatibility issue</a></h2>
    <p><small>kinow</small> @ <small>Apr 17, 2017&nbsp;21:01:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue" data-text="Troubleshooting a Jenkins Plug-in compatibility issue" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>This post is probably different from others. I will give a TL;DR, but will then
give you a copy of
<a href="https://issues.jenkins-ci.org/browse/JENKINS-42655?focusedCommentId=291470&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-291470">a comment of a Jenkins JIRA issue</a>.
Hope you have fun reading it,
specially if you maintain Jenkins servers or plug-ins.</p>
<p>TL;DR: there was an issue in Jenkins Job DSL Plug-in, that caused jobs created to
have an invalid script. The fix had not been released, but was already in the
master branch in GitHub.</p>
<p style="text-align: center; color: #DDDDDD;">&diams;</p>

<p><em>Well, that was fun bug reproduced, I believe I know why that&#8217;s happening. Not so complicated to fix&#8230; but no fast way to fix it. Here&#8217;s the issue analysis (grab a coffee to read it).</em></p>
<ul>
<li><em>Downloaded jenkins.war (2.32.3.war)</em></li>
<li><em>mkdir /tmp/123</em></li>
<li><em>JENKINS_HOME=/tmp/123 java -jar jenkins.war</em></li>
<li><em>Entered secret into form and submitted</em></li>
<li><em>Installed suggested plugins (boy that takes a while)</em></li>
<li><em>Created temp user</em></li>
<li><em>Installed (without restart) active-choices-plugin 1.5.3</em></li>
<li><em>Installed (without restart) job-dsl-plugin</em></li>
<li><em>Manually stopped Jenkins, and started it again with same command #3</em></li>
<li><em>Log in with user, all looking good</em></li>
<li><em>Created Freestyle job JENKINS-42655 (see attached config.xml)</em></li>
<li><em>Executed job, and found new job JENKINS-42655-1</em></li>
<li><em>Never opened the job configuration, clicked on the &#8220;Generated Items link to JENKINS-42655-1&#8221; to open in a new tab</em></li>
<li><em>Clicked on Build with Parameters</em></li>
<li><em>Looked at logs, and noticed the security-script-plugin exceptions</em></li>
<li><em>Went to &#8220;Manage Jenkins&#8221; / &#8220;In-process Script Approval&#8221; and approved scripts</em></li>
<li><em>Went back to the JENKINS-42655-1 build with parameters screen, and everything worked as expected</em></li>
</ul>
<p>*<em>Hummm. Issue more or less reproduced. Let&#8217;s investigate more.</em></p>
<ul>
<li><em>Restarted Jenkins again</em></li>
<li><em>Changed the JENKINS-42655 seed job configuration to use a different script</em></li>
<li><em>Copied the config.xml file to another location</em></li>
<li><em>Went to build with parameters, and now it was broken again</em></li>
<li><em>Saved the job manually</em></li>
<li><em>Copied the config.xml file to yet another location</em></li>
<li><em>Went to build with parameters, and now it worked as reported in this issue</em></li>
</ul>
<p><em>Now comes the interesting part. Looking at the diff. Attaching a screen shot so that others can have fun looking at it too. I installed Kompare as it has some cool features such as disabling diff for white spaces, blank lines, etc. The whole file changes as you save it. But if you ignore the number of white spaces&#8230; Then you can see that the Job DSL Plug-in is creating a &lt;script&gt; tag, as we used to do before 1.5 I think.</em></p>
<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png" rel="prettyPhoto" class="thumbnail" title="Screen shot">
<img style="height: 400px;" class="ui image" src="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png" alt="Screen shot" />
</a>
<figcaption>Screen shot</figcaption>
</figure>
</div>
</div>

<p><em>Now we use the script-security-plugin. So we need to wrap that around the script-security-plugin&#8217;s tags. Will report an issue for job-dsl-plugin, and will probably submit a pull request in the next days too. There&#8217;s not much left we can change in the plug-in code for that Piotr Tempes, so I&#8217;m afraid you will have to:</em></p>
<ul>
<li><em>keep saving the job</em></li>
<li><em>perhaps work on the fix for Job DSL if you feel like doing it (as you could probably be faster than me in submitting the PR)</em></li>
<li><em>use an older version of the active-choices-plugin that doesn&#8217;t use security-script-plugin, though you could be bitten by other old bugs</em></li>
<li><em>write some script to replace the &lt;script&gt; tag and wrap it by the secureScript (doing what the pull request will do automatically later)</em></li>
</ul>
<p><em>Sorry for not being able to quickly provide any workaround, nor to cut a quick bugfix release.</em></p>
<p><em>Cheers</em>
<em>Bruno</em></p>
<p style="text-align: center; color: #DDDDDD;">&diams;</p>

<p>ps: When I started getting involved in Open Source, I always felt extremely happy when
people would spend their time troubleshooting my issues, or just educating me on how to
behave in an Open Source community, or even how I should have troubleshooted initially
the issue myself. So whenever I have time, I try to write detailed and polite replies. The
person posting the comment is my past. The person posting the comment is my future :-)
<a href="http://revistaepoca.globo.com/Revista/Epoca/0,,EMI96818-15230,00.html">Kindness begets kindness</a>.</p>
<p>&hearts; Open Source</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/jenkins"
        rel="tag">jenkins</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/opensource"
        rel="tag">opensource</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/04/14/writing-a-binary-parser-in-python-numpy-vs-construct" title="Permanent link">Writing a binary parser in Python: NumPy vs. Construct</a></h2>
    <p><small>kinow</small> @ <small>Apr 14, 2017&nbsp;19:21:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/04/14/writing-a-binary-parser-in-python-numpy-vs-construct" data-text="Writing a binary parser in Python: NumPy vs. Construct" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>Some time ago I worked with researchers to write a parser for an old data format. The data
was generated by device (radiosonde) using the vendor (Vaisala) specific binary format.</p>
<p>One of the researchers told me someone had written a parser for his work, and shared it
on GitHub. To be honest, that was my first time parsing data in binary with Python. Did
that before with C, C++, Perl, and Java, but never with Python.</p>
<p>The code on GitHub used <a href="http://www.numpy.org/">NumPy</a> and looked similar to this one.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">parse_header</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span> <span class="p">[</span> <span class="p">((</span><span class="s1">&#39;field_a&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;field_b&#39;</span><span class="p">,</span> <span class="s1">&#39;17b1&#39;</span><span class="p">)</span> <span class="p">]</span> <span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;input.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">header</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">parse_header</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># ...</span>
</pre></div>

<p>And it indeed worked fine. But in the end I used the code - after contacting the author and letting
him know what I was about to do - as reference together with an old specification document
for the format, and created a parser with <a href="https://construct.readthedocs.io/en/latest/">Construct</a>.</p>
<p>From Construct&#8217;s website:</p>
<blockquote>
<p>Construct is a powerful declarative parser (and builder) for binary data.</p>
</blockquote>
<p>This is what the code with construct looked like.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">construct</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">parse_header</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="s2">&quot;parse_header&quot;</span><span class="p">,</span>
    <span class="n">Enum</span><span class="p">(</span><span class="n">Byte</span><span class="p">(</span><span class="s2">&quot;file_ready&quot;</span><span class="p">),</span>
        <span class="n">READY</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">NOT_READY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">_default_</span> <span class="o">=</span> <span class="s2">&quot;UNKNOWN&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">Bytes</span><span class="p">(</span><span class="s2">&quot;reserved&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># ...</span>

<span class="n">parse_contents</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="s2">&quot;parse_contents&quot;</span><span class="p">,</span>
    <span class="n">parse_header</span><span class="p">,</span>
    <span class="n">Range</span><span class="p">(</span><span class="n">mincount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">maxcout</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">subcon</span><span class="o">=</span><span class="n">pre_data</span><span class="p">),</span>
    <span class="n">OptionalGreedyRange</span><span class="p">(</span><span class="n">detailed_data</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;input.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">parse_results</span> <span class="o">=</span> <span class="n">parse_contents</span><span class="o">.</span><span class="n">parse_stream</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
    <span class="c1"># ...</span>
</pre></div>

<p>Writing the parser with NumPy or Construct would achieve the same result. However, in the end
this came down to personal preference, and my point of view as Software Engineer. This is the
description of NumPy.</p>
<blockquote>
<p>NumPy is the fundamental package for scientific computing with Python.</p>
</blockquote>
<p>NumPy is a project tailored for scientific computing, with a focus on linear algebra,
N-dimensional arrays, and so it goes. While it contains code that can parse binary data,
the footprint added to a project that includes it as dependency is quite big.</p>
<p>The parser written with NumPy wasn&#8217;t using 5% of the NumPy code base. Probably less than 1%. Updates
to NumPy could break the application compatibility, even if the update came due to some new
matrix operation added to NumPy through some external and missing dependency.</p>
<p>In Java something similar happens with Google Guava. While I use it some times, most of the
times I find myself using one of the Apache Commons libraries, or another dependency
with just what I need. To avoid including unnecessary code to my application.</p>
<p>If you prefer to use NumPy that&#8217;s fine too :-) I just had the time enough to rewrite it
instead of using the NumPy (took a couple of hours). In other cases it may still
make sense to use another tool or library, even if it was not made specifically for the
job ¯\<em>(ツ)</em>/¯</p>
<p>&hearts; Open Source</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/python"
        rel="tag">python</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/opensource"
        rel="tag">opensource</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div id="navigation">
    
        &larr;&nbsp;<a href="//blog/2" id="navigation-next">Older Entries</a>
    
    
</div>



               </div>
            </div>
        </div>
        <div class="ui vertical footer segment" id="footer">
            <div class="ui center aligned container">
                           <div id="copy" class="">
                <p>&copy; <a href="/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
            </div>
         </div>
    </div>
</body>
</html>
<script src="/js/jquery-2.2.3.min.js"  type="text/javascript"></script>
<script src="/css/semantic/dist/semantic.min.js"  type="text/javascript"></script>
<script src="/js/jquery.prettyPhoto.js"></script>
<script src="/js/site.js"></script>