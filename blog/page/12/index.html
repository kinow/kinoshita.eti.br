<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Page 12 of 28 for Blog - page 12 | Bruno P. Kinoshita</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Blog - page 12" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bruno P. Kinoshita personal home page" />
<meta property="og:description" content="Bruno P. Kinoshita personal home page" />
<link rel="canonical" href="https://kinoshita.eti.br/blog/page/12/" />
<meta property="og:url" content="https://kinoshita.eti.br/blog/page/12/" />
<meta property="og:site_name" content="Bruno P. Kinoshita" />
<link rel="prev" href="https://kinoshita.eti.br/blog/page/11/" />
<link rel="next" href="https://kinoshita.eti.br/blog/page/13/" />
<script type="application/ld+json">
{"description":"Bruno P. Kinoshita personal home page","@type":"WebPage","url":"https://kinoshita.eti.br/blog/page/12/","headline":"Blog - page 12","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="https://kinoshita.eti.br/feed.xml" title="Bruno P. Kinoshita" /><link href="https://unpkg.com/pattern.css" rel="stylesheet">

</head>
<body>
<div id="mobile-menu"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
  </ul>
</div>
</div>
<div id="wrapper">
  <div id="sidebar"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
  </ul>
</div>
</div>
  <div id="content">
    <h1 class="page-heading">Blog - page 12</h1>

<div class="blog"><div class="post">
  <h3 class="post-header">
    <a class="post-link" href="/2017/02/28/using-aws-mfa-without-a-mobile-phone.html">
      Using AWS MFA without a mobile phone
    </a>
  </h3><span class="post-meta">Feb 28, 2017<span>&mdash; star date: -305764.38.</span></span>
  <span class="post-meta">Number of words: 0.</span><p>If you use AWS, the chances are that you use MFA - Multi-factor Authentication - to authenticate.
I don’t like to install apps in my mobile phone, unless I need to, so having bought a new phone
recently, I decided to find a replacement for Google Authenticator.</p>

<p>There are several command line utilities, browser extensions, libraries, and tools (free and paid)
that implement the TOTP - time-based one-time password -, the standard
<a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html">required by Amazon</a>
for MFA authentication.</p>

<p>I decided to use a Go tool for the first time: <a href="https://github.com/pcarrier/gauth">gauth</a>. Note that you
won’t be able to use it from home, in case you don’t bring your laptop home. You can have one MFA device
linked to your AWS account, so you may have to remove an existing one. Follow these instructions with care :^)</p>

<h3 id="install-go">Install Go</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>
<span class="nb">cd </span>tmp/ <span class="o">&amp;&amp;</span> wget https://storage.googleapis.com/golang/go1.8.linux-amd64.tar.gz
<span class="nb">tar</span> <span class="nt">-zxvf</span> go1.<span class="k">*</span>.tar.gz
<span class="nb">sudo mv </span>go /usr/local
vim ~/.bashrc
</code></pre></div></div>

<p>Add the following at the bottom of the file.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">GOROOT</span><span class="o">=</span>/usr/local/go
<span class="nv">GOPATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/go"</span>
<span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$GOPATH</span><span class="s2">/bin:</span><span class="nv">$GOROOT</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</code></pre></div></div>

<p>And you can test it with <code class="language-plaintext highlighter-rouge">. ~/.bashrc &amp;&amp; go version</code>.</p>

<h3 id="install-gauth">Install gauth</h3>

<p>Given your environment is correctly set up, you should be able to use the following command to install
gauth, and have it available in your <em>$PATH</em>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go get github.com/pcarrier/gauth
</code></pre></div></div>

<p>Edit <em>~/.config/gauth.csv</em> adding a value for the AWS MFA key.</p>

<h3 id="getting-the-aws-mfa-key">Getting the AWS MFA key</h3>

<p>To get the value that you must place in your <em>gauth.csv</em> file, you must add a new MFA device. When asked to scan a QR code, look for an option to enter the manual value. That will give you a long string. That’s the value you are looking for.</p>

<h3 id="extra-auto-copy-paste-from-command-line">Extra: Auto copy-paste from command line</h3>

<p>If you would like to quickly copy and paste, try creating an alias as described
<a href="https://gist.github.com/ehime/9fd8810442daf64686a34f885e18be01">on this gist</a>.</p>

<p>I used these instructions, and can now run one command line, that will put the next MFA code in my
clipboard. Then just paste into my browser, and that’s that!</p>

<p>Happy hacking!</p>

<h3 id="references">References</h3>

<ul>
  <li><a href="https://github.com/pcarrier/gauth">gauth: replace Google Authenticator</a></li>
  <li><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html">Enabling a Virtual Multi-factor Authentication (MFA) Device</a></li>
  <li><a href="http://tecadmin.net/install-go-on-ubuntu/">How to Install Go 1.7 on Ubuntu 16.04 &amp; 14.04</a></li>
  <li><a href="http://garywoodfine.com/use-pbcopy-on-ubuntu/">Use pbcopy on Ubuntu</a></li>
</ul>
</div>
<div class="post">
  <h3 class="post-header">
    <a class="post-link" href="/2017/01/08/apache-commons-lang-memoizer.html">
      Apache Commons Lang: Memoizer
    </a>
  </h3><span class="post-meta">Jan 8, 2017<span>&mdash; star date: -305895.89.</span></span>
  <span class="post-meta">Number of words: 0.</span><p>The current release of <a href="https://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a>
is <strong>3.5</strong>. The upcoming release, probably 3.6,
will include a new feature, added in a
<a href="https://github.com/apache/commons-lang/pull/203">pull request</a>:
<strong>a Memoizer implementation</strong>. Check out the ticket <a href="https://issues.apache.org/jira/browse/LANG-740">LANG-740</a>
for more about the implementation being added to [lang].</p>

<p>The book <a href="http://jcip.net/">Java Concurrency in Practice</a> introduces readers to the Memoizer,
and has also a <a href="http://jcip.net/listings/Memoizer.java">public domain implementation available for download</a>
(besides that, the book has also lots of other interesting topics!).</p>

<p>In summary, Memoizer is a simple cache, that will store the result of
a computation. It receives a Computable object, responsible for doing something
that will be stored by the Memoizer. Here’s a simple code to illustrate how that
will work in your Java code.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Computation to be stored in the cache</span>
<span class="nc">Computable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">getFormattedCurrentDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Computable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">String</span> <span class="n">fmt</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">SimpleDateFormat</span><span class="o">(</span><span class="n">fmt</span><span class="o">).</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Our memoizer</span>
<span class="nc">Memoizer</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">dateCache</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Memoizer</span><span class="o">&lt;&gt;(</span><span class="n">getFormattedCurrentDate</span><span class="o">);</span>

<span class="c1">// To illustrate its use</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// S -&gt; Millisecond</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">dateCache</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="s">"HH:mm:ss:S Z dd/MM/YYYY"</span><span class="o">));</span>
        <span class="c1">// Regardless of this sleep call, we get the same result every iteration</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1500</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The computable created (<em>getFormattedCurrentDate</em>) will be called only once, and stored in
a map. The parameter passed in the <em>#compute()</em> method will be used as key in the map.
So choose your parameter wisely :-) The output of the example will be similar to the following one.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
19:15:57:854 +1300 08/01/2017
</code></pre></div></div>

<p>In the example above I used a <em>for-loop</em> to illustrate what will happen. Even though we call
the memoizer <em>#compute()</em> method several times, followed by
<em>Thread#sleep()</em>; only one result, the first to be computed, will be returned.</p>

<p>So that’s all for today. Hope you learned something about this new class, that must
be available in the next release of Apache Commons Lang.</p>

<p>Happy hacking!</p>

<p>ps: [lang] uses Java 7, so that is why we do not have a functional instead of the Comparable</p>
</div>
<div class="post">
  <h3 class="post-header">
    <a class="post-link" href="/2017/01/07/apache-commons-text.html">
      Apache Commons Text
    </a>
  </h3><span class="post-meta">Jan 7, 2017<span>&mdash; star date: -305898.63.</span></span>
  <span class="post-meta">Number of words: 0.</span><p>There is a new component in Apache Commons: Apache Commons Text. The 1.0 release might be announced
in the next weeks. The current site is still in the <a href="http://commons.apache.org/sandbox/commons-text/">Commons Sandbox</a>,
but it will change with the 1.0 release. The promotion from the sandbox
<a href="http://markmail.org/message/dm7xwv5wc6z7wme3">happened a few days ago</a> in
the project mailing list.</p>

<p>Here’s the project description: <strong>Apache Commons Text is a library focused on algorithms working on strings</strong>.</p>

<p>There was <a href="http://markmail.org/message/3k7m2zrzboji333r">a thread on the mailing list</a>
some time ago (Oct/2014) when we first discussed the component idea. Since then
many people contributed porting code from
<a href="http://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a>,
<a href="http://lucene.apache.org/">Apache Lucene</a>, donating code from existing projects, and with new ideas.</p>

<p><strong>It is important to be aware that certain parts of Apache Commons Lang are
being marked as deprecated, and will be removed in the future, after Apache Commons Text
1.0 is out</strong>. For example: <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html">StringUtils</a>,
and <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html">RandomStringUtils</a>.</p>

<p>That will happen probably in a 4.x release of Apache Commons Lang, if everything
goes well with Apache Commons Text :-)</p>

<p>And there are already future features in
<a href="https://github.com/apache/commons-text/branches/all">branches too</a>.
It was decided that these features
needed further work, so they will probably be included in next releases.</p>

<p>So that’s a little bit of background on the new component that will be released soon.
If you have code using Apache Commons Lang, you might be interested in staying
tuned to release announcements in the mailing list!</p>

<p>And should you have suggestions and would like to contribute, feel free to join and start
a thread in the <a href="https://commons.apache.org/mail-lists.html">mailing list</a>,
open a <a href="https://issues.apache.org/jira/browse/TEXT">JIRA issue</a>, or submit a
<a href="https://github.com/apache/commons-text/pulls">pull request</a>.</p>

<p>Happy hacking!</p>
</div>
<div class="post">
  <h3 class="post-header">
    <a class="post-link" href="/2017/01/05/plotting-auckland-with-osmnx.html">
      Plotting Auckland with OSMnx
    </a>
  </h3><span class="post-meta">Jan 5, 2017<span>&mdash; star date: -305904.11.</span></span>
  <span class="post-meta">Number of words: 0.</span><p><img style="height: 400px;" class="ui image" src="/assets/posts/2017-01-05-plotting-auckland-with-osmnx/figure_1.png" alt="Auckland" /></p>

<p>A couple of days ago I saw <a href="https://www.reddit.com/r/gis/comments/5lnjxs/creating_squaremile_figureground_diagrams_of/">a thread in reddit</a>
about OSMnx. It is a utilty for interacting with the OpenStreeMap (OSM)
API, manipulate it in pure Python and using libraries like NetworkX (a Python graph package).</p>

<p>With it you can do things like <q>visualize cul-de-sacs or one-way streets, plot shortest-path routes, or calculate stats like intersection density, average node connectivity, or betweenness centrality</q>. Or simply
plot the OSM data as in the graph above.</p>

<p>The source code is hosted at GitHub: <a href="https://github.com/gboeing/osmnx">https://github.com/gboeing/osmnx</a>.</p>

<p class="more-link">
    <a class="post-link" href="/2017/01/05/plotting-auckland-with-osmnx.html">Continue reading&hellip;</a>
  </p></div>
<div class="post">
  <h3 class="post-header">
    <a class="post-link" href="/2017/01/03/contributing-to-krita.html">
      Contributing to Krita
    </a>
  </h3><span class="post-meta">Jan 3, 2017<span>&mdash; star date: -305909.59.</span></span>
  <span class="post-meta">Number of words: 0.</span><p>As I mentioned in the <a href="/2017/01/02/debugging-an-application-that-freezes-the-x-server.html">last post</a>,
I have been learning Qt and using C and C++ again.
Since I used C and C++ more during university (about 10 years ago, phew), decided
to read real code.</p>

<p>I used Photoshop, Illustrator, and Fireworks a lot when I was younger and had more
time to spend drawing. But some time ago I switched to Inkscape for vector graphics,
which I use at work for presentations. So it was only natural to try Krita now.</p>

<p>Since I was going to try Krita, I thought why not check out and build from source, and then
in case I found any bugs, contribute back? Or maybe from time to time triage issues,
find low hanging ones, and send a patch?</p>

<p>Well, turns out the Krita project has a great community, and it is super easy to send
contributions. So far I submitted three patches, some were included in 3.x releases.</p>

<ul>
  <li><a href="https://bugs.kde.org/show_bug.cgi?id=366741">https://bugs.kde.org/show_bug.cgi?id=366741</a></li>
  <li><a href="https://bugs.kde.org/show_bug.cgi?id=364208">https://bugs.kde.org/show_bug.cgi?id=364208</a></li>
  <li><a href="https://bugs.kde.org/show_bug.cgi?id=374451">https://bugs.kde.org/show_bug.cgi?id=374451</a></li>
</ul>

<p>While the patches are rather small, they are suggestions on how to fix memory
segmentation faults, or strange behaviours in the interface. For these issues,
I had to learn more about Qt components, signals and emitting events, and,
of course, work with pointers, arrays, Qt data structures, etc. In other words,
lots of (geek) fun!</p>

<p>In other words, by contributing to Krita, I am not only helping the project
and giving a little back to the community, but also refreshing my memory on
C and C++, and slowly learning Qt - which is not very hard if you worked with
Swing/AWT, Delphi, Visual Basic, Gtk, etc.</p>

<p>What are you waiting to contribute to Krita? The developers that maintain the
project answer tickets and questions posted to <a href="https://reddit.com/r/krita">reddit</a>
in a good time, and are extremely easy to work with.</p>

<p>Read more <a href="http://www.davidrevoy.com/article193/guide-building-krita-on-linux-for-cats">here</a> how to build from source, and
<a href="https://krita.org/en/get-involved/developers/">here</a> on how to submit patches.</p>

<p>Happy hacking!</p>
</div>
<!-- Pagination links -->
  <div class="pagination">
    <p>
      
      <a href="/blog/page/11/" class="icon item">
        <i class="left chevron icon"></i>Previous
      </a>
      
      <span class="page_number ">Page: 12 of 28</span>
      
      <a href="/blog/page/13/" class="next">
        Next<i class="right chevron icon"></i>
      </a>
      
    </p>
  </div></div>

  </div>
</div>
</body>
</html>
