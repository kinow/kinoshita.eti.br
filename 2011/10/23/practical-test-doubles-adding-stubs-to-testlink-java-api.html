<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="https://kinoshita.eti.br/2011/10/23/practical-test-doubles-adding-stubs-to-testlink-java-api.html"><meta property="og:site_name" content="kinow"><meta property="og:title" content="Practical test doubles: adding stubs to TestLink Java API"><meta property="og:description" content='"Test Double is a generic term for any case where you replace a production object for testing purposes" [1]. There are different types of Test Doubles: Dummy, Fake, Stubs, Spies and Mocks. In this post we will see a practical example of adding stubs to TestLink Java API.
Stubs are objects that return canned answers to calls during tests [1]. This is useful specially when you have a system that communicates with different resources such as databases, web services, XML-RPC services and so on.
TestLink Java API is a small Java project created to act as an interface between TestLink XML-RPC API and a client program written in Java.
'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-10-23T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-02T18:22:13+02:00"><meta property="article:tag" content="Testlink"><meta property="article:tag" content="Java"><meta property="article:tag" content="Software Quality"><meta property="og:image" content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta property="fb:admins" content="bruno.kinoshita"><meta name=twitter:title content="Practical test doubles: adding stubs to TestLink Java API"><meta name=twitter:description content='"Test Double is a generic term for any case where you replace a production object for testing purposes" [1]. There are different types of Test Doubles: Dummy, Fake, Stubs, Spies and Mocks. In this post we will see a practical example of adding stubs to TestLink Java API.
Stubs are objects that return canned answers to calls during tests [1]. This is useful specially when you have a system that communicates with different resources such as databases, web services, XML-RPC services and so on.
TestLink Java API is a small Java project created to act as an interface between TestLink XML-RPC API and a client program written in Java.'><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta name=twitter:site content="@kinow"><link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2011/10/23/practical-test-doubles-adding-stubs-to-testlink-java-api/feed.xml title=kinow><link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.ecb27dc5d5ced6616f17336fdf32a78aff8278ec4b599f9e5cdc5bb8a09a9f28.css integrity="sha256-7LJ9xdXO1mFvFzNv3zKniv+CeOxLWZ+eXNxbuKCanyg="><title>kinow | Practical test doubles: adding stubs to TestLink Java API</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Practical test doubles: adding stubs to TestLink Java API","headline":"Practical test doubles: adding stubs to TestLink Java API","alternativeHeadline":"","description":"\u003cp\u003e\u003cem\u003e\u0022\u003cstrong\u003eTest Double\u003c\/strong\u003e is a generic term for any case where you replace a production object for testing purposes\u0022\u003c\/em\u003e [\u003ca href=\u0022#1\u0022\u003e1\u003c\/a\u003e]. There are different types of Test Doubles: \u003cstrong\u003eDummy\u003c\/strong\u003e, \u003cstrong\u003eFake\u003c\/strong\u003e, \u003cstrong\u003eStubs\u003c\/strong\u003e, \u003cstrong\u003eSpies\u003c\/strong\u003e and \u003cstrong\u003eMocks\u003c\/strong\u003e. In this post we will see a practical example of adding stubs to \u003ca href=\u0022testlinkjavaapi.sourceforge.net\u0022 title=\u0022TestLink Java API\u0022\u003eTestLink Java API\u003c\/a\u003e.\u003c\/p\u003e\n\u003cp\u003eStubs are objects that return canned answers to calls during tests [1]. This is useful specially when you have a system that communicates with different resources such as databases, web services, XML-RPC services and so on.\u003c\/p\u003e\n\u003cp\u003eTestLink Java API is a small Java project created to act as an interface between \u003ca href=\u0022http:\/\/www.teamst.org\u0022 title=\u0022TestLink\u0022\u003eTestLink\u003c\/a\u003e XML-RPC API and a client program written in Java.\u003c\/p\u003e","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kinoshita.eti.br\/2011\/10\/23\/practical-test-doubles-adding-stubs-to-testlink-java-api.html"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"kinow","copyrightYear":"2011","dateCreated":"2011-10-23T00:00:00.00Z","datePublished":"2011-10-23T00:00:00.00Z","dateModified":"2025-07-02T18:22:13.00Z","publisher":{"@type":"Organization","name":"kinow","url":"https://kinoshita.eti.br/","logo":{"@type":"ImageObject","url":"https:\/\/kinoshita.eti.br\/","width":"32","height":"32"}},"image":"https://kinoshita.eti.br/","url":"https:\/\/kinoshita.eti.br\/2011\/10\/23\/practical-test-doubles-adding-stubs-to-testlink-java-api.html","wordCount":"530","genre":["testlink","java","software quality"],"keywords":[]}</script></head><body><header role=banner class=content><nav id=nav aria-label=Main role=navigation class=content><ul style=position:relative><li><a href=/><i data-feather=about></i> About</a></li><li><a href=/blog/><i data-feather=blog></i> Blog</a></li><li><a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a></li><li style=position:absolute;right:0;bottom:-.75rem;text-align:right><span style=text-transform:uppercase;font-weight:700;font-size:3rem;color:#fffefa;line-height:normal;letter-spacing:-.1rem>Kinow</span></li></ul></nav></header><main><article class=content><h1>Practical test doubles: adding stubs to TestLink Java API</h1><div class=metadata><i data-feather=calendar></i>
<time datetime=2011-10-23>Oct 23, 2011</time></div><aside><nav id=TableOfContents></nav></aside><p><em>"<strong>Test Double</strong> is a generic term for any case where you replace a production object for testing purposes"</em> [<a href=#1>1</a>]. There are different types of Test Doubles: <strong>Dummy</strong>, <strong>Fake</strong>, <strong>Stubs</strong>, <strong>Spies</strong> and <strong>Mocks</strong>. In this post we will see a practical example of adding stubs to <a href=testlinkjavaapi.sourceforge.net title="TestLink Java API">TestLink Java API</a>.</p><p>Stubs are objects that return canned answers to calls during tests [1]. This is useful specially when you have a system that communicates with different resources such as databases, web services, XML-RPC services and so on.</p><p>TestLink Java API is a small Java project created to act as an interface between <a href=http://www.teamst.org title=TestLink>TestLink</a> XML-RPC API and a client program written in Java.</p><h2>Starting on the wrong foot</h2><p>You know when sometimes you start a project just to suppress certain necessity and then write down a long <em>TODO</em> list? Well, sooner or later you will have to start working on those items. When I wrote the first version of the API I was writing Jenkins TestLink Plug-in, and had a priority project that depended on both tools to be deployed to a customer's site. Due to the deadlines and priorities, the tests in TestLink Java API were made to run directly against a test instance of TestLink.</p><p>After that the code was open sourced and, as was expected, bugs, features and enhancements started to be requested by users. You can imagine many drawbacks in this approach, such as newcomers to the project would need to install a test instance of TestLink with equal set up parameters, and to not mention how hard it would be to have Continuous Integration in a service provider like <a href=http://www.cloudbees.com title=CloudBees>CloudBees</a>, where I wouldn't have TestLink installed.</p><h2>On the right foot now...</h2><p>So the main issue regarding the project build was the direct access to the TestLink XML-RPC API. A neat solution for it was to use Stubs during tests. The idea was to create a stubs capable of, given a call to TestLink XML-RPC, it would then answer with a canned XML.</p><p>I thought I would have to dig into <a href=http://www.mortbay.org/ title=Jetty>Jetty</a>, <a href=http://winstone.sourceforge.net/ title=Winstone>Winstone</a> or some small web server by myself and include it to the project, but fortunately somebody else [<a href=#2>2</a>] has passed by it and blogged about his experience with some sample code.</p><p>The approach used in TestLink Java API was quite similar to the one described in [<a href=#2>2</a>]. I used <a href=http://www.wireshark.org/ title=WireShark>WireShark</a> to save the XML returned by TestLink XML-RPC API and when I create an instance of the web server, it knows which XML it must return to the caller object. Below you can see <em>BaseTest</em>, a class used as base for new tests.</p><script src=https://gist.github.com/1308128.js></script><p>Now anybody can simply execute <em>mvn clean test</em> to build the project. It won't connect to any instance of TestLink, and all the tests will be executed in less then one minute. When there is a new release of TestLink, I will need to update my XML files generated with Wireshark (I will automate it with Python or Perl) and then test and work on the differences.</p><p>This approach can be used to test web services, XML-RPC servers and any similar environment. Hope it helps somebody else too. Cheers! :D</p><p><a name=1>[1]</a> <a href=http://martinfowler.com/bliki/TestDouble.html>http://martinfowler.com/bliki/TestDouble.html</a></p><p><a name=2>[2]</a> <a href=http://olafsblog.sysbsb.de/lightweight-testing-of-webservice-http-clients-with-junit-and-jetty/trackback/>http://olafsblog.sysbsb.de/lightweight-testing-of-webservice-http-clients-with-junit-and-jetty</a></p><p>Categories:
<a href=/categories/blog.html>Blog</a></p><p>Tags:
<a href=/tags/testlink.html>Testlink</a>,
<a href=/tags/java.html>Java</a>,
<a href=/tags/software-quality.html>Software Quality</a></p><aside class=links><a class=previous href=https://kinoshita.eti.br/2011/09/20/building-jenkins-with-eclipse-and-m2e-plug-in.html>&#171; Previous</a><a class=next href=https://kinoshita.eti.br/2011/10/31/tdc-2011-goi%C3%A2nia.html>Next &#187;</a></aside></article></main><footer role=contentinfo><ul id=social-media-icons><li><a href=https://www.instagram.com/brunokinoshita/><img src=/assets/icons/instagram.png alt="Instagram link"></a></li><li><a href=https://bsky.app/profile/kinow.bsky.social><img src=/assets/icons/bluesky.png alt="BlueSky link"></a></li><li><a href=https://twitter.com/kinow/><img src=/assets/icons/twitter.png alt="Twitter link"></a></li><li><a href=https://github.com/kinow/><img src=/assets/icons/github.png alt="GitHub link"></a></li><li><a href=/feed.xml><img src=/assets/icons/news.png alt="RSS feed link"></a></li></ul></footer></body></html>