<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html"><meta property="og:site_name" content="kinow"><meta property="og:title" content="Testing shell code and producing TAP using Jenkins?"><meta property="og:description" content="Definitely reading Hacker News before going to bed is a bad idea :-) Same goes for Reddit. So, I found a link about Bats, a tool to execute tests in Shell and output TAP - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of Producers in testanything.org?
But you know what? Why not execute execute locally first to check if that&amp;rsquo;s working&amp;hellip; moreover, why not use Jenkins TAP Plug-in and see what happens?
"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-12-30T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-13T22:47:17+02:00"><meta property="article:tag" content="Jenkins"><meta property="article:tag" content="Test Anything Protocol"><meta property="article:tag" content="Software Quality"><meta property="og:image" content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta property="fb:admins" content="bruno.kinoshita"><meta name=twitter:title content="Testing shell code and producing TAP using Jenkins?"><meta name=twitter:description content="Definitely reading Hacker News before going to bed is a bad idea :-) Same goes for Reddit. So, I found a link about Bats, a tool to execute tests in Shell and output TAP - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of Producers in testanything.org?
But you know what? Why not execute execute locally first to check if that&rsquo;s working&mldr; moreover, why not use Jenkins TAP Plug-in and see what happens?"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kinoshita.eti.br/assets/photos/about/2023-me-closeup.png"><meta name=twitter:site content="@kinow"><link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins/feed.xml title=kinow><link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.13c9ee0d80c48570210cc93178b06dc3fd170877e34518da00976da6c2e40702.css integrity="sha256-E8nuDYDEhXAhDMkxeLBtw/0XCHfjRRjaAJdtpsLkBwI="><title>kinow | Testing shell code and producing TAP using Jenkins?</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Testing shell code and producing TAP using Jenkins?","headline":"Testing shell code and producing TAP using Jenkins?","alternativeHeadline":"","description":"\u003cp\u003eDefinitely reading \u003ca title=\u0022Hacker News\u0022 href=\u0022http:\/\/news.ycombinator.com\/\u0022\u003eHacker News\u003c\/a\u003e before going to bed is a bad idea :-) Same goes for \u003ca title=\u0022Reddit\u0022 href=\u0022http:\/\/www.reddit.com\u0022\u003eReddit\u003c\/a\u003e. So, I found a link about \u003ca title=\u0022Bats\u0022 href=\u0022https:\/\/github.com\/sstephenson\/bats\u0022\u003eBats\u003c\/a\u003e, a tool to execute tests in Shell and output \u003ca title=\u0022Test Anything Protocol\u0022 href=\u0022http:\/\/testanything.org\u0022\u003eTAP\u003c\/a\u003e - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of \u003ca title=\u0022TAP Producers\u0022 href=\u0022http:\/\/testanything.org\/wiki\/index.php\/TAP_Producers#SH_.2F_Shell_Script\u0022\u003eProducers\u003c\/a\u003e in \u003ca title=\u0022Test Anything Protocol\u0022 href=\u0022http:\/\/testanything.org\u0022\u003etestanything.org\u003c\/a\u003e?\u003c\/p\u003e\n\u003cp\u003eBut you know what? Why not execute execute locally first to check if that\u0026rsquo;s working\u0026hellip; moreover, why not use \u003ca title=\u0022Jenkins TAP Plug-in\u0022 href=\u0022https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/TAP\u002bPlugin\u0022\u003eJenkins TAP Plug-in\u003c\/a\u003e and see what happens?\u003c\/p\u003e","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kinoshita.eti.br\/2011\/12\/30\/testing-shell-code-and-producing-tap-using-jenkins.html"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"kinow","copyrightYear":"2011","dateCreated":"2011-12-30T00:00:00.00Z","datePublished":"2011-12-30T00:00:00.00Z","dateModified":"2024-08-13T22:47:17.00Z","publisher":{"@type":"Organization","name":"kinow","url":"https://kinoshita.eti.br/","logo":{"@type":"ImageObject","url":"https:\/\/kinoshita.eti.br\/","width":"32","height":"32"}},"image":"https://kinoshita.eti.br/","url":"https:\/\/kinoshita.eti.br\/2011\/12\/30\/testing-shell-code-and-producing-tap-using-jenkins.html","wordCount":"251","genre":["jenkins","test anything protocol","software quality"],"keywords":[]}</script></head><body><header role=banner class=content><nav id=nav aria-label=Main role=navigation class=content><ul style=position:relative><li><a href=/><i data-feather=about></i> About</a></li><li><a href=/blog/><i data-feather=blog></i> Blog</a></li><li><a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a></li><li style=position:absolute;right:0;bottom:-.75rem;text-align:right><span style=text-transform:uppercase;font-weight:700;font-size:3rem;color:#fffefa;line-height:normal;letter-spacing:-.1rem>Kinow</span></li></ul></nav></header><main><article class=content><h1>Testing shell code and producing TAP using Jenkins?</h1><div class=metadata><i data-feather=calendar></i>
<time datetime=2011-12-30>Dec 30, 2011</time></div><aside><nav id=TableOfContents></nav></aside><p>Definitely reading <a title="Hacker News" href=http://news.ycombinator.com/>Hacker News</a> before going to bed is a bad idea :-) Same goes for <a title=Reddit href=http://www.reddit.com>Reddit</a>. So, I found a link about <a title=Bats href=https://github.com/sstephenson/bats>Bats</a>, a tool to execute tests in Shell and output <a title="Test Anything Protocol" href=http://testanything.org>TAP</a> - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of <a title="TAP Producers" href=http://testanything.org/wiki/index.php/TAP_Producers#SH_.2F_Shell_Script>Producers</a> in <a title="Test Anything Protocol" href=http://testanything.org>testanything.org</a>?</p><p>But you know what? Why not execute execute locally first to check if that&rsquo;s working&mldr; moreover, why not use <a title="Jenkins TAP Plug-in" href=https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin>Jenkins TAP Plug-in</a> and see what happens?</p><p>Here&rsquo;s what is necessary.</p><ul><li><a title="Jenkins CI" href=http://www.jenkins-ci.org>Jenkins</a> (duh)</li><li><a title="Jenkins TAP Plug-in" href=https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin>tap plug-in</a></li><li><a title="Jenkins Git Plugin" href=https://wiki.jenkins-ci.org/display/JENKINS/git+Plugin>git plug-in</a></li><li><a title="Bast git repository" href=https://github.com/sstephenson/bats>Bats git repository URL</a></li><li><a title="Baden Baden" href=http://www.badenbaden.com.br/>Baden Baden Red Ale beer</a> (it's Friday, almost new years' eve, c'mon)</li></ul>Install Jenkins, tap plug-in and git plug-in. Create a new free style build. Add Bats git repository url under SCM. This way Jenkins will retrieve Bats code from Github (you don't need to install it if you don't want to). Add a build step which executes the following shell code: <tt>./bin/bats test/bats.bats > test.t</tt><figure class=feature><img src=/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233256.png alt title width height><figcaption></figcaption></figure><p>Before executing the build, you have to check the option to publish TAP results in the end of the configuration screen. That&rsquo;s it. Execute your job, chug the remaining of your beer and now you can go to bed&mldr; or just refresh Hacker News and Reddit once more&mldr;</p><figure class=feature><img src=/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233313.png alt title width height><figcaption></figcaption></figure><figure class=feature><img src=/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233323.png alt title width height><figcaption></figcaption></figure><p>Bats is a very nice TAP producer for Shell. Haven&rsquo;t had time to play with the other producers for Shell, or explore Bats thoroughly, but it looks very promising. Hope to see more people writing tests for shell code.</p><p>Cheers -B</p><p>Categories:
<a href=/categories/blog.html>Blog</a></p><p>Tags:
<a href=/tags/jenkins.html>Jenkins</a>,
<a href=/tags/test-anything-protocol.html>Test Anything Protocol</a>,
<a href=/tags/software-quality.html>Software Quality</a></p><aside class=links><a class=previous href=https://kinoshita.eti.br/2011/12/24/listing-of-current-projects-achievements-and-my-new-years-resolutions.html>&#171; Previous</a><a class=next href=https://kinoshita.eti.br/2012/01/22/ranges-in-apache-commons-functor.html>Next &#187;</a></aside></article></main><footer role=contentinfo><ul id=social-media-icons><li><a href=https://www.instagram.com/brunokinoshita/><img src=/assets/icons/instagram.png alt="Instagram link"></a></li><li><a href=https://twitter.com/kinow/><img src=/assets/icons/twitter.png alt="Twitter link"></a></li><li><a href=https://github.com/kinow/><img src=/assets/icons/github.png alt="GitHub link"></a></li><li><a href=/feed.xml><img src=/assets/icons/news.png alt="RSS feed link"></a></li></ul></footer></body></html>