<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Testing shell code and producing TAP using Jenkins? | kinow</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Testing shell code and producing TAP using Jenkins?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Definitely reading Hacker News before going to bed is a bad idea :-) Same goes for Reddit. So, I found a link about Bats, a tool to execute tests in Shell and output TAP - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of Producers in testanything.org? But you know what? Why not execute execute locally first to check if that’s working… moreover, why not use Jenkins TAP Plug-in and see what happens?" />
<meta property="og:description" content="Definitely reading Hacker News before going to bed is a bad idea :-) Same goes for Reddit. So, I found a link about Bats, a tool to execute tests in Shell and output TAP - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of Producers in testanything.org? But you know what? Why not execute execute locally first to check if that’s working… moreover, why not use Jenkins TAP Plug-in and see what happens?" />
<link rel="canonical" href="https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html" />
<meta property="og:url" content="https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html" />
<meta property="og:site_name" content="kinow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-12-30T00:00:00+13:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Testing shell code and producing TAP using Jenkins?" />
<script type="application/ld+json">
{"description":"Definitely reading Hacker News before going to bed is a bad idea :-) Same goes for Reddit. So, I found a link about Bats, a tool to execute tests in Shell and output TAP - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of Producers in testanything.org? But you know what? Why not execute execute locally first to check if that’s working… moreover, why not use Jenkins TAP Plug-in and see what happens?","@type":"BlogPosting","url":"https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html","headline":"Testing shell code and producing TAP using Jenkins?","datePublished":"2011-12-30T00:00:00+13:00","dateModified":"2011-12-30T00:00:00+13:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://kinoshita.eti.br/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css" /><link type="application/atom+xml" rel="alternate" href="https://kinoshita.eti.br/feed.xml" title="kinow" /><link href="https://unpkg.com/pattern.css" rel="stylesheet" />

</head>
<body>
<div id="mobile-menu"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image"  alt="Instagram link" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" alt="Twitter link" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" alt="GitHub link" />
      </a>
    </li>
  </ul>
</div>
</div>
<div id="wrapper">
  <div id="sidebar"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image"  alt="Instagram link" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" alt="Twitter link" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" alt="GitHub link" />
      </a>
    </li>
  </ul>
</div>
</div>
  <div id="content">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Testing shell code and producing TAP using Jenkins?</h1>
    <span class="post-meta">
      <time class="dt-published" datetime="2011-12-30T00:00:00+13:00" itemprop="datePublished">Dec 30, 2011
      </time>
      <span>&mdash; star date: -311920.55.</span>
      <span>
        Number of words: 313.
      </span></span>
  </header>

  


  <div class="post-content e-content" itemprop="articleBody">
    <p>Definitely reading <a title="Hacker News" href="http://news.ycombinator.com/">Hacker News</a> before going to bed is a bad idea :-) Same goes for <a title="Reddit" href="http://www.reddit.com">Reddit</a>. So, I found a link about <a title="Bats" href="https://github.com/sstephenson/bats">Bats</a>, a tool to execute tests in Shell and output <a title="Test Anything Protocol" href="http://testanything.org">TAP</a> - Test Anything Protocol. Then I thought; why not ask the author to include Bats under the list of <a title="TAP Producers" href="http://testanything.org/wiki/index.php/TAP_Producers#SH_.2F_Shell_Script">Producers</a> in <a title="Test Anything Protocol" href="http://testanything.org">testanything.org</a>?</p>

<p>But you know what? Why not execute execute locally first to check if that’s working… moreover, why not use <a title="Jenkins TAP Plug-in" href="https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin">Jenkins TAP Plug-in</a> and see what happens?</p>

<!--more-->

<p>Here’s what is necessary.</p>
<ul>
	<li><a title="Jenkins CI" href="http://www.jenkins-ci.org">Jenkins</a> (duh)</li>
	<li><a title="Jenkins TAP Plug-in" href="https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin">tap plug-in</a></li>
	<li><a title="Jenkins Git Plugin" href="https://wiki.jenkins-ci.org/display/JENKINS/git+Plugin">git plug-in</a></li>
	<li><a title="Bast git repository" href="https://github.com/sstephenson/bats">Bats git repository URL</a></li>
	<li><a title="Baden Baden" href="http://www.badenbaden.com.br/">Baden Baden Red Ale beer</a> (it's Friday, almost new years' eve, c'mon)</li>
</ul>
<!--more-->
<p>Install Jenkins, tap plug-in and git plug-in. Create a new free style build. Add Bats git repository url under SCM. This way Jenkins will retrieve Bats code from Github (you don’t need to install it if you don’t want to). Add a build step which executes the following shell code: <tt>./bin/bats test/bats.bats &gt; test.t</tt></p>

<p><img class="ui fluid image" src="/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233256.png" /></p>

<p>Before executing the build, you have to check the option to publish TAP results in the end of the configuration screen. That’s it. Execute your job, chug the remaining of your beer and now you can go to bed… or just refresh Hacker News and Reddit once more…</p>

<p><img class="ui fluid image" src="/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233313.png" /></p>

<p><img class="ui fluid image" src="/assets/posts/2011-12-30-testing-shell-code-and-producing-tap-using-jenkins/Screenshot_at_2011_12_30_233323.png" /></p>

<p>Bats is a very nice TAP producer for Shell. Haven’t had time to play with the other producers for Shell, or explore Bats thoroughly, but it looks very promising. Hope to see more people writing tests for shell code.</p>

<p>Cheers -B</p>

  </div>

  <div class="tags"><p>Tags:&nbsp;<a class="label" href="/tag/jenkins">jenkins</a>,&nbsp;<a class="label" href="/tag/test anything protocol">test anything protocol</a>,&nbsp;<a class="label" href="/tag/software quality">software quality</a>.<br/></p></div>

  <a class="u-url" href="/2011/12/30/testing-shell-code-and-producing-tap-using-jenkins.html" hidden></a>
</article>

  </div>
</div>
</body>
</html>
