<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Checking for transitive dependencies use with Maven Enforcer Plug-in | Bruno P. Kinoshita</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Checking for transitive dependencies use with Maven Enforcer Plug-in" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Maven Enforcer Plug-in “provides goals to control certain environmental constraints such as Maven version, JDK version and OS family along with many more built-in rules and user created rules”. There are several libraries that provide custom rules, or you can write your own. One of these libraries is ImmobilienScout24/illegal-transitive-dependency-check, “an additional rule for the maven-enforcer-plugin that checks for classes referenced via transitive Maven dependencies”. With the following example: &lt;project&gt; ... &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;de.is24.maven.enforcer.rules&lt;/groupId&gt; &lt;artifactId&gt;illegal-transitive-dependency-check&lt;/artifactId&gt; &lt;version&gt;1.7.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;enforce&lt;/id&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;enforce&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;rules&gt; &lt;illegalTransitiveDependencyCheck implementation=&quot;de.is24.maven.enforcer.rules.IllegalTransitiveDependencyCheck&quot;&gt; &lt;reportOnly&gt;false&lt;/reportOnly&gt; &lt;useClassesFromLastBuild&gt;true&lt;/useClassesFromLastBuild&gt; &lt;suppressTypesFromJavaRuntime&gt;true&lt;/suppressTypesFromJavaRuntime&gt; &lt;listMissingArtifacts&gt;false&lt;/listMissingArtifacts&gt; &lt;/illegalTransitiveDependencyCheck&gt; &lt;/rules&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ... &lt;/project&gt; Running mvn clean verify will execute the Maven Enforcer Plug-in enforce goal, which will call the illegal transitive dependency check. And the build will fail if your code is using (i.e. importing) any class that is not available in your first-level dependencies. For example, if in your pom.xml you added commons-lang3 and commons-configuration, the latter which includes commons-lang 2.x, and you used org.apache.commons.lang.StringUtils instead of org.apache.commons.lang3.StringUtils, the build would fail. In order to fix the build, you have to either add the transitive dependency to your pom.xml file, or correct your import statements. This is specially useful to prevent future issues due to other dependencies being added or updated, and changing the version of the transitive dependency. Bonus points if you combine that with continuous integration and some service like Travis-CI. ♥ Open Source" />
<meta property="og:description" content="Maven Enforcer Plug-in “provides goals to control certain environmental constraints such as Maven version, JDK version and OS family along with many more built-in rules and user created rules”. There are several libraries that provide custom rules, or you can write your own. One of these libraries is ImmobilienScout24/illegal-transitive-dependency-check, “an additional rule for the maven-enforcer-plugin that checks for classes referenced via transitive Maven dependencies”. With the following example: &lt;project&gt; ... &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;de.is24.maven.enforcer.rules&lt;/groupId&gt; &lt;artifactId&gt;illegal-transitive-dependency-check&lt;/artifactId&gt; &lt;version&gt;1.7.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;enforce&lt;/id&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;enforce&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;rules&gt; &lt;illegalTransitiveDependencyCheck implementation=&quot;de.is24.maven.enforcer.rules.IllegalTransitiveDependencyCheck&quot;&gt; &lt;reportOnly&gt;false&lt;/reportOnly&gt; &lt;useClassesFromLastBuild&gt;true&lt;/useClassesFromLastBuild&gt; &lt;suppressTypesFromJavaRuntime&gt;true&lt;/suppressTypesFromJavaRuntime&gt; &lt;listMissingArtifacts&gt;false&lt;/listMissingArtifacts&gt; &lt;/illegalTransitiveDependencyCheck&gt; &lt;/rules&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ... &lt;/project&gt; Running mvn clean verify will execute the Maven Enforcer Plug-in enforce goal, which will call the illegal transitive dependency check. And the build will fail if your code is using (i.e. importing) any class that is not available in your first-level dependencies. For example, if in your pom.xml you added commons-lang3 and commons-configuration, the latter which includes commons-lang 2.x, and you used org.apache.commons.lang.StringUtils instead of org.apache.commons.lang3.StringUtils, the build would fail. In order to fix the build, you have to either add the transitive dependency to your pom.xml file, or correct your import statements. This is specially useful to prevent future issues due to other dependencies being added or updated, and changing the version of the transitive dependency. Bonus points if you combine that with continuous integration and some service like Travis-CI. ♥ Open Source" />
<link rel="canonical" href="https://kinoshita.eti.br/2017/08/06/checking-for-transitive-dependencies-use-with-maven-enforcer-plugin.html" />
<meta property="og:url" content="https://kinoshita.eti.br/2017/08/06/checking-for-transitive-dependencies-use-with-maven-enforcer-plugin.html" />
<meta property="og:site_name" content="Bruno P. Kinoshita" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-06T00:00:00+12:00" />
<script type="application/ld+json">
{"description":"Maven Enforcer Plug-in “provides goals to control certain environmental constraints such as Maven version, JDK version and OS family along with many more built-in rules and user created rules”. There are several libraries that provide custom rules, or you can write your own. One of these libraries is ImmobilienScout24/illegal-transitive-dependency-check, “an additional rule for the maven-enforcer-plugin that checks for classes referenced via transitive Maven dependencies”. With the following example: &lt;project&gt; ... &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;de.is24.maven.enforcer.rules&lt;/groupId&gt; &lt;artifactId&gt;illegal-transitive-dependency-check&lt;/artifactId&gt; &lt;version&gt;1.7.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;enforce&lt;/id&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;enforce&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;rules&gt; &lt;illegalTransitiveDependencyCheck implementation=&quot;de.is24.maven.enforcer.rules.IllegalTransitiveDependencyCheck&quot;&gt; &lt;reportOnly&gt;false&lt;/reportOnly&gt; &lt;useClassesFromLastBuild&gt;true&lt;/useClassesFromLastBuild&gt; &lt;suppressTypesFromJavaRuntime&gt;true&lt;/suppressTypesFromJavaRuntime&gt; &lt;listMissingArtifacts&gt;false&lt;/listMissingArtifacts&gt; &lt;/illegalTransitiveDependencyCheck&gt; &lt;/rules&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ... &lt;/project&gt; Running mvn clean verify will execute the Maven Enforcer Plug-in enforce goal, which will call the illegal transitive dependency check. And the build will fail if your code is using (i.e. importing) any class that is not available in your first-level dependencies. For example, if in your pom.xml you added commons-lang3 and commons-configuration, the latter which includes commons-lang 2.x, and you used org.apache.commons.lang.StringUtils instead of org.apache.commons.lang3.StringUtils, the build would fail. In order to fix the build, you have to either add the transitive dependency to your pom.xml file, or correct your import statements. This is specially useful to prevent future issues due to other dependencies being added or updated, and changing the version of the transitive dependency. Bonus points if you combine that with continuous integration and some service like Travis-CI. ♥ Open Source","@type":"BlogPosting","url":"https://kinoshita.eti.br/2017/08/06/checking-for-transitive-dependencies-use-with-maven-enforcer-plugin.html","headline":"Checking for transitive dependencies use with Maven Enforcer Plug-in","dateModified":"2017-08-06T00:00:00+12:00","datePublished":"2017-08-06T00:00:00+12:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://kinoshita.eti.br/2017/08/06/checking-for-transitive-dependencies-use-with-maven-enforcer-plugin.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="https://kinoshita.eti.br/feed.xml" title="Bruno P. Kinoshita" /><link href="https://unpkg.com/pattern.css" rel="stylesheet">

</head>
<body>
<div id="mobile-menu"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" />
      </a>
    </li>
  </ul>
</div>
</div>
<div id="wrapper">
  <div id="sidebar"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" />
      </a>
    </li>
  </ul>
</div>
</div>
  <div id="content">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Checking for transitive dependencies use with Maven Enforcer Plug-in</h1>
    <span class="post-meta">
      <time class="dt-published" datetime="2017-08-06T00:00:00+12:00" itemprop="datePublished">Aug 6, 2017
      </time>
      <span>&mdash; star date: -305320.55.</span>
      <span>
        Number of words: 316.
      </span></span>
  </header>

  


  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="http://maven.apache.org/enforcer/maven-enforcer-plugin/">Maven Enforcer Plug-in</a> “provides goals to control certain environmental constraints such as Maven version, JDK version and OS family along with many more built-in rules and user created rules”. There are several libraries that provide custom rules, or you can write your own.</p>

<p>One of these libraries is <a href="https://github.com/ImmobilienScout24/illegal-transitive-dependency-check">ImmobilienScout24/illegal-transitive-dependency-check</a>, “an additional rule for the maven-enforcer-plugin that checks for classes referenced via transitive Maven dependencies”.</p>

<p>With the following example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;project&gt;</span>
  ...
  <span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
      <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>maven-enforcer-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.3.1<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;dependencies&gt;</span>
          <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>de.is24.maven.enforcer.rules<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>illegal-transitive-dependency-check<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>1.7.4<span class="nt">&lt;/version&gt;</span>
          <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;/dependencies&gt;</span>
        <span class="nt">&lt;executions&gt;</span>
          <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;id&gt;</span>enforce<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;phase&gt;</span>verify<span class="nt">&lt;/phase&gt;</span>
            <span class="nt">&lt;goals&gt;</span>
              <span class="nt">&lt;goal&gt;</span>enforce<span class="nt">&lt;/goal&gt;</span>
            <span class="nt">&lt;/goals&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
              <span class="nt">&lt;rules&gt;</span>
                <span class="nt">&lt;illegalTransitiveDependencyCheck</span> <span class="na">implementation=</span><span class="s">"de.is24.maven.enforcer.rules.IllegalTransitiveDependencyCheck"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;reportOnly&gt;</span>false<span class="nt">&lt;/reportOnly&gt;</span>
                  <span class="nt">&lt;useClassesFromLastBuild&gt;</span>true<span class="nt">&lt;/useClassesFromLastBuild&gt;</span>
                  <span class="nt">&lt;suppressTypesFromJavaRuntime&gt;</span>true<span class="nt">&lt;/suppressTypesFromJavaRuntime&gt;</span>
                  <span class="nt">&lt;listMissingArtifacts&gt;</span>false<span class="nt">&lt;/listMissingArtifacts&gt;</span>
                <span class="nt">&lt;/illegalTransitiveDependencyCheck&gt;</span>
              <span class="nt">&lt;/rules&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
          <span class="nt">&lt;/execution&gt;</span>
        <span class="nt">&lt;/executions&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
  <span class="nt">&lt;/build&gt;</span>
  ...
<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<p>Running <code class="language-plaintext highlighter-rouge">mvn clean verify</code> will execute the Maven Enforcer Plug-in <code class="language-plaintext highlighter-rouge">enforce</code> goal, which will call the illegal transitive dependency check.</p>

<p>And the build will fail if your code is using (i.e. importing) any class that is not available in your first-level dependencies. For example, if in your pom.xml you added <code class="language-plaintext highlighter-rouge">commons-lang3</code> and <code class="language-plaintext highlighter-rouge">commons-configuration</code>, the latter which includes <code class="language-plaintext highlighter-rouge">commons-lang</code> <strong>2.x</strong>, and you used <code class="language-plaintext highlighter-rouge">org.apache.commons.lang.StringUtils</code> instead of <code class="language-plaintext highlighter-rouge">org.apache.commons.lang3.StringUtils</code>, the build would fail.</p>

<p>In order to fix the build, you have to either add the transitive dependency to your pom.xml file, or correct your import statements. This is specially useful to prevent future issues due to other dependencies being added or updated, and changing the version of the transitive dependency.</p>

<p>Bonus points if you combine that with continuous integration and some service like Travis-CI.</p>

<p>♥ Open Source</p>

  </div>

  <div class="tags">
    <p>
      Published Aug 6, 2017 in &ldquo;blog&rdquo; and tagged&nbsp;<a class="label" href="/tags#java">java</a>,&nbsp;<a class="label" href="/tags#programming">programming</a>,&nbsp;<a class="label" href="/tags#opensource">opensource</a>,&nbsp;<a class="label" href="/tags#maven">maven</a>. Number of words: 316.
    </p>
  </div>

  <a class="u-url" href="/2017/08/06/checking-for-transitive-dependencies-use-with-maven-enforcer-plugin.html" hidden></a>
</article>

  </div>
</div>
</body>
</html>
