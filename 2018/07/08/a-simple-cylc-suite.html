<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>A simple cylc suite | kinow</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="A simple cylc suite" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I have been writing more suites for cylc lately, and found an example that has proved to be useful for debugging certain parts of the code. It is an extremely simple suite, similar to what is in cylc’s documentation. It sleeps for N seconds, and prints a message." />
<meta property="og:description" content="I have been writing more suites for cylc lately, and found an example that has proved to be useful for debugging certain parts of the code. It is an extremely simple suite, similar to what is in cylc’s documentation. It sleeps for N seconds, and prints a message." />
<link rel="canonical" href="https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite.html" />
<meta property="og:url" content="https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite.html" />
<meta property="og:site_name" content="kinow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-08T00:00:00+12:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="A simple cylc suite" />
<script type="application/ld+json">
{"headline":"A simple cylc suite","dateModified":"2018-07-08T00:00:00+12:00","datePublished":"2018-07-08T00:00:00+12:00","description":"I have been writing more suites for cylc lately, and found an example that has proved to be useful for debugging certain parts of the code. It is an extremely simple suite, similar to what is in cylc’s documentation. It sleeps for N seconds, and prints a message.","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite.html"},"url":"https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css" /><link type="application/atom+xml" rel="alternate" href="https://kinoshita.eti.br/feed.xml" title="kinow" /><link href="https://unpkg.com/pattern.css" rel="stylesheet" />

</head>
<body>
<div id="mobile-menu"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" />
      </a>
    </li>
  </ul>
</div>
</div>
<div id="wrapper">
  <div id="sidebar"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" />
      </a>
    </li>
  </ul>
</div>
</div>
  <div id="content">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">A simple cylc suite</h1>
    <span class="post-meta">
      <time class="dt-published" datetime="2018-07-08T00:00:00+12:00" itemprop="datePublished">Jul 8, 2018
      </time>
      <span>&mdash; star date: -304400.0.</span>
      <span>
        Number of words: 314.
      </span></span>
  </header>

  


  <div class="post-content e-content" itemprop="articleBody">
    <p>I have been writing more suites for <a href="https://cylc.github.io/cylc/">cylc</a> lately, and found
an example that has proved to be useful for debugging certain parts of the code.</p>

<p>It is an extremely simple suite, similar to what is in cylc’s documentation. It
sleeps for N seconds, and prints a message.</p>

<!--more-->

<p>What makes it extra simpler, is that it cycles through integers, and has
a limit of 1 maximum active points.</p>

<p>It is essentially the same as running the command in your shell session. With
the difference that it will run through all cylc’s internal, only once, and
allow you to debug and diagnostic parts nor related to cycling and graphs
(as for these parts you would probably need a more elaborate example).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">scheduling</span><span class="p">]</span>
    <span class="n">cycling</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">integer</span>
    <span class="n">initial</span> <span class="n">cycle</span> <span class="n">point</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">max</span> <span class="n">active</span> <span class="n">cycle</span> <span class="n">points</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">[[</span><span class="n">dependencies</span><span class="p">]]</span>
        <span class="p">[[[</span><span class="n">P1</span><span class="p">]]]</span>
            <span class="n">graph</span> <span class="o">=</span> <span class="s">"hello"</span>
<span class="p">[</span><span class="n">runtime</span><span class="p">]</span>
    <span class="p">[[</span><span class="n">hello</span><span class="p">]]</span>
        <span class="n">script</span> <span class="o">=</span> <span class="s">"sleep 10; echo PING"</span>
</code></pre></div></div>

<p>I also combine this suite with the following <code class="language-plaintext highlighter-rouge">global.rc</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">editors</span><span class="p">]</span> 
    <span class="n">terminal</span> <span class="o">=</span> <span class="n">vim</span> 
    <span class="n">gui</span> <span class="o">=</span> <span class="n">gvim</span> <span class="o">-</span><span class="n">f</span>

<span class="p">[</span><span class="n">communication</span><span class="p">]</span>
    <span class="n">base</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">44444</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">http</span>
    <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">ports</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>With “base port” set to 44444, and the maximum number of ports to 1, I will
be able to run only one task. But that way I can configure Wireshark and other
tools to default to 44444/HTTP, for ease of debugging.</p>

<p>Then initialize the suite with something like: <code class="language-plaintext highlighter-rouge">cylc start --non-daemon --debug /home/kinow/Development/python/workspace/example-suite/</code></p>

<p>Happy cycling!</p>

  </div>

  <div class="tags"><p>Tags:&nbsp;<a class="label" href="/tag/cylc">cylc</a>,&nbsp;<a class="label" href="/tag/python">python</a>,&nbsp;<a class="label" href="/tag/opensource">opensource</a>.<br/></p></div>

  <a class="u-url" href="/2018/07/08/a-simple-cylc-suite.html" hidden></a>
</article>

  </div>
</div>
</body>
</html>
