<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="A simple Cylc suite">
<meta property="og:description" content="I have been writing more suites for cylc lately, and found
an example that has proved to be useful for debugging certain parts of the code.
It is an extremely simple suite, similar to what is in cylc&rsquo;s documentation. It
sleeps for N seconds, and prints a message.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite.html"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-07-08T00:00:00+00:00">
<meta property="article:modified_time" content="2024-04-01T18:34:26+02:00">
<link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2018/07/08/a-simple-cylc-suite/feed.xml title=kinow>
<link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.09b56b6037e962b67cf7a7701bf2a9ee5da840a4f74b74139c4731f2156a5917.css integrity="sha256-CbVrYDfpYrZ896dwG/Kp7l2oQKT3S3QTnEcx8hVqWRc=">
<title>kinow | A simple Cylc suite</title>
</head>
<body>
<header role=banner class=content>
<nav id=nav aria-label=Main role=navigation class=content>
<ul><li>
<a href=/><i data-feather=about></i> About</a>
</li><li>
<a href=/blog/><i data-feather=blog></i> Blog</a>
</li><li>
<a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a>
</li>
</ul>
</nav>
</header>
<main>
<article class=content>
<h1>A simple Cylc suite</h1><div class=metadata>
<i data-feather=calendar></i>
<time datetime=2018-07-08>Jul 8, 2018</time>
</div>
<aside>
<nav id=TableOfContents></nav>
</aside>
<p>I have been writing more suites for <a href=https://cylc.github.io/cylc/>cylc</a> lately, and found
an example that has proved to be useful for debugging certain parts of the code.</p>
<p>It is an extremely simple suite, similar to what is in cylc&rsquo;s documentation. It
sleeps for N seconds, and prints a message.</p>
<p>What makes it extra simpler, is that it cycles through integers, and has
a limit of 1 maximum active points.</p>
<p>It is essentially the same as running the command in your shell session. With
the difference that it will run through all cylc&rsquo;s internal, only once, and
allow you to debug and diagnostic parts nor related to cycling and graphs
(as for these parts you would probably need a more elaborate example).</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>[<span style=color:#000>scheduling</span>]
    <span style=color:#000>cycling</span> <span style=color:#000>mode</span> <span style=color:#000>=</span> <span style=color:#000>integer</span>
    <span style=color:#000>initial</span> <span style=color:#000>cycle</span> <span style=color:#000>point</span> <span style=color:#000>=</span> <span style=color:#1c01ce>1</span>
    <span style=color:#a90d91>max</span> <span style=color:#000>active</span> <span style=color:#000>cycle</span> <span style=color:#000>points</span> <span style=color:#000>=</span> <span style=color:#1c01ce>1</span>
    [[<span style=color:#000>dependencies</span>]]
        [[[<span style=color:#000>P1</span>]]]
            <span style=color:#000>graph</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#34;hello&#34;</span>
[<span style=color:#000>runtime</span>]
    [[<span style=color:#000>hello</span>]]
        <span style=color:#000>script</span> <span style=color:#000>=</span> <span style=color:#c41a16>&#34;sleep 10; echo PING&#34;</span>
</code></pre></div><p>I also combine this suite with the following <code>global.rc</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>[<span style=color:#000>editors</span>] 
    <span style=color:#000>terminal</span> <span style=color:#000>=</span> <span style=color:#000>vim</span> 
    <span style=color:#000>gui</span> <span style=color:#000>=</span> <span style=color:#000>gvim</span> <span style=color:#000>-</span><span style=color:#000>f</span>

[<span style=color:#000>communication</span>]
    <span style=color:#000>base</span> <span style=color:#000>port</span> <span style=color:#000>=</span> <span style=color:#1c01ce>44444</span>
    <span style=color:#000>method</span> <span style=color:#000>=</span> <span style=color:#000>http</span>
    <span style=color:#000>maximum</span> <span style=color:#000>number</span> <span style=color:#000>of</span> <span style=color:#000>ports</span> <span style=color:#000>=</span> <span style=color:#1c01ce>1</span>
</code></pre></div><p>With &ldquo;base port&rdquo; set to 44444, and the maximum number of ports to 1, I will
be able to run only one task. But that way I can configure Wireshark and other
tools to default to 44444/HTTP, for ease of debugging.</p>
<p>Then initialize the suite with something like: <code>cylc start --non-daemon --debug /home/kinow/Development/python/workspace/example-suite/</code></p>
<p>Happy cycling!</p>
<p>
Categories:
<a href=/categories/blog.html>blog</a>
</p>
<p>
Tags:
<a href=/tags/opensource.html>opensource</a>,
<a href=/tags/workflows.html>workflows</a>,
<a href=/tags/cylc.html>cylc</a>,
<a href=/tags/python.html>python</a>
</p>
<aside class=links>
<a class=previous href=https://kinoshita.eti.br/2018/05/29/what-happens-when-you-create-a-new-dataset-in-apache-jena-fuseki.html>&#171; Previous</a>
<a class=next href=https://kinoshita.eti.br/2018/07/10/importerror-when-debugging-cylc-in-eclipse.html>Next &#187;</a>
</aside>
</article>
</main>
<footer role=contentinfo>
<ul id=social-media-icons>
<li>
<a href=https://www.instagram.com/brunokinoshita/>
<img src=/assets/icons/instagram.png alt="Instagram link">
</a>
</li>
<li>
<a href=https://twitter.com/kinow/>
<img src=/assets/icons/twitter.png alt="Twitter link">
</a>
</li>
<li>
<a href=https://github.com/kinow/>
<img src=/assets/icons/github.png alt="GitHub link">
</a>
</li>
<li>
<a href=/feed.xml>
<img src=/assets/icons/news.png alt="RSS feed link">
</a>
</li>
</ul>
</footer>
</body>
</html>