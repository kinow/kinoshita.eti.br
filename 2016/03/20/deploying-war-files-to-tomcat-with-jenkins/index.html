  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <title>Bruno P. Kinoshita &mdash; Deploying WAR files to Tomcat with Jenkins</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Bruno de Paula Kinoshita personal web site" />
    <meta name="keywords"
        content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache, open source, codigo livre, codigo aberto" />
    <meta name="author" content="" />
    <meta name="generator" content="PieCrust 2.0.0b5" />
    <meta name="template-engine" content="Twig" />
    <meta name="robots" content="all=index,follow" />
    <meta name="revisit-after" content="15 days" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="distribution" content="Global" />
    <meta name="url" content="/" />
    <meta name="copyright" content="Bruno de Paula Kinoshita" />
    <meta name="Googlebot" content="all" />
    <meta name="rating" content="general" />
    <meta http-equiv="expires" content="0" />
    <meta name="city" content="Sao Paulo" />
    <meta name="state" content="Brasil, Sao Paulo" />
    <meta http-equiv="content-language" content="en" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta id="page_favicon" href="/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="//feed.xml" />
    <link rel="stylesheet" href="/css/semantic/dist/semantic.min.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    <link rel="stylesheet" href="/css/prettyPhoto.css" type="text/css" media="all" />
</head>
<body id="body">
    <div class="ui vertical sidebar menu" id="toc">
        <div class="menu">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
</div>
<img id="me" src="/img/bruno.jpg" title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
    </div>
    <div class="ui black big launch right attached fixed button">
        <i class="content icon"></i>
        <span class="text">Menu</span>
    </div>
    <div class="ui fixed inverted main menu">
        <div class="ui container">
            <a class="launch icon item">
                <i class="content icon"></i>
            </a>
            <div class="item">
                Deploying WAR files to Tomcat with Jenkins
            </div>
        </div>
    </div>
    <div class="pusher">
        <div class="full height">
            <div class="toc">
                <div class="ui vertical sticky fixed top menu">
                    <div class="menu">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
</div>
<img id="me" src="/img/bruno.jpg" title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
                </div>
            </div>
            <div class="article">
                <div class="main container">

                
<div class="ui raised padded container segment">
    <h1 class='post-topic'>Deploying WAR files to Tomcat with Jenkins</h1>
    <small>kinow</small> @
	<small>Mar 20, 2016&nbsp;15:29:03</small>
    <div class="entry">
       





<a href="https://twitter.com/share" class="twitter-share-button" data-url="/2016/03/20/deploying-war-files-to-tomcat-with-jenkins" data-text="Deploying WAR files to Tomcat with Jenkins" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

	   <p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#1-deploying-with-custom-scripts">Deploying with custom scripts</a></li>
<li><a href="#2-deploying-with-a-build-tool">Deploying with a build tool</a></li>
<li><a href="#3-deploying-with-a-build-server">Deploying with a build server</a></li>
<li><a href="#final-thoughts">Final thoughts</a></li>
</ul>
<p>A co-worker asked me this week about how to deploy a WAR file to Tomcat with Jenkins. In my team we are
currently maintaining and deploying about 10 Java web systems, but we have no consistent way of deploying
the applications to Tomcat yet. In the past I used Ant, Maven, Cargo, Grunt, and Jenkins, so I
decided to write this short post to show a few different ways it can be achieved, &agrave; la
<a href="https://en.wikipedia.org/wiki/There's_more_than_one_way_to_do_it">Perl&#8217;s TMTOWTDI</a> motto.</p>
<h2><a name="1-deploying-with-custom-scripts" style="color: #222222;">#1 Deploying with custom scripts</a></h2>

<p>At first you may be tempted to write your own script to deploy to Tomcat with some Shell, Perl, Python
or Java. But I think I would choose this option only because either I needed some feature that is not
available in the other options, or in order to call other tasks or debug some problem.</p>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>docker run -d -p 8888:8080 jeanblanchard/tomcat:8
<span class="nv">$ </span>git clone https://github.com/spring-projects/spring-petclinic.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>spring-petclinic <span class="o">&amp;&amp;</span> mvn package
<span class="nv">$ </span>curl --upload-file target/petclinic.war <span class="s2">&quot;http://admin:admin@localhost:8888/manager/text/deploy?path=/spring-petclinic&amp;update=true&quot;</span>
OK - Deployed application at context path /spring-petclinic
</pre></div>

<!-- more -->

<h3>Pros</h3>
<ul>
<li>Flexible option. You can customise the deployment and even call other tasks before, after or during the
deployment</li>
<li>Easy to get it working, as you have few dependencies and no learning curve for learning about any tool</li>
</ul>
<h3>Cons</h3>
<ul>
<li>Susceptible to bugs (<a href="https://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a>)</li>
<li>You will have to spend time maintaining your scripts if Tomcat changes (e.g. from Tomcat 6 to 7,
the deploy URL changed adding a &#8216;/text&#8217; token)</li>
<li>Integration with other tools, such as a build tool or build server may not be simple</li>
</ul>
<h2><a name="2-deploying-with-a-build-tool" style="color: #222222;">#2 Deploying with a build tool</a></h2>

<p>For this example I will use Apache Maven, but you can achieve the same with Grunt, Ant, Gradle,
or Make. Each of these tools provide different mechanisms to call external tools, some providing
plug-ins that can be used to deploy a WAR file to Tomcat, like Maven and the
<a href="https://codehaus-cargo.github.io/cargo/Maven2+Plugin+Getting+Started.html">Cargo plug-in</a>.</p>
<p>But even with Maven you have a few options. For example.</p>
<ul>
<li>You can use Cargo Maven Plug-in. This plug-in contains several options and lets you abstract how
you interface with Tomcat </li>
<li>You can use Maven Exec Plug-in and call some command or script that deploys your application to
Tomcat. This script can use Tomcat web services to deploy the application, or execute commands remotely
via SSH in the server, copying the file and stop/starting the services</li>
<li>You can even write your own plug-in, where it wouldn&#8217;t be much different than option #1</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="nv">$ </span>git clone https://github.com/spring-projects/spring-petclinic.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>spring-petclinic
</pre></div>

<p>Add the following to the pom.xml file, under the right XML tags, of course.</p>
<div class="highlight"><pre><span class="c">&lt;!-- from https://gist.github.com/mdread/5900034 --&gt;</span>
<span class="nt">&lt;plugins&gt;</span>
    <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.codehaus.cargo<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>cargo-maven2-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
            <span class="nt">&lt;container&gt;</span>
                <span class="nt">&lt;containerId&gt;</span>tomcat7x<span class="nt">&lt;/containerId&gt;</span>
                <span class="nt">&lt;type&gt;</span>remote<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/container&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;type&gt;</span>runtime<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;properties&gt;</span>
                    <span class="nt">&lt;cargo.hostname&gt;</span>${cargo.hostname}<span class="nt">&lt;/cargo.hostname&gt;</span>
                    <span class="nt">&lt;cargo.servlet.port&gt;</span>${cargo.servlet.port}<span class="nt">&lt;/cargo.servlet.port&gt;</span>
                    <span class="nt">&lt;cargo.tomcat.manager.url&gt;</span>${cargo.tomcat.manager.url}<span class="nt">&lt;/cargo.tomcat.manager.url&gt;</span>
                    <span class="nt">&lt;cargo.remote.username&gt;</span>${cargo.remote.username}<span class="nt">&lt;/cargo.remote.username&gt;</span>
                    <span class="nt">&lt;cargo.remote.password&gt;</span>${cargo.remote.password}<span class="nt">&lt;/cargo.remote.password&gt;</span>
                <span class="nt">&lt;/properties&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
            <span class="nt">&lt;deployer&gt;</span>
                <span class="nt">&lt;type&gt;</span>remote<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/deployer&gt;</span>
            <span class="nt">&lt;deployables&gt;</span>
                <span class="nt">&lt;deployable&gt;</span>
                    <span class="nt">&lt;groupId&gt;</span>${project.groupId}<span class="nt">&lt;/groupId&gt;</span>
                    <span class="nt">&lt;artifactId&gt;</span>${project.artifactId}<span class="nt">&lt;/artifactId&gt;</span>
                    <span class="nt">&lt;type&gt;</span>${project.packaging}<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;/deployable&gt;</span>
            <span class="nt">&lt;/deployables&gt;</span>

        <span class="nt">&lt;/configuration&gt;</span>
    <span class="nt">&lt;/plugin&gt;</span>
<span class="nt">&lt;/plugins&gt;</span>

<span class="nt">&lt;profiles&gt;</span>
    <span class="nt">&lt;profile&gt;</span>
        <span class="nt">&lt;id&gt;</span>prod<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;properties&gt;</span>
            <span class="nt">&lt;deploy.env&gt;</span>prod<span class="nt">&lt;/deploy.env&gt;</span>
            <span class="nt">&lt;cargo.hostname&gt;</span>srvprd001<span class="nt">&lt;/cargo.hostname&gt;</span>
            <span class="nt">&lt;cargo.servlet.port&gt;</span>8080<span class="nt">&lt;/cargo.servlet.port&gt;</span>
            <span class="nt">&lt;cargo.tomcat.manager.url&gt;</span>http://srvprd001:8080/manager<span class="nt">&lt;/cargo.tomcat.manager.url&gt;</span>
            <span class="nt">&lt;cargo.remote.username&gt;</span>user<span class="nt">&lt;/cargo.remote.username&gt;</span>
            <span class="nt">&lt;cargo.remote.password&gt;</span>pass<span class="nt">&lt;/cargo.remote.password&gt;</span>
        <span class="nt">&lt;/properties&gt;</span>
    <span class="nt">&lt;/profile&gt;</span>
    <span class="nt">&lt;profile&gt;</span>
        <span class="nt">&lt;id&gt;</span>test<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;properties&gt;</span>
            <span class="nt">&lt;deploy.env&gt;</span>dev<span class="nt">&lt;/deploy.env&gt;</span>
            <span class="nt">&lt;cargo.hostname&gt;</span>srvtst001<span class="nt">&lt;/cargo.hostname&gt;</span>
            <span class="nt">&lt;cargo.servlet.port&gt;</span>9090<span class="nt">&lt;/cargo.servlet.port&gt;</span>
            <span class="nt">&lt;cargo.tomcat.manager.url&gt;</span>http://srvtst001:9090/manager<span class="nt">&lt;/cargo.tomcat.manager.url&gt;</span>
            <span class="nt">&lt;cargo.remote.username&gt;</span>user<span class="nt">&lt;/cargo.remote.username&gt;</span>
            <span class="nt">&lt;cargo.remote.password&gt;</span>pass<span class="nt">&lt;/cargo.remote.password&gt;</span>
        <span class="nt">&lt;/properties&gt;</span>
    <span class="nt">&lt;/profile&gt;</span>
<span class="nt">&lt;/profiles&gt;</span>
</pre></div>

<p>And finally start Tomcat and call the Cargo Maven plug-in.</p>
<div class="highlight"><pre><span class="nv">$ </span>docker run -d -p 8888:8080 jeanblanchard/tomcat:8
<span class="nv">$ </span>mvn package org.codehaus.cargo:cargo-maven2-plugin:deploy -Ptest -Dcargo.hostname<span class="o">=</span>localhost -Dcargo.servlet.port<span class="o">=</span><span class="m">8888</span> -Dcargo.tomcat.manager.url<span class="o">=</span>http://localhost:8888/manager/text -Dcargo.remote.username<span class="o">=</span>admin -Dcargo.remote.password<span class="o">=</span>admin
</pre></div>

<p>What I like about this approach is that using profiles and environments with Maven, you can have pre-defined
variables per profile, but also overwrite them when necessary. For example in the previous command line,
the host, port, user and password are overwritten to match the default values from the Docker image used.</p>
<h3>Pros</h3>
<ul>
<li>You are using a tool that is being used by other people. So bugs are fixed much faster and by
a lot of people, with different environments and use cases</li>
<li>Normally, build tools provide some mechanism for you to parameterise your build, controlling flags
and allowing a more flexible process</li>
<li>It is a lot easier to find examples and workarounds online</li>
</ul>
<h3>Cons</h3>
<ul>
<li>New features depend on how well maintained your build tool or plug-in is. For example, with the Maven Cargo
Plug-in, it took some time till Java 7 was fully supported (but you can submit pull requests/patches)</li>
<li>There is a learning curve for either learning about the build tool or about its plug-ins and extension
points</li>
<li>Sometimes you may have to dig into the build tool or plug-in source code to debug problems in your build,
such as JVM or some system library incompatibility</li>
</ul>
<h2><a name="3-deploying-with-a-build-server" style="color: #222222;">#3 Deploying with a build server</a></h2>

<p>Deploying with a build server is not very different from approach #2. For this example I will use Jenkins,
as this is the build server I am most familiar with, and also the one that I am using at work.</p>
<p>Example:</p>
<p>Install the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Deploy+Plugin">Deploy Plugin</a> in
Jenkins (it appears as &#8220;Deploy to container Plugin&#8221; in the plug-in selection screen), as well as the
git plug-in to check out the project.</p>
<p>In your job configuration, add a SCM step to clone the petclinic war project, and another step
to invoke a Maven top level target execute <code>mvn package</code>. Also add a post build step to deploy with the following
settings.</p>
<ul>
<li>WAR/EAR files: target/*.war</li>
<li>Context-path: spring-petclinic</li>
<li>Containers: add Tomcat 7.x</li>
<li>
<ul>
<li>Manager user name: admin</li>
</ul>
</li>
<li>
<ul>
<li>Manager password: admin</li>
</ul>
</li>
<li>
<ul>
<li>Tomcat URL: http://localhost:8888</li>
</ul>
</li>
</ul>
<p>Instead of a screenshot, here is the config.xml file for my example job - easier to diff your job
configuration.</p>
<div class="highlight"><pre><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;</span>
<span class="nt">&lt;project&gt;</span>
  <span class="nt">&lt;actions/&gt;</span>
  <span class="nt">&lt;description&gt;&lt;/description&gt;</span>
  <span class="nt">&lt;keepDependencies&gt;</span>false<span class="nt">&lt;/keepDependencies&gt;</span>
  <span class="nt">&lt;properties/&gt;</span>
  <span class="nt">&lt;scm</span> <span class="na">class=</span><span class="s">&quot;hudson.plugins.git.GitSCM&quot;</span> <span class="na">plugin=</span><span class="s">&quot;git@2.4.3&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;configVersion&gt;</span>2<span class="nt">&lt;/configVersion&gt;</span>
    <span class="nt">&lt;userRemoteConfigs&gt;</span>
      <span class="nt">&lt;hudson.plugins.git.UserRemoteConfig&gt;</span>
        <span class="nt">&lt;url&gt;</span>https://github.com/spring-projects/spring-petclinic.git<span class="nt">&lt;/url&gt;</span>
      <span class="nt">&lt;/hudson.plugins.git.UserRemoteConfig&gt;</span>
    <span class="nt">&lt;/userRemoteConfigs&gt;</span>
    <span class="nt">&lt;branches&gt;</span>
      <span class="nt">&lt;hudson.plugins.git.BranchSpec&gt;</span>
        <span class="nt">&lt;name&gt;</span>*/master<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;/hudson.plugins.git.BranchSpec&gt;</span>
    <span class="nt">&lt;/branches&gt;</span>
    <span class="nt">&lt;doGenerateSubmoduleConfigurations&gt;</span>false<span class="nt">&lt;/doGenerateSubmoduleConfigurations&gt;</span>
    <span class="nt">&lt;submoduleCfg</span> <span class="na">class=</span><span class="s">&quot;list&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/scm&gt;</span>
  <span class="nt">&lt;canRoam&gt;</span>true<span class="nt">&lt;/canRoam&gt;</span>
  <span class="nt">&lt;disabled&gt;</span>false<span class="nt">&lt;/disabled&gt;</span>
  <span class="nt">&lt;blockBuildWhenDownstreamBuilding&gt;</span>false<span class="nt">&lt;/blockBuildWhenDownstreamBuilding&gt;</span>
  <span class="nt">&lt;blockBuildWhenUpstreamBuilding&gt;</span>false<span class="nt">&lt;/blockBuildWhenUpstreamBuilding&gt;</span>
  <span class="nt">&lt;triggers/&gt;</span>
  <span class="nt">&lt;concurrentBuild&gt;</span>false<span class="nt">&lt;/concurrentBuild&gt;</span>
  <span class="nt">&lt;builders&gt;</span>
    <span class="nt">&lt;hudson.tasks.Maven&gt;</span>
      <span class="nt">&lt;targets&gt;</span>clean package<span class="nt">&lt;/targets&gt;</span>
      <span class="nt">&lt;mavenName&gt;</span>3.3.9<span class="nt">&lt;/mavenName&gt;</span>
      <span class="nt">&lt;usePrivateRepository&gt;</span>false<span class="nt">&lt;/usePrivateRepository&gt;</span>
      <span class="nt">&lt;settings</span> <span class="na">class=</span><span class="s">&quot;jenkins.mvn.DefaultSettingsProvider&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;globalSettings</span> <span class="na">class=</span><span class="s">&quot;jenkins.mvn.DefaultGlobalSettingsProvider&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/hudson.tasks.Maven&gt;</span>
  <span class="nt">&lt;/builders&gt;</span>
  <span class="nt">&lt;publishers&gt;</span>
    <span class="nt">&lt;hudson.plugins.deploy.DeployPublisher</span> <span class="na">plugin=</span><span class="s">&quot;deploy@1.10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;adapters&gt;</span>
        <span class="nt">&lt;hudson.plugins.deploy.tomcat.Tomcat7xAdapter&gt;</span>
          <span class="nt">&lt;userName&gt;</span>admin<span class="nt">&lt;/userName&gt;</span>
          <span class="nt">&lt;passwordScrambled&gt;</span>YWRtaW4=<span class="nt">&lt;/passwordScrambled&gt;</span>
          <span class="nt">&lt;url&gt;</span>http://localhost:8888<span class="nt">&lt;/url&gt;</span>
        <span class="nt">&lt;/hudson.plugins.deploy.tomcat.Tomcat7xAdapter&gt;</span>
      <span class="nt">&lt;/adapters&gt;</span>
      <span class="nt">&lt;contextPath&gt;</span>spring-petclinic<span class="nt">&lt;/contextPath&gt;</span>
      <span class="nt">&lt;war&gt;</span>target/*.war<span class="nt">&lt;/war&gt;</span>
      <span class="nt">&lt;onFailure&gt;</span>false<span class="nt">&lt;/onFailure&gt;</span>
    <span class="nt">&lt;/hudson.plugins.deploy.DeployPublisher&gt;</span>
  <span class="nt">&lt;/publishers&gt;</span>
  <span class="nt">&lt;buildWrappers/&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</pre></div>

<p>When running this job, you should see in the end of the console output, something similar to this.</p>
<div class="highlight"><pre><span class="o">[</span>INFO<span class="o">]</span> Building war: /tmp/1/jobs/deploy01/workspace/target/petclinic.war
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> BUILD SUCCESS
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> Total <span class="nb">time</span>: 20.590 s
<span class="o">[</span>INFO<span class="o">]</span> Finished at: 2016-03-20T19:13:51+13:00
<span class="o">[</span>INFO<span class="o">]</span> Final Memory: 36M/359M
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
Deploying /tmp/1/jobs/deploy01/workspace/target/petclinic.war to container Tomcat 7.x Remote
  <span class="o">[</span>/tmp/1/jobs/deploy01/workspace/target/petclinic.war<span class="o">]</span> is not deployed. Doing a fresh deployment.
  Deploying <span class="o">[</span>/tmp/1/jobs/deploy01/workspace/target/petclinic.war<span class="o">]</span>
Finished: SUCCESS
</pre></div>

<p>You can chain several jobs, creating a pipeline with one job to build, one for functional tests, and
another job to deploy.</p>
<h3>Pros</h3>
<ul>
<li>Since you are using Jenkins you can also chain other tools together, as well as other jobs, creating a build
pipeline (doable with the other two approaches, but just harder IMO)</li>
<li>Like in option #2, you can use parameters and customise the behaviour of the tools used</li>
<li>You can use Jenkins remote API or CLI to chain other tools or react to events in other systems
(harder to achieve with the other approaches)</li>
</ul>
<h3>Cons</h3>
<ul>
<li>There is a learning curve for learning Jenkins, as well as any plug-in or other tools that you may be using</li>
<li>You have to maintain a new infrastructure with Jenkins</li>
<li>When new versions of containers are released, Jenkins developers, and plug-in developers may have to update and
release an updated plug-in to be able to support these versions. You have to wait till that happens to use
the plug-in (or submit a patch/pull request)</li>
</ul>
<h2><a name="final-thoughts" style="color: #222222;">Final thoughts</a></h2>

<p>Whenever I can, I try to avoid reinventing the wheel. The less code I write, and the more good quality
code that I reuse, the merrier for me. So approach #1 is my less favorite way of deploying WAR files to
Tomcat.</p>
<p><strong>My preferred approach for deploying WAR files to Tomcat, is a mix of #2 and #3</strong>.</p>
<p>You configure the deploy tasks in your build tool, be it Maven, Grunt, Ant, or etc. And configure a job
in Jenkins to check out the code and deploy it, calling your build tool. </p>
<p>Using the previous examples, you would configure profiles in your pom.xml, and also combine parameters
in Jenkins to define which profile to activate (as well as override parameters if necessary).</p>
<p>This way you give developers the power to choose how/where to deploy. In case they need to deploy to a
different environment, they can change the build scripts, commit, and wait for Jenkins to be ready to
deploy. Leaving the deployment environment configuration in Jenkins jobs would require developers to
request changes in jobs, which would slow down the development pipeline.</p>
<p>Furthermore, you can also overwrite values in the build tools, so you can still control it in the build
server too. And you are getting the best of both worlds, having Jenkins parameters, over 1000 plug-ins,
and being able to create a build workflow/pipeline.</p>
<p>But remember, that is my opinion. I hope you can assimilate everything you have read here, and choose
what will work best in your case.</p>
<p>Happy hacking!</p>
    </div>
    <p class="postmetadata">
        
        <small>tags 
         [&nbsp;<a
            href="/tag/jenkins"
            rel="tag">jenkins</a>&nbsp;]&nbsp;
        
         [&nbsp;<a
            href="/tag/tomcat"
            rel="tag">tomcat</a>&nbsp;]&nbsp;
        
         [&nbsp;<a
            href="/tag/docker"
            rel="tag">docker</a>&nbsp;]&nbsp;
        
        </small>
        
        
        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/blog"
            title="View all posts in blog"
            rel="category tag">blog</a>&nbsp;]&nbsp;
        category </small>
        
    </p>
</div>

                </div>
            </div>
        </div>
        <div class="ui vertical footer segment">
            <div class="ui center aligned container">
                           <div id="copy" class="">
                <p>&copy; <a href="/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
            </div>
         </div>
    </div>
</body>
</html>
<script src="/js/jquery-2.2.3.min.js"  type="text/javascript"></script>
    <script src="/css/semantic/dist/semantic.min.js"  type="text/javascript"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
    $("a[rel^='prettyPhoto']").prettyPhoto({
        social_tools: false,
        autoplay_slideshow: false, 
        hideflash: true, 
        autoplay: false, 
        overlay_gallery: false
    });

    $("#toc")
        .sidebar({
          dimPage          : true,
          transition       : 'overlay',
          mobileTransition : 'uncover'
        })
    ;

    $("#toc")
        .sidebar('attach events', '.launch.button, .view-ui, .launch.item')
    ;
  });
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32767310-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
