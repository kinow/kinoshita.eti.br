<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="https://kinoshita.eti.br/2025/05/25/running-cylc-workflows-on-bsc-marenostrum5.html"><meta property="og:site_name" content="kinow"><meta property="og:title" content="Running Cylc workflows on BSC MareNostrum5"><meta property="og:description" content=" TL;DR: Using the communication method = poll of Cylc 8 you can easily run Cylc 8 workflows on BSC MareNostrum5 HPC.
A couple of years ago I gave a talk about “HPC workflows for climate models” at an ESiWACE3 event. There, I tried to explain in an unbiased way the differences among the workflow managers commonly used for climate and weather, including Autosubmit, ecFlow, and Cylc. I worked with the three workflow managers, and developed Cylc while at NIWA in New Zealand, and currently I develop Autosubmit at the Barcelona Supercomputing Center, BSC, in Barcelona Spain.
"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-25T09:38:52+03:00"><meta property="article:modified_time" content="2025-11-02T20:18:47+01:00"><meta property="article:tag" content="Opensource"><meta property="article:tag" content="Cylc"><meta property="article:tag" content="Workflows"><meta property="article:tag" content="Python"><meta property="article:tag" content="Programming"><meta property="og:image" content="https://kinoshita.eti.br/assets/posts/2025-04-26-running-cylc-workflows-on-bsc-marenostrum5/as-cylc-ec-venn.drawio.png"><meta property="fb:admins" content="bruno.kinoshita"><meta name=twitter:title content="Running Cylc workflows on BSC MareNostrum5"><meta name=twitter:description content="
TL;DR: Using the communication method = poll of Cylc 8 you can easily run
Cylc 8 workflows on BSC MareNostrum5 HPC.
A couple of years ago I gave a talk about “HPC workflows for climate models”
at an ESiWACE3 event. There, I tried to explain in an unbiased way the differences among the workflow
managers commonly used for climate and weather, including Autosubmit,
ecFlow, and Cylc. I worked with
the three workflow managers, and developed Cylc while at NIWA in New Zealand, and currently I
develop Autosubmit at the Barcelona Supercomputing Center, BSC, in Barcelona Spain."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kinoshita.eti.br/assets/posts/2025-04-26-running-cylc-workflows-on-bsc-marenostrum5/as-cylc-ec-venn.drawio.png"><meta name=twitter:site content="@kinow"><link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2025/05/25/running-cylc-workflows-on-bsc-marenostrum5/feed.xml title=kinow><link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.2bf0e81b866986f8e894e04d30e6e1e76e2829c06afda356b6fca355d1000a94.css integrity="sha256-K/DoG4ZphvjolOBNMObh524oKcBq/aNWtvyjVdEACpQ="><title>kinow | Running Cylc workflows on BSC MareNostrum5</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Running Cylc workflows on BSC MareNostrum5","headline":"Running Cylc workflows on BSC MareNostrum5","alternativeHeadline":"","description":"\u003cblockquote\u003e\n\u003cp\u003eTL;DR: Using the \u003ccode\u003ecommunication method = poll\u003c\/code\u003e of Cylc 8 you can easily run\nCylc 8 workflows on BSC MareNostrum5 HPC.\u003c\/p\u003e\u003c\/blockquote\u003e\n\u003cp\u003eA couple of years ago I gave a talk about \u003ca href=\u0022https:\/\/eflows4hpc.eu\/event\/hpc-workflows-for-climate-models\/\u0022\u003e“HPC workflows for climate models”\u003c\/a\u003e\nat an ESiWACE3 event. There, I tried to explain in an unbiased way the differences among the workflow\nmanagers commonly used for climate and weather, including \u003ca href=\u0022https:\/\/autosubmit.readthedocs.io\/\u0022\u003eAutosubmit\u003c\/a\u003e,\n\u003ca href=\u0022https:\/\/ecflow.readthedocs.io\/\u0022\u003eecFlow\u003c\/a\u003e, and \u003ca href=\u0022https:\/\/cylc.github.io\/\u0022\u003eCylc\u003c\/a\u003e. I worked with\nthe three workflow managers, and developed Cylc while at NIWA in New Zealand, and currently I\ndevelop Autosubmit at the Barcelona Supercomputing Center, BSC, in Barcelona Spain.\u003c\/p\u003e","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kinoshita.eti.br\/2025\/05\/25\/running-cylc-workflows-on-bsc-marenostrum5.html"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"kinow","copyrightYear":"2025","dateCreated":"2025-05-25T09:38:52.00Z","datePublished":"2025-05-25T09:38:52.00Z","dateModified":"2025-11-02T20:18:47.00Z","publisher":{"@type":"Organization","name":"kinow","url":"https://kinoshita.eti.br/","logo":{"@type":"ImageObject","url":"https:\/\/kinoshita.eti.br\/","width":"32","height":"32"}},"image":["https://kinoshita.eti.br/assets/posts/2025-04-26-running-cylc-workflows-on-bsc-marenostrum5/as-cylc-ec-venn.drawio.png"],"url":"https:\/\/kinoshita.eti.br\/2025\/05\/25\/running-cylc-workflows-on-bsc-marenostrum5.html","wordCount":"1082","genre":["opensource","cylc","workflows","python","programming"],"keywords":[]}</script></head><body><header role=banner class=content><nav id=nav aria-label=Main role=navigation class=content><ul style=position:relative><li><a href=/><i data-feather=about></i> About</a></li><li><a href=/blog/><i data-feather=blog></i> Blog</a></li><li><a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a></li><li style=position:absolute;right:0;bottom:-.75rem;text-align:right><span style=text-transform:uppercase;font-weight:700;font-size:3rem;color:#fffefa;line-height:normal;letter-spacing:-.1rem>Kinow</span></li></ul></nav></header><main><article class=content><h1>Running Cylc workflows on BSC MareNostrum5</h1><div class=metadata><i data-feather=calendar></i>
<time datetime=2025-05-25>May 25, 2025</time></div><aside><nav id=TableOfContents></nav></aside><blockquote><p>TL;DR: Using the <code>communication method = poll</code> of Cylc 8 you can easily run
Cylc 8 workflows on BSC MareNostrum5 HPC.</p></blockquote><p>A couple of years ago I gave a talk about <a href=https://eflows4hpc.eu/event/hpc-workflows-for-climate-models/>“HPC workflows for climate models”</a>
at an ESiWACE3 event. There, I tried to explain in an unbiased way the differences among the workflow
managers commonly used for climate and weather, including <a href=https://autosubmit.readthedocs.io/>Autosubmit</a>,
<a href=https://ecflow.readthedocs.io/>ecFlow</a>, and <a href=https://cylc.github.io/>Cylc</a>. I worked with
the three workflow managers, and developed Cylc while at NIWA in New Zealand, and currently I
develop Autosubmit at the Barcelona Supercomputing Center, BSC, in Barcelona Spain.</p><figure class=feature><img src=/assets/posts/2025-05-26-running-cylc-workflows-on-bsc-marenostrum5/as-cylc-ec-venn.drawio.png alt="Venn diagram from 'HPC workflows for climate models' talk" title="Venn diagram from 'HPC workflows for climate models' talk" style=width:auto width height><figcaption>Venn diagram from 'HPC workflows for climate models' talk</figcaption></figure><p>The BSC MareNostrum5 HPC has a peculiarity where its computing nodes &ndash; where
Slurm run the heavy, resource-demanding jobs &ndash; are not allowed to communicate back
to the HPC login nodes. I have been working at the BSC for three years and so far I
never heard about any exceptions made.</p><p>This means workflow managers where there is any communication from tasks running
on computing nodes back to where the workflow scheduler runs time out, causing
workflow runtime errors. This is a problem as ecFlow depends on the tasks telling
the server that they have finished (running the bash tailer of the task), and in
Cylc this is also a problem as by default Cylc uses a communication mode that requires
the connectivity among the worker nodes and the scheduler.</p><p>At the BSC, some time ago, I saw another project with ecFlow that ran at the
MareNostrum5 HPC without the tailer, and used some custom code in order to tell
ecFlow that the task had been finished. While this worked, I asked someone from
ECMWF &ndash; they maintain ecFlow &ndash; and they told me it was discouraged to manage tasks
that way. The project at the BSC has now been refactored and is using Autosubmit.</p><p>Things are simpler with Cylc. As I explained in my talk, and also offline to others,
Cylc can in fact be used in an environment with networking constraints like
the BSC MareNostrum5. The documentation of Cylc explains how to use their
<a href=https://cylc.github.io/cylc-doc/stable/html/reference/config/global.html#global.cylc%5Bplatforms%5D%5B%3Cplatform%20name%3E%5Dcommunication%20method><strong>poll communication method</strong></a>.
It is the “Polling mode” that appears right at the center of the venn diagram
at the top of this blog post.</p><p><a href="https://scholar.google.es/citations?user=SmfyaeoAAAAJ">Domingo Manubens-Gil</a> left
the BSC before I joined, but I can see from Git and from previous deliverables
for European projects that he did a lot of great work for Autosubmit. Some of his
latest works include technical reports on the possibility to run Cylc workflows
on MareNostrum5. Which also confirms that Cylc workflows can run on BSC
MareNostrum5 HPC.</p><p>But as a good engineer, I doubt most things I read until I can actually try
it or have more solid proof. And Domingo&rsquo;s work was published before Cylc 8
had been released. So to make sure Cylc 8 workflows run on BSC MareNostrum5,
I tried the Cylc documentation “broadcast” tutorial, which you can find
<a href=https://cylc.github.io/cylc-doc/stable/html/tutorial/furthertopics/broadcast.html#broadcast-tutorial>here</a>.</p><p>Prerequisites:</p><ul><li>Create a platform for BSC MareNostrum5 using Slurm</li><li>Configure <code>global.cylc</code> for the communication method</li><li>Install Cylc somewhere on BSC MareNostrum5 (I used my personal folder for a quick demo)</li><li>Update the broadcast tutorial to use the platform created</li></ul><p>First, my <code>~/.cylc/flow/8/global.cylc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-ini data-lang=ini><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#a2f;font-weight:700>[platforms]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    <span style=color:#a2f;font-weight:700>[[mn5]]</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>        <span style=color:#b44>cylc path</span> <span style=color:#666>=</span> <span style=color:#b44>/gpfs/scratch/bsc32/&lt;ADD-A-VALID-BSC-USER&gt;/cylc/venv/bin/
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#b44>        hosts = mn
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span><span style=color:#b44>        install target = mn
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:#b44>        job runner = slurm
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#b44>        retrieve job logs = True</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>
</span></span><span style=display:flex;background-color:#dfdfdf><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>        <span style=color:#b44>communication method</span> <span style=color:#666>=</span> <span style=color:#b44>poll
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#b44>        submission polling intervals = 10*PT1M, 10*PT5M
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span><span style=color:#b44>        execution polling intervals = 10*PT1M, 10*PT5M</span>
</span></span></code></pre></div><p>And here&rsquo;s the diff for the Cylc broadcast tutorial <a href=https://github.com/cylc/cylc-doc/blob/23f5c7aad5e9501aa8c3a28485822548b944d960/src/tutorial/furthertopics/broadcast.rst>workflow</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:navy;font-weight:700>diff --git a/flow.cylc b/flow.cylc
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span><span style=color:navy;font-weight:700>index d2d1ede..52702f8 100644
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span><span style=color:navy;font-weight:700></span><span style=color:#a00000>--- a/flow.cylc
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#a00000></span><span style=color:#00a000>+++ b/flow.cylc
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span><span style=color:#00a000></span><span style=color:purple;font-weight:700>@@ -1,3 +1,8 @@
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:purple;font-weight:700></span><span style=color:#00a000>+#!Jinja2
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#00a000>+
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span><span style=color:#00a000>+{% set HPC_PROJECT  =   &#34;bsc32&#34; %}
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#00a000>+{% set HPC_USER     =   &#34;&lt;ADD-A-VALID-BSC-USER&gt;&#34; %}
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#00a000>+
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span><span style=color:#00a000></span> [scheduling]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>     initial cycle point = 1012
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>     [[graph]]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span><span style=color:purple;font-weight:700>@@ -5,11 +10,27 @@
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span><span style=color:purple;font-weight:700></span>         PT1H = announce[-PT1H] =&gt; announce
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span> 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span> [runtime]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span><span style=color:#00a000>+    [[MN5]]
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#00a000>+        platform = mn5
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span><span style=color:#00a000>+        # Wallclock
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span><span style=color:#00a000>+        execution time limit = PT05M
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span><span style=color:#00a000>+        # NOTE: do not set walltime here or Cylc may keep one value
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span><span style=color:#00a000>+        #       while you have another one in the HPC! See the config
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span><span style=color:#00a000>+        #       flow.cylc[platforms][[mn5]][[[execution time limit]]]
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span><span style=color:#00a000>+        [[[directives]]]
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span><span style=color:#00a000>+            --account={{ HPC_PROJECT }}
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span><span style=color:#00a000>+            --qos=gp_debug
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span><span style=color:#00a000>+            --partition=standard
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span><span style=color:#00a000>+            --ntasks=1
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span><span style=color:#00a000>+            --cpus-per-task=1
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span><span style=color:#00a000>+
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span><span style=color:#00a000></span>     [[wipe_log]]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span><span style=color:#00a000>+        inherit = MN5
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34</span><span><span style=color:#00a000></span>         # Delete any files in the workflow&#39;s &#34;share&#34; directory.
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35</span><span>         script = rm &#34;${CYLC_WORKFLOW_SHARE_DIR}/knights&#34; || true
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36</span><span> 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37</span><span>     [[announce]]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38</span><span><span style=color:#00a000>+        inherit = MN5
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39</span><span><span style=color:#00a000></span>         script = echo &#34;${CYLC_TASK_CYCLE_POINT} - ${MESSAGE}&#34; &gt;&gt; &#34;${FILE}&#34;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40</span><span>         [[[environment]]]
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41</span><span>             WORD = ni
</span></span></code></pre></div><p>Once you have configured your platform and workflow, you can <code>cd</code> into
the workflow source directory and run <code>cylc vip --no-detach</code>. Then observe
the logs locally and &ndash; optionally &ndash; in Slurm. You should see a few jobs
being launched by Cylc. The poll interval is used to control how often
Cylc poll the current jobs and verifies their remote statuses (something
that you cannot do with Autosubmit as these values are hard-coded right now).</p><p>You can issue the <code>cylc broadcast</code> commands from the Cylc documentation tutorial
to change the message printed in the log, and play with other commands such as
<code>cylc cat-log</code>, <code>cylc poll</code>, etc. They should work fine on MN5.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>$ tail -f knights 
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>10120102T0400Z - We are the knights who say <span style=color:#b44>&#34;ni&#34;</span>!
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>10120102T0500Z - We are the knights who say <span style=color:#b44>&#34;ni&#34;</span>!
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>10120102T0600Z - We are the knights who say <span style=color:#b44>&#34;ni&#34;</span>!
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>10120102T0700Z - We are the knights who say <span style=color:#b44>&#34;it&#34;</span>!
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>10120102T0800Z - We are the knights who say <span style=color:#b44>&#34;it&#34;</span>!
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>10120102T0900Z - We are the knights who say <span style=color:#b44>&#34;it&#34;</span>!
</span></span></code></pre></div><p>Regarding communication with the HPC platform, the only cons comparing
with Autosubmit are that platform configuring is not fully centralized,
and Cylc does not have an equivalent of Autosubmit&rsquo;s wrappers (so if
you use Cylc at the BSC MareNostrum5, you will probably face long queueing
times). On the other hand, you gain advanced cycling, and fine-grained
control of several settings (like log retrieval, another thing you cannot
turn off in Autosubmit).</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sacct --starttime 2025-05-25
</span></span><span style=display:flex><span>JobID           JobName  Partition    Account  AllocCPUS      State ExitCode 
</span></span><span style=display:flex><span>------------ ---------- ---------- ---------- ---------- ---------- -------- 
</span></span><span style=display:flex><span><span style=color:#1c01ce>21445023</span>     wipe_log.+        gpp      bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445023.ba+      batch                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445023.ex+     extern                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span><span style=color:#1c01ce>21445050</span>     announce.+        gpp      bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445050.ba+      batch                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445050.ex+     extern                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span><span style=color:#1c01ce>21445069</span>     announce.+        gpp      bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445069.ba+      batch                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span>21445069.ex+     extern                 bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span><span style=display:flex><span><span style=color:#1c01ce>21445083</span>     announce.+        gpp      bsc32          <span style=color:#1c01ce>2</span>  COMPLETED      0:0 
</span></span></code></pre></div><p>(p.s.: remember to stop your workflow!)</p><p>Categories:
<a href=/categories/blog.html>Blog</a></p><p>Tags:
<a href=/tags/opensource.html>Opensource</a>,
<a href=/tags/cylc.html>Cylc</a>,
<a href=/tags/workflows.html>Workflows</a>,
<a href=/tags/python.html>Python</a>,
<a href=/tags/programming.html>Programming</a></p><aside class=links><a class=previous href=https://kinoshita.eti.br/2025/04/26/prado-museum-visit-favorite-sculptures.html>&#171; Previous</a><a class=next href=https://kinoshita.eti.br/2025/06/25/migrating-the-jena-editor-from-codemirror-5-to-6.html>Next &#187;</a></aside></article></main><footer role=contentinfo><ul id=social-media-icons><li><a href=https://www.instagram.com/brunokinoshita/><img src=/assets/icons/instagram.png alt="Instagram link"></a></li><li><a href=https://bsky.app/profile/kinow.bsky.social><img src=/assets/icons/bluesky.png alt="BlueSky link"></a></li><li><a href=https://twitter.com/kinow/><img src=/assets/icons/twitter.png alt="Twitter link"></a></li><li><a href=https://github.com/kinow/><img src=/assets/icons/github.png alt="GitHub link"></a></li><li><a href=/feed.xml><img src=/assets/icons/news.png alt="RSS feed link"></a></li></ul></footer></body></html>