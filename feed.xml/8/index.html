<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Bruno P. Kinoshita</title>
        <link>/</link>
        <atom:link href="/feed.xml/8" rel="self" type="application/rss+xml" />
        
        <description>Latest news from Bruno P. Kinoshita</description>
        
        <lastBuildDate>2019-01-09T20:45:31+13:00</lastBuildDate>
        <pubDate>2019-01-09T20:45:31+13:00</pubDate>
        <generator>PieCrust 3.2.1</generator>
        
        
        

        
        
        
        <item>
            <title>Processing Vaisala Radiosonde data with Python, and creating GRUAN-like NetCDF files</title>
            <link>/2016/07/12/processing-vaisala-radiosonde-data-with-python-and-creating-gruan-like-netcdf-files</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>python</category>
            
            <category>netcdf</category>
            
            <category>climate</category>
            
            <category>radiosonde</category>
            
            <category>gruan</category>
            
            <pubDate>2016-07-12T21:18:03+12:00</pubDate>
            <guid>/2016/07/12/processing-vaisala-radiosonde-data-with-python-and-creating-gruan-like-netcdf-files</guid>
            <description>
            
            &lt;p&gt;One of my last projects involved parsing a few GB&amp;#8217;s of data that was in a certain binary format,
and convert it into NetCDF files. In this post I will describe what was done, what I learned about radiosonde,
&lt;a href=&#34;http://www.dwd.de/EN/research/international_programme/gruan/home.html&#34;&gt;GRUAN&lt;/a&gt; and other geek stuff. Ready?&lt;/p&gt;
&lt;h3&gt;Vaisala Radiosonde data&lt;/h3&gt;
&lt;p&gt;When I was told the data was in some binary format, I thought it would be similar to
parsing a flat file. That this would contain a fixed length entry, with the same
kind of item repeated multiple times.&lt;/p&gt;
&lt;p&gt;Well, not exactly.&lt;/p&gt;
&lt;p&gt;The files had been generated by an instrument made by &lt;a href=&#34;http://www.vaisala.com&#34;&gt;Vaisala&lt;/a&gt;, a Finnish company. This
instrument is called a &lt;strong&gt;radiosonde&lt;/strong&gt;. It is an instrument about the size of an old
mobile phone, that is launched with a balloon into the atmosphere.&lt;/p&gt;
&lt;p&gt;I was lucky to be given the chance to release one of these balloons carrying a newer
version of this equipment.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large bordered image&#34; src=&#34;/2016/07/12/processing-vaisala-radiosonde-data-with-python-and-creating-gruan-like-netcdf-files/balloon-launch.jpg&#34; alt=&#34;Radiosonde balloon launch&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The balloon can carry equipments for measuring different things, like air pressure,
altitude, temperature, latitude, longitude, relative humidity, among others. Equipments
like the radiosonde send the data back to a ground-level station via radio,
normally in a short and constant interval.&lt;/p&gt;

            
            </description>
        </item>
        
        
        
        <item>
            <title>Drawing sketch: Blue Hair</title>
            <link>/2016/05/16/drawing-sketch-bluehair</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>illustrations</category>
            
            <pubDate>2016-05-16T11:13:03+12:00</pubDate>
            <guid>/2016/05/16/drawing-sketch-bluehair</guid>
            <description>
            
            &lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2016/05/16/drawing-sketch-bluehair/bluehair.jpg&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Blue Hair&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2016/05/16/drawing-sketch-bluehair/bluehair.jpg&#34; alt=&#34;Blue Hair&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Blue Hair&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;For &lt;a href=&#34;https://www.reddit.com/r/redditgetsdrawn/comments/4jakp0/someone_told_me_to_post_here_with_my_new_hair/&#34;&gt;redditgetsdrawn&lt;/a&gt;&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Some Linux commands I used this week</title>
            <link>/2016/05/06/some-linux-commands-i-used-this-week</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>linux</category>
            
            <pubDate>2016-05-06T23:26:03+12:00</pubDate>
            <guid>/2016/05/06/some-linux-commands-i-used-this-week</guid>
            <description>
            
            &lt;p&gt;These are some commands I used on Linux servers this week. Adding them here in case someone else
find them interesting, and also due to my bad memory :-)&lt;/p&gt;
&lt;h2&gt;Listing latest installed packages in SLES&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rpm -qa --last
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This will display the last packages installed. Useful when there are packages being updated, and you
need to confirm what changed, and when.&lt;/p&gt;
&lt;h2&gt;Listing packages in SLES and origin repository&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rpm -qa --qf &lt;span class=&#34;s1&#34;&gt;&amp;#39;%-30{DISTRIBUTION} %{NAME}\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The output will have two columns. The first containing the repository name, and the second column with
the package name. For example.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;devel:languages:R:base / SLE_11_SP2 R-base
devel:languages:R:base / SLE_11_SP2 R-base-devel
home:flacco:sles / SLE_11_SP3 php53-phar
home:happenpappen / SLE_11_SP2 nodejs
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Grep for content in XML tags&lt;/h2&gt;
&lt;p&gt;Be it for web services, or for finding things in Jenkins XML files. Being able to grep the tag attribute
or tag name might be useful. Look at the following example that uses the 
&lt;a href=&#34;https://msdn.microsoft.com/en-us/library/ms762271%28v=vs.85%29.aspx&#34;&gt;books XML provided by Microsoft for testing&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep -oP &lt;span class=&#34;s2&#34;&gt;&amp;quot;(?&amp;lt;=&amp;lt;genre&amp;gt;).*?(?=&amp;lt;/genre&amp;gt;)&amp;quot;&lt;/span&gt; books.xml &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which will outputs the following.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Computer
Fantasy
Horror
Romance
Science Fiction
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Find Python site packages directory&lt;/h2&gt;
&lt;p&gt;Sometimes you have Anaconda, but also the system installation, and maybe even other Python distributions.
Knowing where Python is looking for site packages can be helpful to confirm the package exists, and also
to inspect its sources.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python -c &lt;span class=&#34;s2&#34;&gt;&amp;quot;from distutils.sysconfig import get_python_lib; print(get_python_lib())&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;An example of the output of the script.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/usr/lib/python2.7/dist-packages
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Force no-cache via curl for a list of files&lt;/h2&gt;
&lt;p&gt;Useful when you have a proxy like squid caching some requests from an application and you
want to flush the cache and get the latest content (which will be cached again, but then
you can fix it once confirmed).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl --silent -H &lt;span class=&#34;s1&#34;&gt;&amp;#39;Cache-Control: no-cache&amp;#39;&lt;/span&gt; http://systemcachingvalues.local/somedoc.html
&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Find to which servers a Linux process is talking to&lt;/h2&gt;
&lt;p&gt;You have to find the pid of the process that you would like to investigate (e.g. 6364) and have
&lt;a href=&#34;http://linux.die.net/man/1/strace&#34;&gt;strace&lt;/a&gt; installed.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;strace -p &lt;span class=&#34;m&#34;&gt;6364&lt;/span&gt; -f -e &lt;span class=&#34;nv&#34;&gt;trace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;network -o output.txt
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command above creates output.txt with the trace information. Then you can grep for
the IP addresses with the following regex.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep -E -o &lt;span class=&#34;s2&#34;&gt;&amp;quot;(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&amp;quot;&lt;/span&gt; output.txt
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which will output something similar to the following example.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;127&lt;/span&gt;.0.1.1
&lt;span class=&#34;m&#34;&gt;127&lt;/span&gt;.0.1.1
&lt;span class=&#34;m&#34;&gt;127&lt;/span&gt;.0.1.1
&lt;span class=&#34;m&#34;&gt;192&lt;/span&gt;.168.20.4
&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.10.0.12
...
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And finally, you can call dig to get the server name, and also remove duplicates.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep -E -o &lt;span class=&#34;s2&#34;&gt;&amp;quot;(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&amp;quot;&lt;/span&gt; output.txt &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; xargs -l dig +noall +answer +nocmd -x &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{ print $5}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which gives you the following.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ec2-52-13-43-205.compute-1.amazonaws.com.
ec2-52-32-244-147.compute-1.amazonaws.com.
ec2-52-44-11-85.compute-1.amazonaws.com.
ec2-52-55-36-20.us-west-2.compute.amazonaws.com.
ec2-52-11-19-24.us-west-2.compute.amazonaws.com.
ec2-52-2-21-13.compute-1.amazonaws.com.
ec2-54-33-249-49.us-west-2.compute.amazonaws.com.
ec2-54-180-165-17.us-west-2.compute.amazonaws.com.
ec2-54-2-177-91.compute-1.amazonaws.com.
ec2-54-8-163-15.compute-1.amazonaws.com.
syd11s01-in-f124.1e110.net.
syd11s02-in-f5.1e110.net.
syd12s02-in-f3.1e110.net.
...
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That&amp;#8217;s all for today.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Using Active Choices with Role Strategy Plug-in</title>
            <link>/2016/04/24/using-active-choices-with-role-strategy-plugin</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>jenkins</category>
            
            <pubDate>2016-04-24T16:05:03+12:00</pubDate>
            <guid>/2016/04/24/using-active-choices-with-role-strategy-plugin</guid>
            <description>
            
            &lt;p&gt;Having worked in Open Source for a few years, one of my favorite things is when you can
share experience with other people that you meet. &lt;a href=&#34;https://github.com/agray&#34;&gt;Andrew Gray&lt;/a&gt;
has worked with .NET and Jenkins for years, and we met through Open Source. He has helped me
in the past with Jenkins and .NET, and also maintains the blog
&lt;a href=&#34;http://jenkinsheaven.blogspot.co.nz/&#34;&gt;Jenkins.NET&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A couple of days ago he sent me an interesting question. He asked me if that would be possible
to use Active Choices Plug-in with the &lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/Role+Strategy+Plugin&#34;&gt;Role Strategy Plug-in&lt;/a&gt;. This plug-in lets you define roles, define which permissions a role has, and then assign users to the roles.&lt;/p&gt;
&lt;p&gt;The idea was to show a set of parameters that would vary according to the user roles. So, say that the user
is a tester. Then s/he would see certain parameters. But if s/he was a manager, other parameters would be
displayed.&lt;/p&gt;
&lt;h2&gt;To the code&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.model.User&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.model.Hudson&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.security.AuthorizationStrategy&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.security.Permission&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.michelin.cio.hudson.plugins.rolestrategy.RoleBasedAuthorizationStrategy&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.michelin.cio.hudson.plugins.rolestrategy.RoleMap&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;AuthorizationStrategy&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Hudson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;michelin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hudson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;plugins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rolestrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RoleBasedAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;roleStrategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RoleBasedAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// not very straightforward to get the groups for a given user&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;roles&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roleStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getGrantedRoles&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;globalRoles&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roles&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;role&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;role&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;tester&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_TESTERS1&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_TESTERS2&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;role&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_ADMINS1&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_ADMINS2&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// TODO: handle anonymous user ;-)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And now let&amp;#8217;s dissect the code.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.model.User&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.model.Hudson&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.security.AuthorizationStrategy&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;hudson.security.Permission&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.michelin.cio.hudson.plugins.rolestrategy.RoleBasedAuthorizationStrategy&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.michelin.cio.hudson.plugins.rolestrategy.RoleMap&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You start by importing the classes that you need.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AuthorizationStrategy&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Hudson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The first line gets the current &lt;a href=&#34;https://github.com/jenkinsci/jenkins/blob/f6e431b80c4d162560419fa51633224a9724bb0d/core/src/main/java/hudson/security/AuthorizationStrategy.java&#34;&gt;AuthorizationStrategy&lt;/a&gt;
used in Jenkins.&lt;/p&gt;
&lt;p&gt;Then we create an empty array of jobs, which is the value returned by default. And get the current
logged in user ID.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;michelin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hudson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;plugins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rolestrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RoleBasedAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;roleStrategy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RoleBasedAuthorizationStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// not very straightforward to get the groups for a given user&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;roles&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roleStrategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getGrantedRoles&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;globalRoles&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;roles&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;role&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;key&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;role&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;tester&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_TESTERS1&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_TESTERS2&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;role&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userId&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_ADMINS1&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;PROJECT_FOR_ADMINS2&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jobs&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// TODO: handle anonymous user ;-)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The final part simply iterates through each existing role, and then through the
users in that role. I could not find a more elegant way of doing that, but in case
you would like to maybe optimize the code, here are the main classes that I
used from Jenkins to write the script.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jenkinsci/role-strategy-plugin/blob/b6dca7904ce1c83b3afef0995ef5f42823171b0b/src/main/java/com/michelin/cio/hudson/plugins/rolestrategy/RoleBasedAuthorizationStrategy.java&#34;&gt;RoleBasedAuthorizationStrategy.java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jenkinsci/role-strategy-plugin/blob/master/src/main/java/com/michelin/cio/hudson/plugins/rolestrategy/Role.java&#34;&gt;Role.java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jenkinsci/role-strategy-plugin/blob/b6dca7904ce1c83b3afef0995ef5f42823171b0b/src/main/java/com/michelin/cio/hudson/plugins/rolestrategy/RoleMap.java&#34;&gt;RoleMap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jenkinsci/jenkins/blob/f6e431b80c4d162560419fa51633224a9724bb0d/core/src/main/java/hudson/model/User.java&#34;&gt;User.java&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Normally I either use my local working copy of Jenkins project imported in Eclipse, or use the
&amp;#8220;Find File&amp;#8221; feature in GitHub. Then remember a little bit about Jenkins Java API to walk
through the classes and write the Groovy code (I made a
&lt;a href=&#34;https://www.youtube.com/watch?v=jmPJvJGEFb4&#34;&gt;video&lt;/a&gt; about writing Groovy with Auto Complete in
Eclipse, but that&amp;#8217;s in Portuguese only).&lt;/p&gt;
&lt;h2&gt;What the result looks like in Jenkins&lt;/h2&gt;
&lt;p&gt;In this section we have just simple screenshots, showing the script in the job configuration.&lt;/p&gt;
&lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2016/04/24/using-active-choices-with-role-strategy-plugin/screenshot01.png&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Screenshot 01&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2016/04/24/using-active-choices-with-role-strategy-plugin/screenshot01.png&#34; alt=&#34;Screenshot 01&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Screenshot 01&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;And the resulting screen. The parameter &lt;strong&gt;DeployAPP&lt;/strong&gt; will be available during the build,
and can be used to trigger other jobs or pipelines.&lt;/p&gt;
&lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2016/04/24/using-active-choices-with-role-strategy-plugin/screenshot02.png&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Screenshot 02&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2016/04/24/using-active-choices-with-role-strategy-plugin/screenshot02.png&#34; alt=&#34;Screenshot 02&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Screenshot 02&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;h2&gt;Where can you find this script?&lt;/h2&gt;
&lt;p&gt;This blog post has a copy of the script, but I have also submitted
a pull request to a &lt;a href=&#34;https://github.com/imoutsatsos/jenkins-scriptlets&#34;&gt;repository&lt;/a&gt;
maintained by another friend, &lt;a href=&#34;https://github.com/imoutsatsos&#34;&gt;Ioannis Moutsatsos&lt;/a&gt;. Ioannis
maintains a Jenkins installation in Novartis, and is probably the most skillful user
of the Active Choices Plug-in.&lt;/p&gt;
&lt;p&gt;Another advantage of this other copy, is that it may be updated with time, in case there are
bugs or improvements. So watch Ioannis&amp;#8217; repository for updates!&lt;/p&gt;
&lt;p&gt;ps: I&amp;#8217;ve also met Ioannis through Open Source code, and have learned a lot by working with him. &lt;/p&gt;
&lt;p&gt;♥ Open Source!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Drawing vector art: Kumamoto Kenjinkai mascot</title>
            <link>/2016/04/19/drawing-kumamoto-kenjinkai-mascot</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>illustrations</category>
            
            <pubDate>2016-04-19T21:39:03+12:00</pubDate>
            <guid>/2016/04/19/drawing-kumamoto-kenjinkai-mascot</guid>
            <description>
            
            &lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2016/04/19/drawing-kumamoto-kenjinkai-mascot/mascot.png&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Kumamoto Kenjinkai mascot&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2016/04/19/drawing-kumamoto-kenjinkai-mascot/mascot.png&#34; alt=&#34;Kumamoto Kenjinkai mascot&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Kumamoto Kenjinkai mascot&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;For Brazilian Kumamoto Kenjinkai. Done with Macromedia Freehand MX, some long time ago.&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Trying SaltStack with Docker</title>
            <link>/2016/04/17/trying-saltstack-with-docker</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>jenkins</category>
            
            <category>docker</category>
            
            <category>saltstack</category>
            
            <pubDate>2016-04-17T22:06:03+12:00</pubDate>
            <guid>/2016/04/17/trying-saltstack-with-docker</guid>
            <description>
            
            &lt;p&gt;Some weeks ago I started learning &lt;a href=&#34;http://saltstack.com/&#34;&gt;SaltStack&lt;/a&gt; for a project at work. But I couldn&amp;#8217;t
find a good Docker image for that and I had to ask the Ops team for some VM&amp;#8217;s. We
are having a rainy weekend in Auckland, so I decided to have another look at the
&lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/saltstack-plugin&#34;&gt;Jenkins SaltStack Plug-in&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But now since I was at home, I couldn&amp;#8217;t use the VM&amp;#8217;s that I had access to at
work. So decided to look again at Docker or Vagrant images. After playing
with a few images, I found &lt;a href=&#34;https://hub.docker.com/r/bbinet/salt-master/&#34;&gt;bbinet/salt-master&lt;/a&gt;.
It not only sets up a master, but also provides an easy way to enable the cherrypy
API (necessary for the Jenkins plug-in).&lt;/p&gt;
&lt;p&gt;This post describes the steps that I took to have a running Salt Master with the API
enabled. First you need to create some directories and files to use with the image.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;shell$ mkdir ~/master &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ~/master
shell$ mkdir -p config/master.d/
shell$ vim config/master.d/api.conf
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The api.conf contains the SaltStack API configuration. You can change port, user
and other settings if necessary. Just remember to add a credential in Jenkins
for the plug-in.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# File: api.conf&lt;/span&gt;
external_auth:
  pam:
    saltapiuser:
      - .*
      - &lt;span class=&#34;s1&#34;&gt;&amp;#39;@runner&amp;#39;&lt;/span&gt;
      - &lt;span class=&#34;s1&#34;&gt;&amp;#39;@wheel&amp;#39;&lt;/span&gt;
      - &lt;span class=&#34;s1&#34;&gt;&amp;#39;@jobs&amp;#39;&lt;/span&gt;
rest_cherrypy:
  port: &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt;
  host: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.0.0.0
  disable_ssl: True
  static: /opt/molten
  static_path: /assets
  app: /opt/molten/index.html
  app_path: /molten
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The image also conveniently provides a script that is executed before the
entry point (if provided). So we can also create a user for the API automatically
when the image is created.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;shell$ vim config/before-exec.sh
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;ch&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# File: before-exec.sh&lt;/span&gt;
useradd saltapiuser
&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;quot;nosecret\nnosecret\n&amp;quot;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; passwd saltapiuser
&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Also make the script executable.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;chmod +x config/before-exec.sh
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And finally start the container.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run --name salt-master -v &lt;span class=&#34;nv&#34;&gt;$PWD&lt;/span&gt;/config:/config &lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
    -p &lt;span class=&#34;m&#34;&gt;4505&lt;/span&gt;:4505 -p &lt;span class=&#34;m&#34;&gt;4506&lt;/span&gt;:4506 -p &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt;:443 -p &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt;:8000 &lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
    bbinet/salt-master
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Once the container is running, you can go to http://localhost:8000 and
log in as saltapiuser:nosecret, and also configure your plug-in
in Jenkins.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Geek Vacation 2016</title>
            <link>/2016/04/08/geek-vacation-2016</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>geek</category>
            
            <category>cylc</category>
            
            <pubDate>2016-04-08T22:17:03+12:00</pubDate>
            <guid>/2016/04/08/geek-vacation-2016</guid>
            <description>
            
            &lt;p&gt;I just had a two week vacation, and I tried to use my time to rest, play some music, and
complete a geek todo-list. &lt;/p&gt;
&lt;p&gt;The list included things that I used some time ago but wanted to
refresh my memory, things that I already used but never spent time reading the manuals, and
other things that I saw somewhere but never actually used in any project.&lt;/p&gt;
&lt;p&gt;Here the complete list, with the items that were completed highlighted. Some links with
pointers to what I used to study.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gdb, strace, ptrace, etc, sysdig, dtrace (looked for links at &lt;a href=&#34;https://news.ycombinator.com/&#34;&gt;HackerNews&lt;/a&gt; and &lt;a href=&#34;https://www.reddit.com/&#34;&gt;reddit&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;geodesy (&lt;a href=&#34;https://en.wikipedia.org/wiki/Geodesy&#34;&gt;Wikipedia&lt;/a&gt;, some PDF&amp;#8217;s) ✔&lt;/li&gt;
&lt;li&gt;QGIS (&lt;a href=&#34;http://www.bostongis.com/?content_name=qgis&#34;&gt;Boston GIS docs&lt;/a&gt; and &lt;a href=&#34;http://youtube.com&#34;&gt;YouTube&lt;/a&gt; videos) ✔&lt;/li&gt;
&lt;li&gt;SRS &amp;amp; CRS (&lt;a href=&#34;https://en.wikipedia.org/wiki/Spatial_reference_system&#34;&gt;Wikipedia&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;BioPython (&lt;a href=&#34;http://biopython.org/&#34;&gt;project page&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;BioConda (&lt;a href=&#34;https://bioconda.github.io/&#34;&gt;project page&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;Weaver &amp;amp; asm (&lt;a href=&#34;https://commons.apache.org/proper/commons-weaver/&#34;&gt;project page&lt;/a&gt; and &lt;a href=&#34;https://en.wikipedia.org/wiki/ObjectWeb_ASM&#34;&gt;Wikipedia&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;afl (project page, and some &lt;a href=&#34;http://kinoshita.eti.br/2016/02/27/learning-afl-and-testing-mapserver.html&#34;&gt;tests with MapServer&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;WFS (&lt;a href=&#34;https://en.wikipedia.org/wiki/Web_Feature_Service&#34;&gt;Wikipedia&lt;/a&gt;, &lt;a href=&#34;http://docs.geoserver.org/latest/en/user/services/wfs/reference.html&#34;&gt;GeoServer&lt;/a&gt; and &lt;a href=&#34;http://mapserver.org/ogc/wfs_server.html&#34;&gt;MapServer&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;SaltStack (&lt;a href=&#34;http://saltstack.com/&#34;&gt;project page&lt;/a&gt;, &lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/saltstack-plugin&#34;&gt;Jenkins Plug-ins for SaltStack&lt;/a&gt;, and a few tests with VM&amp;#8217;s and Docker) ✔&lt;/li&gt;
&lt;li&gt;InfluxDB (&lt;a href=&#34;https://influxdata.com/&#34;&gt;project page&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;rr (&lt;a href=&#34;http://rr-project.org/&#34;&gt;project page&lt;/a&gt; and some local tests) ✔&lt;/li&gt;
&lt;li&gt;ZeroMQ (&lt;a href=&#34;http://zeromq.org/&#34;&gt;project page&lt;/a&gt;, &lt;a href=&#34;https://github.com/saltstack/salt/blob/90b0a42a21dc11ca118ffbb679e0871f234c17bc/salt/transport/zeromq.py&#34;&gt;SaltStack source code&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;netty (&lt;a href=&#34;http://netty.io/&#34;&gt;project page&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;RethinkDB (&lt;a href=&#34;https://rethinkdb.com/&#34;&gt;project page&lt;/a&gt;, and a &lt;a href=&#34;https://github.com/kinow/jira-rethinkdb&#34;&gt;test project&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;C++ (templates, abstractions in C++, etc) (&lt;a href=&#34;http://www.codeproject.com/Articles/257589/An-Idiots-Guide-to-Cplusplus-Templates-Part&#34;&gt;just this article to remember syntax&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;Linear programming (&lt;a href=&#34;http://benalexkeen.com/linear-programming-with-python-and-pulp/&#34;&gt;PuLP docs&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;AKKA (&lt;a href=&#34;http://akka.io/&#34;&gt;project page&lt;/a&gt;) ✔&lt;/li&gt;
&lt;li&gt;Frege (&lt;a href=&#34;https://github.com/Frege/frege&#34;&gt;project page&lt;/a&gt; (reading their &lt;a href=&#34;https://www.gitbook.com/book/dierk/fregegoodness/details&#34;&gt;new book&lt;/a&gt;))&lt;/li&gt;
&lt;li&gt;JVM internals (played a little with &lt;a href=&#34;http://asm.ow2.org/&#34;&gt;asm&lt;/a&gt;, &lt;a href=&#34;http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html&#34;&gt;javap&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Java Concurrency (started re-reading &lt;a href=&#34;http://jcip.net/&#34;&gt;Java Concurrency in Practice&lt;/a&gt;, but still in the initial chapters)&lt;/li&gt;
&lt;li&gt;PostGIS (&lt;a href=&#34;postgis.net/&#34;&gt;project page&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Krita (&lt;a href=&#34;https://krita.org/&#34;&gt;project page&lt;/a&gt; and &lt;a href=&#34;http://www.davidrevoy.com/article193/guide-building-krita-on-linux-for-cats&#34;&gt;David Revoy&amp;#8217;s tutorials&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Scala (&lt;a href=&#34;http://www.scala-lang.org/&#34;&gt;project page&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Minecraft Forge (&lt;a href=&#34;http://www.minecraftforge.net/forum/&#34;&gt;project forum&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Graphs in Jenkins, cylc, Spark, Jena and clue/graph (didn&amp;#8217;t have time for this one)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Going to have less spare time now for Open Source and learning the rest of the stuff on this list,
but there&amp;#8217;s always some books to read, and things to learn anyway right ¯\&lt;em&gt;(ツ)&lt;/em&gt;/¯&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Deploying WAR files to Tomcat with Jenkins</title>
            <link>/2016/03/20/deploying-war-files-to-tomcat-with-jenkins</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>jenkins</category>
            
            <category>tomcat</category>
            
            <category>docker</category>
            
            <pubDate>2016-03-20T15:29:03+13:00</pubDate>
            <guid>/2016/03/20/deploying-war-files-to-tomcat-with-jenkins</guid>
            <description>
            
            &lt;p&gt;&lt;strong&gt;Table of Contents&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-deploying-with-custom-scripts&#34;&gt;Deploying with custom scripts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-deploying-with-a-build-tool&#34;&gt;Deploying with a build tool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-deploying-with-a-build-server&#34;&gt;Deploying with a build server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#final-thoughts&#34;&gt;Final thoughts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A co-worker asked me this week about how to deploy a WAR file to Tomcat with Jenkins. In my team we are
currently maintaining and deploying about 10 Java web systems, but we have no consistent way of deploying
the applications to Tomcat yet. In the past I used Ant, Maven, Cargo, Grunt, and Jenkins, so I
decided to write this short post to show a few different ways it can be achieved, &amp;agrave; la
&lt;a href=&#34;https://en.wikipedia.org/wiki/There&#39;s_more_than_one_way_to_do_it&#34;&gt;Perl&amp;#8217;s TMTOWTDI&lt;/a&gt; motto.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&#34;1-deploying-with-custom-scripts&#34; style=&#34;color: #222222;&#34;&gt;#1 Deploying with custom scripts&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;At first you may be tempted to write your own script to deploy to Tomcat with some Shell, Perl, Python
or Java. But I think I would choose this option only because either I needed some feature that is not
available in the other options, or in order to call other tasks or debug some problem.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker run -d -p &lt;span class=&#34;m&#34;&gt;8888&lt;/span&gt;:8080 jeanblanchard/tomcat:8
$ git clone https://github.com/spring-projects/spring-petclinic.git &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; spring-petclinic &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; mvn package
$ curl --upload-file target/petclinic.war &lt;span class=&#34;s2&#34;&gt;&amp;quot;http://admin:admin@localhost:8888/manager/text/deploy?path=/spring-petclinic&amp;amp;update=true&amp;quot;&lt;/span&gt;
OK - Deployed application at context path /spring-petclinic
&lt;/pre&gt;&lt;/div&gt;


            
            </description>
        </item>
        
        
        
        <item>
            <title>Drawing sketch: Cheese</title>
            <link>/2016/03/20/drawing-sketch-cheese</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>illustrations</category>
            
            <pubDate>2016-03-20T11:13:03+13:00</pubDate>
            <guid>/2016/03/20/drawing-sketch-cheese</guid>
            <description>
            
            &lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2016/03/20/drawing-sketch-cheese/cheese.png&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Cheese&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2016/03/20/drawing-sketch-cheese/cheese.png&#34; alt=&#34;Cheese&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Cheese&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;For &lt;a href=&#34;https://www.reddit.com/r/redditgetsdrawn/comments/42izou/this_is_me_with_my_favourite_food_its_cheese/&#34;&gt;redditgetsdrawn&lt;/a&gt;&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Learning afl and testing MapServer</title>
            <link>/2016/02/27/learning-afl-and-testing-mapserver</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>software quality</category>
            
            <category>fuzzers</category>
            
            <category>security</category>
            
            <category>software quality</category>
            
            <pubDate>2016-02-27T23:21:03+13:00</pubDate>
            <guid>/2016/02/27/learning-afl-and-testing-mapserver</guid>
            <description>
            
            &lt;p&gt;&lt;a href=&#34;http://lcamtuf.coredump.cx/afl/&#34;&gt;afl&lt;/a&gt; is a fuzzer, an application that combines a series of algorithms
in order to try invoking programs with several different input values. It then analyses the application
execution flow given different test case scenarios. 
You can read more about fuzzing at &lt;a href=&#34;https://www.owasp.org/index.php/Fuzzing&#34;&gt;this OWASP page&lt;/a&gt;, or in other
blogs that I also used while learning about afl &lt;a href=&#34;&#34; title=&#34;#1&#34;&gt;1&lt;/a&gt; &lt;a href=&#34;&#34; title=&#34;#2&#34;&gt;2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;At work we are using MapServer for serving WFS and WMS. And I am using it for the
&lt;a href=&#34;http://maps.nzoss.org.nz&#34;&gt;NZ OpenStreetMap maps&lt;/a&gt; too. MapServer is written in C++ and is normally
exposed as a CGI script, so I thought it was worth learning about afl and trying it on MapServer,
as in case it finds any interesting bug I can submit it to the MapServer project.&lt;/p&gt;

            
            </description>
        </item>
        

    </channel>
</rss>