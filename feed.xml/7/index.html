<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Bruno P. Kinoshita</title>
        <link>/</link>
        <atom:link href="/feed.xml/7" rel="self" type="application/rss+xml" />
        
        <description>Latest news from Bruno P. Kinoshita</description>
        
        <lastBuildDate>2019-03-15T23:28:37+13:00</lastBuildDate>
        <pubDate>2019-03-15T23:28:37+13:00</pubDate>
        <generator>PieCrust 3.2.1</generator>
        
        
        

        
        
        
        <item>
            <title>Changing Spring Boot environment variables in the command line</title>
            <link>/2016/11/21/changing-spring-boot-environment-variables-in-the-command-line-</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>shell script</category>
            
            <category>java</category>
            
            <category>spring</category>
            
            <pubDate>2016-11-21T21:26:03+13:00</pubDate>
            <guid>/2016/11/21/changing-spring-boot-environment-variables-in-the-command-line-</guid>
            <description>
            
            &lt;p&gt;This week while helping developers and testers to experiment with a backend application,
some of them found useful to learn a simple trick to change Spring Boot properties
when you can run the application locally (our testers build, compile, change the code, how cool
is that?).&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s how it works. Say you have the following settings in your application&amp;#8217;s
&lt;strong&gt;application.properties&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;my.application.database.username&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sa
my.application.database.password&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;notasimplepassword
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that you want to change these parameters in order to, for instance, create an application
error, so that you can code and test what happens to the frontend application in that situation.&lt;/p&gt;
&lt;p&gt;You replace &lt;em&gt;dots&lt;/em&gt; by &lt;em&gt;underscores&lt;/em&gt;, and put all your words in upper case. So the variables
above would be: MY_APPLICATION_DATABASE_USERNAME and MY_APPLICATION_DATABASE_PASSWORD.&lt;/p&gt;
&lt;p&gt;Furthermore, you do not need to edit your application.properties file, if you are on Linux or
Mac OS. You can start the application and override environment variables at the same time
with the following syntax.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&#34;nv&#34;&gt;MY_APPLICATION_DATABASE_USERNAME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;olivei &lt;span class=&#34;nv&#34;&gt;MY_APPLICATION_DATABASE_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;7655432222a mvn clean spring-boot:run
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This way your application will start with the new values.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#8212;EDIT&amp;#8212;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As pointed by Stéphane Nicoll (thanks!), you could change the property values
without having to use the upper case syntax.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mvn -Dmy.application.database.username&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;anotheruser clean spring-boot:run
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And he even included a link to &lt;a href=&#34;http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config&#34;&gt;docs&lt;/a&gt;! ♥ the Internet and Open Source!&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/kinow&#34;&gt;@kinow&lt;/a&gt; you can also specify them as command-line arguments (no need for the upper case thing)&lt;a href=&#34;https://t.co/zBKpgcXN1C&#34;&gt;https://t.co/zBKpgcXN1C&lt;/a&gt;&lt;br&gt;&lt;br&gt;or `-Drun.arguments`&lt;/p&gt;&amp;mdash; Stéphane Nicoll (@snicoll) &lt;a href=&#34;https://twitter.com/snicoll/status/800965565120708608&#34;&gt;November 22, 2016&lt;/a&gt;&lt;/blockquote&gt;

&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Add a header to a file with Shell script (sed)</title>
            <link>/2016/11/12/add-a-header-to-a-file-with-shell-script-sed</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>shell script</category>
            
            <pubDate>2016-11-12T01:55:03+13:00</pubDate>
            <guid>/2016/11/12/add-a-header-to-a-file-with-shell-script-sed</guid>
            <description>
            
            &lt;p&gt;Today I was re-generating the documentation for a REST API written in PHP, with
Laravel. To generate the documentation, one would have to call a Laravel command first.
That command would create a Markdown page. And since in this project I am using Jekyll
for the project site, the final step was adding a header to the file, so that Jekyll
can recognize that content as a blog post.&lt;/p&gt;
&lt;p&gt;Laravel allows you to add custom commands to your project, so I decided to write a command
that would call the other command that generates the documentation, and add an extra step
of adding the header to the Markdown file.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s the shell script part, that allows you to add a header to a file, in place (i.e.
it will alter and save the change your file).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sed -i 1i&lt;span class=&#34;s2&#34;&gt;&amp;quot;----\nlayout: page\ntitle: API Installation\n----\n\n&amp;quot;&lt;/span&gt; ./docs/documentation/api/api.md
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here the first argument to sed, &lt;em&gt;-i&lt;/em&gt; is for in place. Then that strange &lt;em&gt;1i&lt;/em&gt;
means that it will insert something before the first line, once. Then we have our header,
and finally the file.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Content negotiation with Spring Boot and React</title>
            <link>/2016/11/07/content-negotiation-with-spring-boot-and-react</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>java</category>
            
            <category>spring</category>
            
            <pubDate>2016-11-07T20:07:03+13:00</pubDate>
            <guid>/2016/11/07/content-negotiation-with-spring-boot-and-react</guid>
            <description>
            
            &lt;p&gt;A few days ago I had a bug in a system built with Spring Boot and React. The frontend application
was using a REST client in React, built in a similar way to what is found in the documentation, and
also in blogs.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rest&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;rest&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Rest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;However, for one of the Spring Boot application endpoints, the React component was not working. The
response seemed to be OK in the Network tab, of the browser developer tools. But the component was
failing and complaining when parsing the response.&lt;/p&gt;
&lt;p&gt;Turns out that the frontend was sending the request with the header &lt;code&gt;Accept: text/plain, application/json&lt;/code&gt;.
And Spring Boot was just using its &lt;a href=&#34;https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc&#34;&gt;default content negotiation&lt;/a&gt;
and returning what the frontend requested: a text plain version of, what looked like, JSON.&lt;/p&gt;
&lt;p&gt;The quick fix was to request the content as JSON in React.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rest&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;rest&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mime&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;rest/interceptor/mime&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Rest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wrap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mime&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;mime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/json&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now we will revisit the backend to return the JSON content, as content, regardless of what
the user asks :-)&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Checking the operating system type in shell script</title>
            <link>/2016/11/05/checking-the-operating-system-type-in-shell-script</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>shell script</category>
            
            <pubDate>2016-11-05T23:27:03+13:00</pubDate>
            <guid>/2016/11/05/checking-the-operating-system-type-in-shell-script</guid>
            <description>
            
            &lt;p&gt;Last week I learned about a tool called &lt;a href=&#34;https://github.com/koalaman/shellcheck&#34;&gt;ShellCheck&lt;/a&gt;, a tool
for static analysis of shell scripts. It reports errors like missing double quotes, use of deprecated
syntax, etc.&lt;/p&gt;
&lt;p&gt;I decided to check some projects I contribute to, and the first issue I found was in
&lt;a href=&#34;https://jena.apache.org&#34;&gt;Apache Jena&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kinow@localhost:~/Development/java/jena/jena/apache-jena/bin$ shellcheck arq

In arq line &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt;:
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OSTYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt; in
          ^-- SC2039: In POSIX sh, OSTYPE is not supported.
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;So, in summary, the &lt;code&gt;OSTYPE&lt;/code&gt; variable should not be available in POSIX shell. The case in question, where
&lt;code&gt;OSTYPE&lt;/code&gt; is being used, checks for the Darwin OS type (i.e. Mac OS). Knowing how things get weird when you
use different operating systems, I decided to check and learn how &lt;code&gt;OSTYPE&lt;/code&gt; works. Here&amp;#8217;s what I found.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In Ubuntu, with /bin/bash, OSTYPE works fine (linux-gnu)&lt;/li&gt;
&lt;li&gt;In Ubuntu, with /bin/sh, OSTYPE is not set&lt;/li&gt;
&lt;li&gt;In Mac OS, with /bin/sh, OSTYPE is set (darwin15)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I checked the shells to make sure they were not pointing to symbolic links - some distributions
use a different default shell, and replace /bin/bash and/or /bin/sh by a link to another
shell. Looks like Mac OS has a POSIX shell that behaves different than Ubuntu&amp;#8217;s.&lt;/p&gt;
&lt;p&gt;Instead of trying to find a way to use &lt;code&gt;OSTYPE&lt;/code&gt;, I decided to spend some time looking at
how other projects do the same thing. And the best example I could find was
&lt;a href=&#34;https://git.kernel.org/cgit/git/git.git/tree/config.mak.uname&#34;&gt;git&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instead of relying on &lt;code&gt;OSTYPE&lt;/code&gt;, git uses &lt;code&gt;uname&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I will spend some time during the next days working on a proposal to replace the &lt;code&gt;OSTYPE&lt;/code&gt;
from Apache Jena scripts, but then may have to submit more changes for the other issues
found by ShellCheck.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Using the AWS API with Python</title>
            <link>/2016/10/04/using-the-aws-api-with-python</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>python</category>
            
            <category>aws</category>
            
            <pubDate>2016-10-04T21:15:03+13:00</pubDate>
            <guid>/2016/10/04/using-the-aws-api-with-python</guid>
            <description>
            
            &lt;p&gt;Amazon Web Services provides a series of cloud services. When you access the web interface, most - if not all - of the actions you do there are actually translated into API calls.&lt;/p&gt;
&lt;p&gt;They also provide SDK&amp;#8217;s in several programming languages. With these SDK&amp;#8217;s you are able to call the same API used by the web interface. Python has &lt;a href=&#34;https://github.com/boto/boto3&#34;&gt;boto&lt;/a&gt; (or boto3) which lets you to automate several tasks in AWS.&lt;/p&gt;
&lt;p&gt;But before you start using the API, you will need to &lt;a href=&#34;https://web.archive.org/web/20160818112016/http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSGettingStartedGuide/AWSCredentials.html&#34;&gt;set up your access key&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It is likely that with time you will have different roles, and may have different permissions with each role. You have to configure your local environment so that you can either use the command line Python utility (installed via &lt;code&gt;pip install awscli&lt;/code&gt;) or with boto.&lt;/p&gt;
&lt;p&gt;The awscli is a dependency for using boto3. After you install it, you need to run &lt;code&gt;aws configure&lt;/code&gt;. It will create the &lt;em&gt;~/.aws/config&lt;/em&gt; and &lt;em&gt;~/.aws/credentials&lt;/em&gt; files. You can tweak these files to support multiple roles.&lt;/p&gt;
&lt;p&gt;I followed the tutorials, but got all sorts of different issues. Then after debugging some locally installed dependencies, in special awscli files, I found that the following settings work for my environment.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# File: config&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;profile default&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;region&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ap-southeast-2

&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;profile profile1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;region&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ap-southeast-2
&lt;span class=&#34;nv&#34;&gt;source_profile&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; default
&lt;span class=&#34;nv&#34;&gt;role_arn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; arn:aws:iam::123:role/Developer

&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;profile profile2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;region&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ap-southeast-2
&lt;span class=&#34;nv&#34;&gt;source_profile&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; default
&lt;span class=&#34;nv&#34;&gt;role_arn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; arn:aws:iam::456:role/Sysops
&lt;span class=&#34;nv&#34;&gt;mfa_serial&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; arn:aws:iam::789:mfa/user@domain.blabla
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# File: credentials&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;default&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;aws_access_key_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; YOU_KEY_ID
&lt;span class=&#34;nv&#34;&gt;aws_secret_access_key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; YOUR_SECRET
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And once it is done you can, for example, confirm it is working with some S3 commands in Python.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/env python3&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;boto3&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;session&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;boto3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;profile_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;profile2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;s3&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;found&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;False&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;mysuperduperbucket&amp;#39;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buckets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;found&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;found&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Creating bucket...&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_bucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;file_location&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dirname&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;realpath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;vm&#34;&gt;__file__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sep&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;samplefile.txt&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;s3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;meta&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;upload_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file_location&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;book.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The AWS files in this example are using MFA too, the multi-factor authentication. So the first time you run this code you may be asked to generate a token, which will be cached for a short time.&lt;/p&gt;
&lt;p&gt;That&amp;#8217;s it for today.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Best place to find science fiction books in New Zealand</title>
            <link>/2016/10/02/best-place-to-find-science-fiction-books-in-new-zealand</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>science-fiction</category>
            
            <category>books</category>
            
            <pubDate>2016-10-02T21:57:03+13:00</pubDate>
            <guid>/2016/10/02/best-place-to-find-science-fiction-books-in-new-zealand</guid>
            <description>
            
            &lt;p&gt;Since I moved to New Zealand it has been hard to find good science fiction sections in the local book stores. I really miss the Livraria Cultura at Avenida Paulista, or the Saraiva Megastores. Whitcoulls and Paper Plus do a good job, but they have very few series, only recent releases, and you do not feel that cool environment while you browse the books.&lt;/p&gt;
&lt;p&gt;I found that small secondhand bookstores are the best places to find good books - not only science fiction - in New Zealand. Devonport has one, near the waterfront. Auckland has Jason books too, right in the CBD. Wellington, Dunedin and Queenstown too (the Queenstown one is on the second level in a small mall, you have to check it out!).&lt;/p&gt;
&lt;p&gt;But last week I remembered my wife telling me about this web site, &lt;a href=&#34;https://www.hardtofind.co.nz/&#34;&gt;https://www.hardtofind.co.nz/&lt;/a&gt;. I found several books from &lt;a href=&#34;http://kinoshita.eti.br/books/#my-wish-list&#34;&gt;my Wish List&lt;/a&gt; there, and also other Stephen King books recommended by the bookstore clerk from Queenstown.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered image&#34; src=&#34;/2016/10/02/best-place-to-find-science-fiction-books-in-new-zealand/books-hard-to-find-store.jpg&#34; alt=&#34;Books from Hard To Find bookstore&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you are into science fiction, Asimov, Neal Stephenson, Peter H. Hamilton, Piers Anthony, Arthur C. Clarke, Stephen King, etc, I am sure you will enjoy going to the Hard To Find store in Onehunga. It is near the Dress Smart. So during week if you stop by Dress Smart, you can hop on their free bus from the city centre and later enjoy checking out the store too.&lt;/p&gt;
&lt;p&gt;It is a two story house, with lots of rooms, with science fiction, New Zealand, maritime sports, arts, poetry, health, etc.&lt;/p&gt;
&lt;p&gt;Happy reading!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Performance problems in Jenkins TAP Plug-in &mdash; part 1</title>
            <link>/2016/09/03/performance-problems-in-jenkins-tap-plugin-part-1</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>programming</category>
            
            <category>jenkins</category>
            
            <category>software quality</category>
            
            <pubDate>2016-09-03T23:28:03+12:00</pubDate>
            <guid>/2016/09/03/performance-problems-in-jenkins-tap-plugin-part-1</guid>
            <description>
            
            &lt;p&gt;&lt;a href=&#34;https://issues.jenkins-ci.org/browse/JENKINS-17887&#34;&gt;JENKINS-17887&lt;/a&gt; reports performance problems in the &lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin&#34;&gt;Jenkins TAP Plug-in&lt;/a&gt;. It also lists a series of suggestions on how to improve the Jenkins TAP Plug-in performance. On this initial post, we will get a general idea of how the plug-in performs for large projects.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://bioperl.org/&#34;&gt;BioPerl&lt;/a&gt; has over 21K tests. That should be enough for giving an initial idea of CPU, memory and disk usage for the plug-in.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/bioperl/bioperl-live.git
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; bioperl-live
sudo cpanm  -vv --installdeps --notest .
sudo cpanm Set::Scalar Graph::Directed XML::LibXML XML::SAX &lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
    SVG XML::Parser::PerlSAX Convert::Binary::C XML::SAX::Writer &lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
    XML::DOM::XPath Spreadsheet::ParseExcel XML::SAX::Writer &lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
    XML::DOM HTML::TableExtract XML::Simple Test::Pod DBI
prove -r t/ -a tests.tar.gz

All tests successful.
&lt;span class=&#34;nv&#34;&gt;Files&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;325&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;Tests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;21095&lt;/span&gt;, &lt;span class=&#34;m&#34;&gt;94&lt;/span&gt; wallclock secs &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;.47 usr  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.55 sys + &lt;span class=&#34;m&#34;&gt;88&lt;/span&gt;.29 cusr  &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.85 &lt;span class=&#34;nv&#34;&gt;csys&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;95&lt;/span&gt;.16 CPU&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Result: PASS
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;When the test results are parsed, the plug-in also copies TAP files over to the master, in a folder called &lt;em&gt;tap-master-files&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The BioPerl tests are not really big, just &lt;strong&gt;1.7M&lt;/strong&gt;. It gets doubled as there will be the workspace copy, and the tap-master-files directory copy, so &lt;strong&gt;3.4M&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;But several objects get created in memory, and persisted into the build.xml job file. BioPerl generates a build.xml file with &lt;strong&gt;11M&lt;/strong&gt;. So &lt;strong&gt;less than 15M&lt;/strong&gt;. But the build.xml contains objects that are read via XStream by Jenkins and into the memory.&lt;/p&gt;
&lt;p&gt;The build page with the graph, and the other two test result pages are rendering in more than 10 seconds in my computer. But the CPU load is OK, so a closer look at the memory use would probably be more interesting.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered image&#34; src=&#34;/2016/09/03/performance-problems-in-jenkins-tap-plugin-part-1/JENKINS-17887-yourkit1.png&#34; alt=&#34;JENKINS-17887 YourKit profiler&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The image shows one of the screens in YourKit profiler, where it is possible to see that &lt;strong&gt;org.tap4j.plugin.model.TapTestResultResult&lt;/strong&gt; has over 6 million objects.&lt;/p&gt;
&lt;p&gt;One build.xml for the BioPerl project gets over 80K entries for the TestResult object.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;quot;org.tap4j.model.TestResult&amp;quot;&lt;/span&gt; builds/1/build.xml -o &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; wc -l
&lt;span class=&#34;m&#34;&gt;84522&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This happens because each TAP file may contain multiple test results (lines with test results). Each of these test results gets turned into a Java object and loaded by the plug-in. So when loading the test result pages, Jenkins needs to wait until all these objects have been parsed, deserialized and read into the memory.&lt;/p&gt;
&lt;p&gt;The next post will continue on code improvements, and another benchmark.&lt;/p&gt;
&lt;p&gt;Happy profiling!&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Revamping Frege logo &mdash; part 2</title>
            <link>/2016/08/24/revamping-frege-logo-part-2</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>programming</category>
            
            <category>illustrations</category>
            
            <pubDate>2016-08-24T23:54:03+12:00</pubDate>
            <guid>/2016/08/24/revamping-frege-logo-part-2</guid>
            <description>
            
            &lt;p&gt;Last time I used Blender was around 2007 I think, in University. But the bad weather in
Auckland gives me plenty of time to have fun checking out Blender again :-)&lt;/p&gt;
&lt;p&gt;Followed the following tutorials:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=GeKhH1aaXuM&#34;&gt;How to create a 3D Logo in Blender&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=LArn4TFNnmk&#34;&gt;Blender Tutorial Spinning Logo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here are the work in progress, created only with the b&amp;eacute;zier curve.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Frege_logo_flat_colours.png&#34; alt=&#34;Frege updated logo&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-14_20-19-35.png&#34; alt=&#34;Frege 3D #1&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-14_20-39-46.png&#34; alt=&#34;Frege 3D #2&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-14_20-41-15.png&#34; alt=&#34;Frege 3D #3&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-14_20-41-34.png&#34; alt=&#34;Frege 3D #4&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-14_20-57-02.png&#34; alt=&#34;Frege 3D #5&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-23_22-07-54.png&#34; alt=&#34;Frege 3D #6&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Screenshot_2016-08-23_22-30-24.png&#34; alt=&#34;Frege 3D #7&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s the result after the mesh was created, and some material applied.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Frege3d1.png&#34; alt=&#34;Frege 3D #8&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Then using a plane as background, replacing the lamp by a sun, and tweaking a few parameters.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/Frege3d2.png&#34; alt=&#34;Frege 3D #9&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And finally playing with animation. Not sure if there was a time line and animation controls in
Blender the last time I used it, but the controls are not really complex.&lt;/p&gt;
&lt;p&gt;I had to combine both meshes into a single object, in order to add a bone and rotate it. That
is why the logo got back to a single material. The angle of the camera could probably do with
some tweaking as well.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered image&#34; src=&#34;/2016/08/24/revamping-frege-logo-part-2/ezgif.com-resize.gif&#34; alt=&#34;Frege 3D #10&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But it was my very first time animating in Blender. Some day if I get access to one of those
3D printers, I will check what are the requirements for printing this logo.&lt;/p&gt;
&lt;p&gt;Blender models can be downloaded &lt;a href=&#34;https://github.com/kinow/kinoshita.eti.br/tree/master/posts/2016-08-24_revamping-frege-logo-part-2-assets&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now back to programming :-)&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Revamping Frege logo</title>
            <link>/2016/08/16/revamping-frege-logo</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>programming</category>
            
            <category>illustrations</category>
            
            <pubDate>2016-08-16T23:54:03+12:00</pubDate>
            <guid>/2016/08/16/revamping-frege-logo</guid>
            <description>
            
            &lt;p&gt;For a while I had been wanting to try adding a flat colour to the Frege
logo. This weekend had some bit of spare time, and here is the result.&lt;/p&gt;
&lt;p&gt;Submitted to the project as &lt;a href=&#34;https://github.com/Frege/frege/pull/299/files&#34;&gt;pull request #299&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Current logo.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/16/revamping-frege-logo/Frege_logo.png&#34; alt=&#34;Frege current logo&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And the updated logo.&lt;/p&gt;
&lt;p&gt;&lt;img class=&#34;ui centered large image&#34; src=&#34;/2016/08/16/revamping-frege-logo/Frege_logo_flat_colours.png&#34; alt=&#34;Frege updated logo&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The colour used was Flamingo (#EF4836), found in &lt;a href=&#34;http://www.flatuicolorpicker.com/&#34;&gt;Flat UI Color Picker&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Perhaps not exactly revamping, since all I did was just change a colour. There were
adjustments to the b&amp;eacute;zier curves as well, to better align them, but I updated both
logos, not just the new one :-)&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Reading notes about DRMAA v2</title>
            <link>/2016/07/20/reading-notes-about-drmaa-v2</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>programming</category>
            
            <category>grid computing</category>
            
            <pubDate>2016-07-20T19:59:03+12:00</pubDate>
            <guid>/2016/07/20/reading-notes-about-drmaa-v2</guid>
            <description>
            
            &lt;p&gt;The DRMAA v2 specification draft is ready to be published, and is in &lt;a href=&#34;https://redmine.ogf.org/boards/36/topics/494&#34;&gt;public
comment&lt;/a&gt; until 31st July this year.
I used DRMAA v1 to integrate Jenkins and PBS some time ago, but it was not a
very elegant solution.&lt;/p&gt;
&lt;p&gt;And in the end integrating other grid computing implementations like SGE would
not be very simple.&lt;/p&gt;
&lt;p&gt;This post contains my reading notes for DRMAA v2, and a short analysis of how
this new specification could be used in a new tentative to integrate
Jenkins and several grid computing implementations in a single plug-in.&lt;/p&gt;

            
            </description>
        </item>
        

    </channel>
</rss>