<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Bruno P. Kinoshita</title>
        <link>/</link>
        <atom:link href="/feed.xml/4" rel="self" type="application/rss+xml" />
        
        <description>Latest news from Bruno P. Kinoshita</description>
        
        <lastBuildDate>2018-08-11T21:35:14+12:00</lastBuildDate>
        <pubDate>2018-08-11T21:35:14+12:00</pubDate>
        <generator>PieCrust 3.2.0</generator>
        
        
        

        
        
        
        <item>
            <title>Apache Commons Text LookupTranslator</title>
            <link>/2017/06/02/apache-commons-text-lookuptranslator</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            
            
            <category>apache software foundation</category>
            
            <category>java</category>
            
            <category>opensource</category>
            
            <category>programming</category>
            
            <pubDate>2017-06-02T22:50:39+12:00</pubDate>
            <guid>/2017/06/02/apache-commons-text-lookuptranslator</guid>
            <description>
            
            &lt;p&gt;&lt;a href=&#34;http://commons.apache.org/proper/commons-text/&#34;&gt;Apache Commons Text&lt;/a&gt; includes several algorithms for text processing. Today&amp;#8217;s post is about one of the classes available since the 1.0 release, the &lt;a href=&#34;http://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/translate/LookupTranslator.html&#34;&gt;LookupTranslator&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It is used to translate text using a lookup table. Most users won&amp;#8217;t necessarily be - knowingly - using this class. Most likely, they will use the &lt;a href=&#34;http://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html&#34;&gt;StringEscapeUtils&lt;/a&gt;, which contains methods to escape and unescape CSV, JSON, XML, Java, and EcmaScript.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;original&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;He didn&amp;#39;t say, \&amp;quot;stop!\&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expected&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;He didn&amp;#39;t say, \\\&amp;quot;stop!\\\&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StringEscapeUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;escapeJava&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;original&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;StringEscapeUtils uses CharSequenceTranslator&amp;#8217;s, including LookupTranslator. You can use it directly too, to escape other data your text may contain, special characters not supported by some third party library or system, or even a simpler case.&lt;/p&gt;
&lt;p&gt;In other words, you would be creating your own StringEscapeUtils. Let&amp;#8217;s say you have some text where numbers must never start with the zero digital, due to some restriction in the way you use that data later.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lookupTable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;lookupTable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LookupTranslator&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;escapeNumber0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LookupTranslator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[][]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;escaped&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;escapeNumber0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;translate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;There are 02 texts waiting for analysis today...&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That way the resulting text would be &amp;#8220;There are 2 texts waiting for analysis today&amp;#8221;, allowing you to proceed with the rest of your analysis. This is a very simple example, but hopefully you grokked how LookupTranslator works.&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Some links related to Apache Commons Text</title>
            <link>/2017/05/28/some-links-related-to-apache-commons-text</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            
            
            <category>apache software foundation</category>
            
            <category>java</category>
            
            <category>opensource</category>
            
            <category>programming</category>
            
            <pubDate>2017-05-28T19:50:39+12:00</pubDate>
            <guid>/2017/05/28/some-links-related-to-apache-commons-text</guid>
            <description>
            
            &lt;p&gt;&lt;a href=&#34;http://commons.apache.org/proper/commons-text/&#34;&gt;Apache Commons Text&lt;/a&gt; is one of the most recent new components in Apache Commons. It &amp;#8220;is a library focused on algorithms working on strings&amp;#8221;. I recently collected some links
under a bookmark folder that are in some way related to the project. In case you are interested,
check some of the links below.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=bx3NOoroV-M&#34;&gt;Morgan Wahl Text is More Complicated Than You Think Comparing and Sorting Unicode PyCon 2017&lt;/a&gt; &lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/bx3NOoroV-M?rel=0&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;&lt;ul&gt;
&lt;li&gt;Q: test [text] to check if our methods are OK with some examples in this talk)&lt;/li&gt;
&lt;li&gt;Q: Canonical Decomposition, and code points comparisons; are we doing it? Are we doing it right?&lt;/li&gt;
&lt;li&gt;Q: Do we have casefolding?&lt;/li&gt;
&lt;li&gt;Q: Do we have multi-level sort?&lt;/li&gt;
&lt;li&gt;Q: CLDR&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=7m5JA3XaZ4k&#34;&gt;Łukasz Langa Unicode what is the big deal PyCon 2017&lt;/a&gt; &lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/7m5JA3XaZ4k?rel=0&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;&lt;ul&gt;
&lt;li&gt;Q: Quite sure we have an issue to guess the encoding for a text&amp;#8230;. there is a GPL library for that? Under Mozilla perhaps?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=kTS2b6pGElE&#34;&gt;Jiaqi Liu Fuzzy Search Algorithms How and When to Use Them PyCon 2017&lt;/a&gt; &lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/kTS2b6pGElE?rel=0&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;&lt;ul&gt;
&lt;li&gt;Q: Does OpenNLP have N-GRAM&amp;#8217;s? Would it make sense to have that in [text]?&lt;/li&gt;
&lt;li&gt;Q: Where can we find some tokenizers? OpenNLP?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www-igm.univ-mlv.fr/~berstel/Lothaire/&#34;&gt;Lothaire&amp;#8217;s Books&lt;/a&gt; like &amp;#8220;Combinatorics on Words&amp;#8221; and &amp;#8220;Algebraic Combinatorics&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Java tutorial lesson &lt;a href=&#34;https://docs.oracle.com/javase/tutorial/i18n/text/&#34;&gt;&amp;#8220;Working with Text&amp;#8221;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mitzi Morris&amp;#8217; &lt;a href=&#34;https://www.amazon.com/Text-Processing-Java-Mitzi-Morris/dp/0988208725&#34;&gt;Text Processing in Java book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://johannburkard.de/software/stringsearch/&#34;&gt;StringSearch&lt;/a&gt; java library.&lt;ul&gt;
&lt;li&gt;&lt;blockquote&gt;&amp;#8220;The Java language lacks fast string searching algorithms. StringSearch provides implementations of the Boyer-Moore and the Shift-Or (bit-parallel) algorithms. These algorithms are easily five to ten times faster than the na&amp;iuml;ve implementation found in java.lang.String&amp;#8221;.&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jakarta.apache.org/oro/&#34;&gt;Jakarta Oro&lt;/a&gt; (attic)&lt;ul&gt;
&lt;li&gt;&lt;blockquote&gt;The Jakarta-ORO Java classes are a set of text-processing Java classes that provide Perl5 compatible regular expressions, AWK-like regular expressions, glob expressions, and utility classes for performing substitutions, splits, filtering filenames, etc. This library is the successor to the OROMatcher, AwkTools, PerlTools, and TextTools libraries originally from ORO, Inc. Despite little activity in the form of new development initiatives, issue reports, questions, and suggestions are responded to quickly.&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;Discontinued, but is there anything useful in there? The attic has always interesting things after all&amp;#8230;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://textprocessing.org/&#34;&gt;TextProcessing blog&lt;/a&gt; - A Text Processing Portal for Humans&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/twitter/twitter-text&#34;&gt;twitter-text&lt;/a&gt;, the Twitter Java (multi-language actually&amp;#8230;) text processing library.&lt;/li&gt;
&lt;li&gt;Python&amp;#8217;s &lt;a href=&#34;https://docs.python.org/3/library/text.html&#34;&gt;text modules&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>When you don't realize you need a Comparable</title>
            <link>/2017/05/15/when-you-dont-realize-you-need-a-comparable</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            
            
            <category>apache software foundation</category>
            
            <category>java</category>
            
            <category>opensource</category>
            
            <category>programming</category>
            
            <pubDate>2017-05-15T23:07:39+12:00</pubDate>
            <guid>/2017/05/15/when-you-dont-realize-you-need-a-comparable</guid>
            <description>
            
            &lt;p&gt;&lt;a href=&#34;/2012/10/20/replacing-a-hashset-with-a-bitset&#34;&gt;In 2012, I wrote&lt;/a&gt; about how you always learn something new by following the &lt;a href=&#34;http://www.apache.org/foundation/mailinglists.html&#34;&gt;Apache dev mailing lists&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After about five years, I am still learning, and still getting impressed by the knowledge of other
developers. Days ago I was massaging some code in &lt;a href=&#34;https://github.com/apache/jena/pull/237&#34;&gt;a pull request&lt;/a&gt;
and a developer suggested me to simplify my code.&lt;/p&gt;
&lt;p&gt;The suggestion was to make a class a &lt;a href=&#34;https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html&#34;&gt;Comparable type&lt;/a&gt;
to both simplify the code, and also have a better design. I immediately agreed, and looking back in hindsight,
it was the most logical choice. Yet, I simply did not think about that.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c1&#34;&gt;// What the code was&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VSPACE_SORTKEY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getCollation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getCollation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// locales are parsed. Here we could think about caching if necessary&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Locale&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;desiredLocale&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Locale&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forLanguageTag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Collator&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;collator&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;desiredLocale&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;collator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compare&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nv1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;XSDFuncOp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nv1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cmp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c1&#34;&gt;// What the code is now&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VSPACE_SORTKEY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NodeValueSortKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compareTo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NodeValueSortKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nv2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This moved the logic to a method in the &lt;code&gt;NodeValueSortKey&lt;/code&gt; class. This reduced the complexity
of the class with the &lt;code&gt;switch&lt;/code&gt; statement. And it also made it easier to write unit tests.&lt;/p&gt;
&lt;p&gt;If you are not involved in Open Source projects yet, I keep my suggestion from five years ago.
Find a project related to something you like, and start reading the code, lurk in the
mailing list or watch GitHub repositories.&lt;/p&gt;
&lt;p&gt;You can always learn more!&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Drawing sketch: Page 036</title>
            <link>/2017/04/24/drawing-sketch-page-036</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>illustrations</category>
            
            <pubDate>2017-04-24T00:41:03+12:00</pubDate>
            <guid>/2017/04/24/drawing-sketch-page-036</guid>
            <description>
            
            &lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui container&#34; style=&#39;text-align: center;&#39;&gt;
&lt;figure&gt;
&lt;a href=&#34;/2017/04/24/drawing-sketch-page-036/sketch-book-036.jpg&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Page 036&#34;&gt;
&lt;img class=&#34;ui fluid image&#34; src=&#34;/2017/04/24/drawing-sketch-page-036/sketch-book-036.jpg&#34; alt=&#34;Page 036&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Page 036&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Almost ANZAC day. And almost time to switch back to coding Jenkins plug-ins.&lt;/p&gt;
&lt;p&gt;Normally sketch more in-between development cycles for Open Source projects, or
contract works.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://animals.nationalgeographic.com/animals/invertebrates/krill/&#34;&gt;Krill&lt;/a&gt;: Krill are small crustaceans of the order Euphausiacea, and are found in all the world&amp;#8217;s oceans. The name krill comes from the Norwegian word krill, meaning &amp;#8220;small fry of fish&amp;#8221;, which is also often attributed to species of fish.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://nzbirdsonline.org.nz/species/tui&#34;&gt;Tui&lt;/a&gt;: Tui are boisterous, medium-sized, common and widespread bird of forest and suburbia – unless you live in Canterbury. They look black from a distance, but in good light tui have a blue, green and bronze iridescent sheen, and distinctive white throat tufts (poi). They are usually very vocal, with a complicated mix of tuneful notes interspersed with coughs, grunts and wheezes. In flight, their bodies slant with the head higher than the tail, and their noisy whirring flight is interspersed with short glides.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.goodreads.com/quotes/209171-at-bottom-you-see-we-are-not-homo-sapiens-as&#34;&gt;Fatigue or Craziness&lt;/a&gt;: Lots of crazy people on Queen Street during holidays.&lt;/li&gt;
&lt;/ul&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Troubleshooting a Jenkins Plug-in compatibility issue</title>
            <link>/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>jenkins</category>
            
            <category>java</category>
            
            <category>programming</category>
            
            <category>opensource</category>
            
            <pubDate>2017-04-17T21:01:03+12:00</pubDate>
            <guid>/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue</guid>
            <description>
            
            &lt;p&gt;This post is probably different from others. I will give a TL;DR, but will then
give you a copy of
&lt;a href=&#34;https://issues.jenkins-ci.org/browse/JENKINS-42655?focusedCommentId=291470&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-291470&#34;&gt;a comment of a Jenkins JIRA issue&lt;/a&gt;.
Hope you have fun reading it,
specially if you maintain Jenkins servers or plug-ins.&lt;/p&gt;
&lt;p&gt;TL;DR: there was an issue in Jenkins Job DSL Plug-in, that caused jobs created to
have an invalid script. The fix had not been released, but was already in the
master branch in GitHub.&lt;/p&gt;
&lt;p style=&#34;text-align: center; color: #DDDDDD;&#34;&gt;&amp;diams;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Well, that was fun bug reproduced, I believe I know why that&amp;#8217;s happening. Not so complicated to fix&amp;#8230; but no fast way to fix it. Here&amp;#8217;s the issue analysis (grab a coffee to read it).&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Downloaded jenkins.war (2.32.3.war)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;mkdir /tmp/123&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;JENKINS_HOME=/tmp/123 java -jar jenkins.war&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Entered secret into form and submitted&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Installed suggested plugins (boy that takes a while)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Created temp user&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Installed (without restart) active-choices-plugin 1.5.3&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Installed (without restart) job-dsl-plugin&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Manually stopped Jenkins, and started it again with same command #3&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Log in with user, all looking good&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Created Freestyle job JENKINS-42655 (see attached config.xml)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Executed job, and found new job JENKINS-42655-1&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Never opened the job configuration, clicked on the &amp;#8220;Generated Items link to JENKINS-42655-1&amp;#8221; to open in a new tab&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Clicked on Build with Parameters&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Looked at logs, and noticed the security-script-plugin exceptions&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Went to &amp;#8220;Manage Jenkins&amp;#8221; / &amp;#8220;In-process Script Approval&amp;#8221; and approved scripts&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Went back to the JENKINS-42655-1 build with parameters screen, and everything worked as expected&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;em&gt;Hummm. Issue more or less reproduced. Let&amp;#8217;s investigate more.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Restarted Jenkins again&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Changed the JENKINS-42655 seed job configuration to use a different script&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Copied the config.xml file to another location&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Went to build with parameters, and now it was broken again&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Saved the job manually&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Copied the config.xml file to yet another location&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Went to build with parameters, and now it worked as reported in this issue&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Now comes the interesting part. Looking at the diff. Attaching a screen shot so that others can have fun looking at it too. I installed Kompare as it has some cool features such as disabling diff for white spaces, blank lines, etc. The whole file changes as you save it. But if you ignore the number of white spaces&amp;#8230; Then you can see that the Job DSL Plug-in is creating a &amp;lt;script&amp;gt; tag, as we used to do before 1.5 I think.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#39;row&#39;&gt;
&lt;div class=&#34;ui fluid container&#34;&gt;
&lt;figure&gt;
&lt;a  href=&#34;/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png&#34; rel=&#34;prettyPhoto&#34; class=&#34;thumbnail&#34; title=&#34;Screen shot&#34;&gt;
&lt;img style=&#34;height: 400px;&#34; class=&#34;ui image&#34; src=&#34;/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png&#34; alt=&#34;Screen shot&#34; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Screen shot&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Now we use the script-security-plugin. So we need to wrap that around the script-security-plugin&amp;#8217;s tags. Will report an issue for job-dsl-plugin, and will probably submit a pull request in the next days too. There&amp;#8217;s not much left we can change in the plug-in code for that Piotr Tempes, so I&amp;#8217;m afraid you will have to:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;keep saving the job&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;perhaps work on the fix for Job DSL if you feel like doing it (as you could probably be faster than me in submitting the PR)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;use an older version of the active-choices-plugin that doesn&amp;#8217;t use security-script-plugin, though you could be bitten by other old bugs&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;write some script to replace the &amp;lt;script&amp;gt; tag and wrap it by the secureScript (doing what the pull request will do automatically later)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Sorry for not being able to quickly provide any workaround, nor to cut a quick bugfix release.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Cheers&lt;/em&gt;
&lt;em&gt;Bruno&lt;/em&gt;&lt;/p&gt;
&lt;p style=&#34;text-align: center; color: #DDDDDD;&#34;&gt;&amp;diams;&lt;/p&gt;

&lt;p&gt;ps: When I started getting involved in Open Source, I always felt extremely happy when
people would spend their time troubleshooting my issues, or just educating me on how to
behave in an Open Source community, or even how I should have troubleshooted initially
the issue myself. So whenever I have time, I try to write detailed and polite replies. The
person posting the comment is my past. The person posting the comment is my future :-)
&lt;a href=&#34;http://revistaepoca.globo.com/Revista/Epoca/0,,EMI96818-15230,00.html&#34;&gt;Kindness begets kindness&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Writing a binary parser in Python: NumPy vs. Construct</title>
            <link>/2017/04/14/writing-a-binary-parser-in-python-numpy-vs-construct</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>python</category>
            
            <category>programming</category>
            
            <category>opensource</category>
            
            <pubDate>2017-04-14T19:21:03+12:00</pubDate>
            <guid>/2017/04/14/writing-a-binary-parser-in-python-numpy-vs-construct</guid>
            <description>
            
            &lt;p&gt;Some time ago I worked with researchers to write a parser for an old data format. The data
was generated by device (radiosonde) using the vendor (Vaisala) specific binary format.&lt;/p&gt;
&lt;p&gt;One of the researchers told me someone had written a parser for his work, and shared it
on GitHub. To be honest, that was my first time parsing data in binary with Python. Did
that before with C, C++, Perl, and Java, but never with Python.&lt;/p&gt;
&lt;p&gt;The code on GitHub used &lt;a href=&#34;http://www.numpy.org/&#34;&gt;NumPy&lt;/a&gt; and looked similar to this one.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;numpy&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;np&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;parse_header&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dtype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;field_a&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;b1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;field_b&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;17b1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;input.dat&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;header&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fromfile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dtype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c&#34;&gt;# ...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And it indeed worked fine. But in the end I used the code - after contacting the author and letting
him know what I was about to do - as reference together with an old specification document
for the format, and created a parser with &lt;a href=&#34;https://construct.readthedocs.io/en/latest/&#34;&gt;Construct&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;From Construct&amp;#8217;s website:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Construct is a powerful declarative parser (and builder) for binary data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is what the code with construct looked like.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;construct&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;parse_header&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;parse_header&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Enum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;file_ready&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;READY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;NOT_READY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;_default_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;UNKNOWN&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;reserved&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;# ...&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;parse_contents&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;parse_contents&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;parse_header&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mincount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxcout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;subcon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pre_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;OptionalGreedyRange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;detailed_data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;input.dat&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;parse_results&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parse_contents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_stream&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;c&#34;&gt;# ...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Writing the parser with NumPy or Construct would achieve the same result. However, in the end
this came down to personal preference, and my point of view as Software Engineer. This is the
description of NumPy.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NumPy is the fundamental package for scientific computing with Python.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;NumPy is a project tailored for scientific computing, with a focus on linear algebra,
N-dimensional arrays, and so it goes. While it contains code that can parse binary data,
the footprint added to a project that includes it as dependency is quite big.&lt;/p&gt;
&lt;p&gt;The parser written with NumPy wasn&amp;#8217;t using 5% of the NumPy code base. Probably less than 1%. Updates
to NumPy could break the application compatibility, even if the update came due to some new
matrix operation added to NumPy through some external and missing dependency.&lt;/p&gt;
&lt;p&gt;In Java something similar happens with Google Guava. While I use it some times, most of the
times I find myself using one of the Apache Commons libraries, or another dependency
with just what I need. To avoid including unnecessary code to my application.&lt;/p&gt;
&lt;p&gt;If you prefer to use NumPy that&amp;#8217;s fine too :-) I just had the time enough to rewrite it
instead of using the NumPy (took a couple of hours). In other cases it may still
make sense to use another tool or library, even if it was not made specifically for the
job ¯\&lt;em&gt;(ツ)&lt;/em&gt;/¯&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Spring Cloud encrypted values and Spring PropertySources</title>
            <link>/2017/04/14/spring-cloud-encrypted-values-and-spring-propertysources</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>java</category>
            
            <category>programming</category>
            
            <category>opensource</category>
            
            <pubDate>2017-04-14T11:21:03+12:00</pubDate>
            <guid>/2017/04/14/spring-cloud-encrypted-values-and-spring-propertysources</guid>
            <description>
            
            &lt;p&gt;As I could not find any documentation for that, I decided to write it as a note to myself
in case I use the
&lt;a href=&#34;https://cloud.spring.io/spring-cloud-config/spring-cloud-config.html#_encryption_and_decryption&#34;&gt;encryption and decryption&lt;/a&gt;
with Spring Cloud again.&lt;/p&gt;
&lt;p&gt;In Spring and Spring Boot, you normally have multiple sources of properties, like multiple
properties files, environment properties and variables, and so it goes. In the Spring API,
these are represented as
&lt;a href=&#34;http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html&#34;&gt;PropertySource&lt;/a&gt;&amp;#8216;s.&lt;/p&gt;
&lt;p&gt;In a Spring Boot application, you would be used to overriding certain properties
by defining environments and using an application-production.properties file, or
overriding values with environment properties.&lt;/p&gt;
&lt;p&gt;This is common in
&lt;a href=&#34;https://aws.amazon.com/blogs/devops/deploying-a-spring-boot-application-on-aws-using-aws-elastic-beanstalk/&#34;&gt;Spring Boot applications deployed to Amazon Elastic Beanstalk&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some time ago another team at work found that overriding did not always work when you have
encrypted values in your properties files. Even if you specified new values in the
Amazon Elastic Beanstalk application configuration.&lt;/p&gt;
&lt;p&gt;Yesterday, while debugging the issue and reading Spring Cloud source code, I found its
&lt;a href=&#34;https://github.com/spring-cloud/spring-cloud-commons/blob/9675df02f6a2c01766711f7dee3c4d2818b7d716/spring-cloud-context/src/main/java/org/springframework/cloud/bootstrap/encrypt/EnvironmentDecryptApplicationInitializer.java#L44&#34;&gt;EnvironmentDecryptApplicationInitializer&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It basically iterates through all loaded property sources, looking for values that start with
{cipher}. Then it calls the
&lt;a href=&#34;http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/crypto/encrypt/TextEncryptor.html&#34;&gt;Spring Security TextEncryptor&lt;/a&gt;
defined in the application.&lt;/p&gt;
&lt;p&gt;Finally, it creates a new property source, called decrypted, with the decrypted values. So when
your application looks for a property called XPTO, and if it has been encrypted, it will
find the value in the decrypted propery source, regardless of whether you tried to override it or
not.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# Property sources listed in Eclipse IDE&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
  servletConfigInitParams,
  servletContextInitParams,
  systemProperties,
  systemEnvironment,
  random,
  applicationConfigurationProperties,
  springCloudClientHostInfo,
  defaultProperties
&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;# When using encrypted values&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
  decrypted, &amp;lt;-------- created by Spring Cloud, with decrypted values. Prepended to the list of property sources
  servletConfigInitParams,
  servletContextInitParams,
  systemProperties,
  systemEnvironment,
  random,
  applicationConfigurationProperties,
  springCloudClientHostInfo,
  defaultProperties
&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;So in case you have encrypted values in your Spring application (and you are using Spring Cloud, 
of course) remember that these values will have higher priority, and can only be overriden by other
encrypted values.&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Fixing Qt warning "QLayout: Attempting to add QLayout "" to QWidget "", which already has a layout"</title>
            <link>/2017/04/02/fixing-qt-warning-qlayout-attempting-to-add-qlayout-to-qwidget-which-already-has-a-layout</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>c++</category>
            
            <category>krita</category>
            
            <category>programming</category>
            
            <category>opensource</category>
            
            <pubDate>2017-04-02T12:01:03+12:00</pubDate>
            <guid>/2017/04/02/fixing-qt-warning-qlayout-attempting-to-add-qlayout-to-qwidget-which-already-has-a-layout</guid>
            <description>
            
            &lt;p&gt;If you ever started Krita 3.x in your command line, and had a look at the console output,
you may noticed the following warning.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;QLayout: Attempting to add QLayout &amp;#8220;&amp;#8221; to QWidget &amp;#8220;&amp;#8221;, which already has a layout&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Krita recently &lt;a href=&#34;https://krita.org/en/item/krita-3-1-3-alpha-released/&#34;&gt;announced the release of 3.1.3-alpha-2&lt;/a&gt;,
and while testing I saw this warning and
decided to investigate why this warning happens.&lt;/p&gt;
&lt;p&gt;There was already
&lt;a href=&#34;http://stackoverflow.com/a/25451334&#34;&gt;a similar question posted on StackOverflow&lt;/a&gt;. And the
best answer&amp;#8217;s initial paragraph gave me a hint of what to look for.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When you assign a widget as the parent of a QLayout by passing it into the constructor, the layout is automatically set as the layout for that widget. In your code you are not only doing this, but explicitly calling setlayout(). This is no problem when when the widget passed is the same. If they are different you will get an error because Qt tries to assign the second layout to your widget which has already had a layout set.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, somewhere in Krita code, there was a a QWidget being created, and layouts
were being added to it more than once. To find where the issue was happening was quite easy. A breakpoint at
&lt;a href=&#34;https://github.com/KDE/krita/blob/9e2b8c5b07deccd4a616ad7930a91e8cc784a85b/krita/main.cc#L141&#34;&gt;main.cc&lt;/a&gt;
where the application is initialized, then step through a few times, until the message appeared in the
console.&lt;/p&gt;
&lt;p&gt;Further investigation led me to the History docker (the one that shows undo steps)
&lt;a href=&#34;https://github.com/KDE/krita/blob/9e2b8c5b07deccd4a616ad7930a91e8cc784a85b/plugins/dockers/historydocker/HistoryDock.cpp#L33&#34;&gt;constructor&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;    &lt;span class=&#34;n&#34;&gt;QVBoxLayout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QVBoxLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// layout being set to page&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_undoView&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;KisUndoView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_undoView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;QHBoxLayout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QHBoxLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// layout being set to page again&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addSpacerItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QSpacerItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;QSizePolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Expanding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QSizePolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Fixed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QToolButton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setIcon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;KisIconUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;loadIcon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;configure&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SIGNAL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clicked&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SLOT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;setWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;setWindowTitle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i18n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Undo History&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here the QWidget created receives both QHBoxLayout and QVBoxLayout. Again, searching the Internet
a little bit, then came across this post with a good example of a QWidget with
QHBoxLayout and QVBoxLayout. Here&amp;#8217;s what the constructor looks after the
&lt;a href=&#34;https://bugs.kde.org/show_bug.cgi?id=378313&#34;&gt;patch&lt;/a&gt;
has been &lt;a href=&#34;https://github.com/KDE/krita/commit/1d2343c0cacfb0b105fbe86c2bcef975a09b1041&#34;&gt;applied&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;    &lt;span class=&#34;n&#34;&gt;QVBoxLayout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QVBoxLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// layout being set to page&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_undoView&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;KisUndoView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_undoView&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;QHBoxLayout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QHBoxLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addSpacerItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QSpacerItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;QSizePolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Expanding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QSizePolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Fixed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QToolButton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setIcon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;KisIconUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;loadIcon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;configure&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SIGNAL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clicked&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SLOT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m_bnConfigure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addLayout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// horizontal layout added to the vertical layout&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;setWidget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;setWindowTitle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i18n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Undo History&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That&amp;#8217;s it. Learned something new in Qt. Not as important and useful as learning about
&lt;a href=&#34;http://doc.qt.io/qt-4.8/signalsandslots.html&#34;&gt;signals and slots&lt;/a&gt;, but now I can focus
on other warnings in the console output of Krita.&lt;/p&gt;
&lt;p&gt;And you? Have you tested &lt;a href=&#34;https://krita.org/en/item/krita-3-1-3-alpha-released/&#34;&gt;Krita 3.1.3 alpha&lt;/a&gt; already?
What are you waiting for? :-)&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Simulating less memory with ulimit</title>
            <link>/2017/03/26/simulating-less-memory-with-ulimit</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>c++</category>
            
            <category>krita</category>
            
            <category>programming</category>
            
            <category>opensource</category>
            
            <pubDate>2017-03-26T11:14:03+13:00</pubDate>
            <guid>/2017/03/26/simulating-less-memory-with-ulimit</guid>
            <description>
            
            &lt;p&gt;These days I was trying to reproduce &lt;a href=&#34;https://bugs.kde.org/show_bug.cgi?id=376382&#34;&gt;a bug in Krita&lt;/a&gt;
where it would crash when a user copied group layers between windows. It appeared that the user was
getting a segmentation fault due to the user&amp;#8217;s computer running out of memory.&lt;/p&gt;
&lt;p&gt;I could not reproduce the issue, but my computer has 16 GB. The first thing that came to my mind was
to create a virtual machine with less memory to reproduce the issue. But I decided to spend some time
looking for a &lt;a href=&#34;http://wiki.c2.com/?LazinessImpatienceHubris&#34;&gt;simpler way&lt;/a&gt; of doing it.&lt;/p&gt;
&lt;p&gt;Searching the web I found some suggestions that &lt;code&gt;ulimit&lt;/code&gt; could work. After playing for a while with
&lt;code&gt;ulimit&lt;/code&gt; and &lt;code&gt;htop&lt;/code&gt;, and verifying the amount of memory necessary to open two files in two windows
in Krita, I came up with the following settings.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# 2550 mb in kb&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -v 2550000

&lt;span class=&#34;c&#34;&gt;# 2 gb in kb&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -m 2000000

&lt;span class=&#34;c&#34;&gt;# Confirm limits&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -a

gdb &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/Development/cpp/workspace/krita_install/bin/krita
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then after copying a few layers from one window to another, I successfully reproduced the issue,
and could include a backtrace in the Krita issue tracking system.&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        
        
        
        <item>
            <title>Using Google Natural Language API in an AWS Elastic Beanstalk application</title>
            <link>/2017/03/15/using-google-natural-language-api-in-aws-elastic-beanstalk-application</link>
            
            <author>kinow</author>
            <dc:creator>kinow</dc:creator>
            
            <category>blog</category>
            
            <category>aws</category>
            
            <category>natural language processing</category>
            
            <category>google-cloud</category>
            
            <pubDate>2017-03-15T13:18:03+13:00</pubDate>
            <guid>/2017/03/15/using-google-natural-language-api-in-aws-elastic-beanstalk-application</guid>
            <description>
            
            &lt;p&gt;Besides providing an API for users and developers, Google also provides a series of
(very well-written) client implementation, in several programming languages. That&amp;#8217;s the
case for Google Storage, Google Vision, and for Google Natural Language API&amp;#8217;s.&lt;/p&gt;
&lt;p&gt;I recently had to use the latter in a POC at work, and ran into an interesting issue with
our AWS Elastic Beanstalk environment.&lt;/p&gt;
&lt;p&gt;Google Language API requires that clients authenticate before sending requests. If you use their &lt;a href=&#34;https://github.com/GoogleCloudPlatform/google-cloud-java&#34;&gt;google-cloud-java&lt;/a&gt;, you can define the GOOGLE_APPLICATION_CREDENTIALS. This environment variable must point to a JSON file with the Google Language API credentials.&lt;/p&gt;
&lt;p&gt;The issue is that while Google Language API (or more precisely
&lt;a href=&#34;https://github.com/google/google-auth-library-java/blob/ae9735c576fd8593636e155ccb26e454576bc2cd/oauth2_http/java/com/google/auth/oauth2/DefaultCredentialsProvider.java#L124&#34;&gt;google-auth-library-java&lt;/a&gt;)
looks for an environment variable, in Elastic Beanstalk you are able to
specify only system properties (unless you want to try something with ebextensions,
maybe some JNI&amp;#8230;).&lt;/p&gt;
&lt;p&gt;A workaround for this issue in Google Natural Language API, is to create and pass a
&lt;a href=&#34;http://googlecloudplatform.github.io/google-cloud-java/0.8.0/apidocs/com/google/cloud/language/spi/v1/LanguageServiceSettings.html&#34;&gt;LanguageServiceSettings&lt;/a&gt;
to your &lt;a href=&#34;http://googlecloudplatform.github.io/google-cloud-java/0.8.0/apidocs/com/google/cloud/language/spi/v1/LanguageServiceClient.html&#34;&gt;LanguageServiceClient&lt;/a&gt;.
This settings object, when created, must be given a
&lt;a href=&#34;http://googleapis.github.io/gax-java/0.2.0/apidocs/com/google/api/gax/grpc/ChannelProvider.html&#34;&gt;channel provider&lt;/a&gt;
with a &lt;a href=&#34;http://googleapis.github.io/gax-java/0.2.0/apidocs/com/google/api/gax/core/FixedCredentialsProvider.html&#34;&gt;FixedCredentialsProvider&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Of course reading code is way easier than reading this workaround description.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c1&#34;&gt;// File: GoogleNaturalLanguageService.java&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// ...&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// envvar or property used to specify the Google Application Credentials&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GOOGLE_APPLICATION_CREDENTIALS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;GOOGLE_APPLICATION_CREDENTIALS&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**&lt;/span&gt;
&lt;span class=&#34;cm&#34;&gt;     * Google Natural Language API.&lt;/span&gt;
&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LanguageServiceClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;languageServiceClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Elastic Beanstalk supports Properties, not Environment Variables.&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Google credentials library will load&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// the JSON location for the service to authenticate from an envVar. So&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// we need to fix that here.&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getenv&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GOOGLE_APPLICATION_CREDENTIALS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;LOGGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;GOOGLE_APPLICATION_CREDENTIALS in environment variable: %s&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StringUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isBlank&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getProperty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GOOGLE_APPLICATION_CREDENTIALS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;LOGGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;GOOGLE_APPLICATION_CREDENTIALS in JVM property: %s&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RuntimeException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Could not locate GOOGLE_APPLICATION_CREDENTIALS variable!&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LanguageServiceSettings&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;languageServiceSettings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InputStream&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FileInputStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;googleApplicationCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GoogleCredentials&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;myCredentials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GoogleCredentials&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;fromStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;is&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createScoped&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;Collections&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;singleton&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;https://www.googleapis.com/auth/cloud-platform&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CredentialsProvider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FixedCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

            &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;InstantiatingChannelProvider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;channelProvider&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LanguageServiceSettings&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;defaultChannelProviderBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;languageServiceSettings&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LanguageServiceSettings&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;defaultBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setChannelProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;channelProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ioe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;LOGGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;IO error creating Google NLP settings: %s&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ioe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ioe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ioe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// Create Google API client&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;languageServiceClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LanguageServiceClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;languageServiceSettings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@PreDestroy&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;destroy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LOGGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isDebugEnabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;LOGGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Destroying Google NLP API client&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// Close Google API executors and channels&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;languageServiceClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// ...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That way you should be able to use the API with AWS Elastic Beanstalk
without having to hack your environment to provide the GOOGLE_APPLICATION_CREDENTIALS
environment variable.&lt;/p&gt;
&lt;p&gt;An alternative would be google-auth-library-java to look for an environment variable
&lt;em&gt;and&lt;/em&gt; a system property. Or maybe Amazon AWS add a way to provide environment variables.&lt;/p&gt;
&lt;p&gt;Note also that I included the @PostConstruct and @PreDestroy annotated methods. The
API will start an executor thread pool, so if you do not want to risk to have problems
re-deploying your application, then remember to close your streams.&lt;/p&gt;
&lt;p&gt;&amp;hearts; Open Source&lt;/p&gt;
            
            </description>
        </item>
        

    </channel>
</rss>