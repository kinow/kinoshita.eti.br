  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <title>Bruno P. Kinoshita</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Bruno de Paula Kinoshita personal web site" />
    <meta name="keywords"
        content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache, open source, codigo livre, codigo aberto" />
    <meta name="author" content="" />
    <meta name="generator" content="PieCrust 3.2.1" />
    <meta name="template-engine" content="Twig" />
    <meta name="robots" content="all=index,follow" />
    <meta name="revisit-after" content="15 days" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="distribution" content="Global" />
    <meta name="url" content="/" />
    <meta name="copyright" content="Bruno de Paula Kinoshita" />
    <meta name="Googlebot" content="all" />
    <meta name="rating" content="general" />
    <meta http-equiv="expires" content="0" />
    <meta name="city" content="Sao Paulo" />
    <meta name="state" content="Brasil, Sao Paulo" />
    <meta http-equiv="content-language" content="en" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta id="page_favicon" href="/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="/feed.xml" />
    <link rel="stylesheet" href="/css/semantic/dist/semantic.min.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    <link rel="stylesheet" href="/css/prettyPhoto.css" type="text/css" media="all" />
</head>
<body id="body">
    <div class="ui vertical sidebar menu" id="toc">
        <nav class="menu" role="navigation">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/art">Art</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
      <a href="/presentations/">Presentations</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
</nav>
<img src="/img/bruno.jpg" title="Hmmmm" alt="My picture" width="134px" height="215px" />
    </div>
    <div class="ui black big launch right attached fixed button">
        <i class="content icon"></i>
        <span class="text">Menu</span>
    </div>
    <div class="ui fixed inverted main menu">
        <div class="ui container">
            <a class="launch icon item">
                <i class="content icon"></i>
            </a>
            <div class="item">
                
            </div>
        </div>
    </div>
    <div class="pusher">
        <div class="full height">
            <div class="toc">
                <div class="ui vertical sticky fixed top menu">
                    <nav class="menu" role="navigation">
    <div class="item">
        <a href="/" class="main-link">Kinoshita</a>
    </div>
    <div class="item">
        <a href="/art">Art</a>
    </div>
    <div class="item">
        <a href="/articles/">Articles</a>
    </div>
    <div class="item">
        <a href="/books/">Books</a>
    </div>
    <div class="item">
      <a href="/presentations/">Presentations</a>
    </div>
    <div class="item">
        <a href="/software/">Software</a>
    </div>
    <div class="item">
        <a href="/contact/">Contact</a>
    </div>
    <div class="item">
        <a href="/about/">About &#038; CV</a>
    </div>
</nav>
<img src="/img/bruno.jpg" title="Hmmmm" alt="My picture" width="134px" height="215px" />
                </div>
            </div>
            <div class="article">
                <div class="main container" role="main">
                    <!-- right fixed menu -->
                    <div class="ui dividing right rail" id="taxonomy">
                        <div class="ui sticky fixed top">
                            <br/>
                            <h4>Blog Taxonomy</h4>
                            <nav id="tag-cloud" class="sidebar-box" role="complementary">
                              
                              <span style="font-size: 23.0pt"><a href="/tag/apache%20software%20foundation">apache software foundation</a></span>&nbsp;(26)
                              
                              <span style="font-size: 14.0pt"><a href="/tag/cylc">cylc</a></span>&nbsp;(8)
                              
                              <span style="font-size: 17.0pt"><a href="/tag/illustrations">illustrations</a></span>&nbsp;(14)
                              
                              <span style="font-size: 27.5pt"><a href="/tag/java">java</a></span>&nbsp;(35)
                              
                              <span style="font-size: 23.0pt"><a href="/tag/jenkins">jenkins</a></span>&nbsp;(26)
                              
                              <span style="font-size: 30.0pt"><a href="/tag/opensource">opensource</a></span>&nbsp;(40)
                              
                              <span style="font-size: 26.5pt"><a href="/tag/programming">programming</a></span>&nbsp;(33)
                              
                              <span style="font-size: 18.0pt"><a href="/tag/python">python</a></span>&nbsp;(16)
                              
                              <span style="font-size: 24.5pt"><a href="/tag/software%20quality">software quality</a></span>&nbsp;(29)
                              
                              <span style="font-size: 16.5pt"><a href="/tag/testlink">testlink</a></span>&nbsp;(13)
                              
                            </nav>
                            
                        </div>
                    </div>
                

Posts tagged with 'java'




<div class="ui raised padded container segment">
    <h2><a href="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue" title="Permanent link">Troubleshooting a Jenkins Plug-in compatibility issue</a></h2>
    <p><small>kinow</small> @ <small>Apr 17, 2017&nbsp;21:01:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue" data-text="Troubleshooting a Jenkins Plug-in compatibility issue" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>This post is probably different from others. I will give a TL;DR, but will then
give you a copy of
<a href="https://issues.jenkins-ci.org/browse/JENKINS-42655?focusedCommentId=291470&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-291470">a comment of a Jenkins JIRA issue</a>.
Hope you have fun reading it,
specially if you maintain Jenkins servers or plug-ins.</p>
<p>TL;DR: there was an issue in Jenkins Job DSL Plug-in, that caused jobs created to
have an invalid script. The fix had not been released, but was already in the
master branch in GitHub.</p>
<p style="text-align: center; color: #DDDDDD;">&diams;</p>

<p><em>Well, that was fun bug reproduced, I believe I know why that&#8217;s happening. Not so complicated to fix&#8230; but no fast way to fix it. Here&#8217;s the issue analysis (grab a coffee to read it).</em></p>
<ul>
<li><em>Downloaded jenkins.war (2.32.3.war)</em></li>
<li><em>mkdir /tmp/123</em></li>
<li><em>JENKINS_HOME=/tmp/123 java -jar jenkins.war</em></li>
<li><em>Entered secret into form and submitted</em></li>
<li><em>Installed suggested plugins (boy that takes a while)</em></li>
<li><em>Created temp user</em></li>
<li><em>Installed (without restart) active-choices-plugin 1.5.3</em></li>
<li><em>Installed (without restart) job-dsl-plugin</em></li>
<li><em>Manually stopped Jenkins, and started it again with same command #3</em></li>
<li><em>Log in with user, all looking good</em></li>
<li><em>Created Freestyle job JENKINS-42655 (see attached config.xml)</em></li>
<li><em>Executed job, and found new job JENKINS-42655-1</em></li>
<li><em>Never opened the job configuration, clicked on the &#8220;Generated Items link to JENKINS-42655-1&#8221; to open in a new tab</em></li>
<li><em>Clicked on Build with Parameters</em></li>
<li><em>Looked at logs, and noticed the security-script-plugin exceptions</em></li>
<li><em>Went to &#8220;Manage Jenkins&#8221; / &#8220;In-process Script Approval&#8221; and approved scripts</em></li>
<li><em>Went back to the JENKINS-42655-1 build with parameters screen, and everything worked as expected</em></li>
</ul>
<p>*<em>Hummm. Issue more or less reproduced. Let&#8217;s investigate more.</em></p>
<ul>
<li><em>Restarted Jenkins again</em></li>
<li><em>Changed the JENKINS-42655 seed job configuration to use a different script</em></li>
<li><em>Copied the config.xml file to another location</em></li>
<li><em>Went to build with parameters, and now it was broken again</em></li>
<li><em>Saved the job manually</em></li>
<li><em>Copied the config.xml file to yet another location</em></li>
<li><em>Went to build with parameters, and now it worked as reported in this issue</em></li>
</ul>
<p><em>Now comes the interesting part. Looking at the diff. Attaching a screen shot so that others can have fun looking at it too. I installed Kompare as it has some cool features such as disabling diff for white spaces, blank lines, etc. The whole file changes as you save it. But if you ignore the number of white spaces&#8230; Then you can see that the Job DSL Plug-in is creating a &lt;script&gt; tag, as we used to do before 1.5 I think.</em></p>
<div class='row'>
<div class="ui fluid container">
<figure>
<a  href="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png" rel="prettyPhoto" class="thumbnail" title="Screen shot">
<img style="height: 400px;" class="ui image" src="/2017/04/17/troubleshooting-a-jenkins-plugin-compatibility-issue/JENKINS-42655-diff.png" alt="Screen shot" />
</a>
<figcaption>Screen shot</figcaption>
</figure>
</div>
</div>

<p><em>Now we use the script-security-plugin. So we need to wrap that around the script-security-plugin&#8217;s tags. Will report an issue for job-dsl-plugin, and will probably submit a pull request in the next days too. There&#8217;s not much left we can change in the plug-in code for that Piotr Tempes, so I&#8217;m afraid you will have to:</em></p>
<ul>
<li><em>keep saving the job</em></li>
<li><em>perhaps work on the fix for Job DSL if you feel like doing it (as you could probably be faster than me in submitting the PR)</em></li>
<li><em>use an older version of the active-choices-plugin that doesn&#8217;t use security-script-plugin, though you could be bitten by other old bugs</em></li>
<li><em>write some script to replace the &lt;script&gt; tag and wrap it by the secureScript (doing what the pull request will do automatically later)</em></li>
</ul>
<p><em>Sorry for not being able to quickly provide any workaround, nor to cut a quick bugfix release.</em></p>
<p><em>Cheers</em>
<em>Bruno</em></p>
<p style="text-align: center; color: #DDDDDD;">&diams;</p>

<p>ps: When I started getting involved in Open Source, I always felt extremely happy when
people would spend their time troubleshooting my issues, or just educating me on how to
behave in an Open Source community, or even how I should have troubleshooted initially
the issue myself. So whenever I have time, I try to write detailed and polite replies. The
person posting the comment is my past. The person posting the comment is my future :-)
<a href="http://revistaepoca.globo.com/Revista/Epoca/0,,EMI96818-15230,00.html">Kindness begets kindness</a>.</p>
<p>&hearts; Open Source</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/jenkins"
        rel="tag">jenkins</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/opensource"
        rel="tag">opensource</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/04/14/spring-cloud-encrypted-values-and-spring-propertysources" title="Permanent link">Spring Cloud encrypted values and Spring PropertySources</a></h2>
    <p><small>kinow</small> @ <small>Apr 14, 2017&nbsp;11:21:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/04/14/spring-cloud-encrypted-values-and-spring-propertysources" data-text="Spring Cloud encrypted values and Spring PropertySources" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>As I could not find any documentation for that, I decided to write it as a note to myself
in case I use the
<a href="https://cloud.spring.io/spring-cloud-config/spring-cloud-config.html#_encryption_and_decryption">encryption and decryption</a>
with Spring Cloud again.</p>
<p>In Spring and Spring Boot, you normally have multiple sources of properties, like multiple
properties files, environment properties and variables, and so it goes. In the Spring API,
these are represented as
<a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html">PropertySource</a>&#8216;s.</p>
<p>In a Spring Boot application, you would be used to overriding certain properties
by defining environments and using an application-production.properties file, or
overriding values with environment properties.</p>
<p>This is common in
<a href="https://aws.amazon.com/blogs/devops/deploying-a-spring-boot-application-on-aws-using-aws-elastic-beanstalk/">Spring Boot applications deployed to Amazon Elastic Beanstalk</a>.</p>
<p>Some time ago another team at work found that overriding did not always work when you have
encrypted values in your properties files. Even if you specified new values in the
Amazon Elastic Beanstalk application configuration.</p>
<p>Yesterday, while debugging the issue and reading Spring Cloud source code, I found its
<a href="https://github.com/spring-cloud/spring-cloud-commons/blob/9675df02f6a2c01766711f7dee3c4d2818b7d716/spring-cloud-context/src/main/java/org/springframework/cloud/bootstrap/encrypt/EnvironmentDecryptApplicationInitializer.java#L44">EnvironmentDecryptApplicationInitializer</a>.</p>
<p>It basically iterates through all loaded property sources, looking for values that start with
{cipher}. Then it calls the
<a href="http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/crypto/encrypt/TextEncryptor.html">Spring Security TextEncryptor</a>
defined in the application.</p>
<p>Finally, it creates a new property source, called decrypted, with the decrypted values. So when
your application looks for a property called XPTO, and if it has been encrypted, it will
find the value in the decrypted propery source, regardless of whether you tried to override it or
not.</p>
<div class="highlight"><pre><span></span><span class="c1"># Property sources listed in Eclipse IDE</span>

<span class="o">[</span>
  servletConfigInitParams,
  servletContextInitParams,
  systemProperties,
  systemEnvironment,
  random,
  applicationConfigurationProperties,
  springCloudClientHostInfo,
  defaultProperties
<span class="o">]</span>

<span class="c1"># When using encrypted values</span>

<span class="o">[</span>
  decrypted, &lt;-------- created by Spring Cloud, with decrypted values. Prepended to the list of property sources
  servletConfigInitParams,
  servletContextInitParams,
  systemProperties,
  systemEnvironment,
  random,
  applicationConfigurationProperties,
  springCloudClientHostInfo,
  defaultProperties
<span class="o">]</span>
</pre></div>

<p>So in case you have encrypted values in your Spring application (and you are using Spring Cloud, 
of course) remember that these values will have higher priority, and can only be overriden by other
encrypted values.</p>
<p>&hearts; Open Source</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/opensource"
        rel="tag">opensource</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/01/08/apache-commons-lang-memoizer" title="Permanent link">Apache Commons Lang: Memoizer</a></h2>
    <p><small>kinow</small> @ <small>Jan 08, 2017&nbsp;18:34:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/01/08/apache-commons-lang-memoizer" data-text="Apache Commons Lang: Memoizer" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>The current release of <a href="https://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a>
is <strong>3.5</strong>. The upcoming release, probably 3.6,
will include a new feature, added in a
<a href="https://github.com/apache/commons-lang/pull/203">pull request</a>:
<strong>a Memoizer implementation</strong>. Check out the ticket <a href="https://issues.apache.org/jira/browse/LANG-740">LANG-740</a>
for more about the implementation being added to [lang].</p>
<p>The book <a href="http://jcip.net/">Java Concurrency in Practice</a> introduces readers to the Memoizer,
and has also a <a href="http://jcip.net/listings/Memoizer.java">public domain implementation available for download</a>
(besides that, the book has also lots of other interesting topics!).</p>
<p>In summary, Memoizer is a simple cache, that will store the result of
a computation. It receives a Computable object, responsible for doing something
that will be stored by the Memoizer. Here&#8217;s a simple code to illustrate how that
will work in your Java code.</p>
<div class="highlight"><pre><span></span><span class="c1">// Computation to be stored in the cache</span>
<span class="n">Computable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">getFormattedCurrentDate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Computable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">compute</span><span class="o">(</span><span class="n">String</span> <span class="n">fmt</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="n">fmt</span><span class="o">).</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Our memoizer</span>
<span class="n">Memoizer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">dateCache</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Memoizer</span><span class="o">&lt;&gt;(</span><span class="n">getFormattedCurrentDate</span><span class="o">);</span>

<span class="c1">// To illustrate its use</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// S -&gt; Millisecond</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">dateCache</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="s">&quot;HH:mm:ss:S Z dd/MM/YYYY&quot;</span><span class="o">));</span>
        <span class="c1">// Regardless of this sleep call, we get the same result every iteration</span>
        <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1500</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>The computable created (<em>getFormattedCurrentDate</em>) will be called only once, and stored in
a map. The parameter passed in the <em>#compute()</em> method will be used as key in the map.
So choose your parameter wisely :-) The output of the example will be similar to the following one.</p>
<div class="highlight"><pre><span></span><span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
<span class="m">19</span>:15:57:854 +1300 <span class="m">08</span>/01/2017
</pre></div>

<p>In the example above I used a <em>for-loop</em> to illustrate what will happen. Even though we call
the memoizer <em>#compute()</em> method several times, followed by
<em>Thread#sleep()</em>; only one result, the first to be computed, will be returned.</p>
<p>So that&#8217;s all for today. Hope you learned something about this new class, that must
be available in the next release of Apache Commons Lang.</p>
<p>Happy hacking!</p>
<p>ps: [lang] uses Java 7, so that is why we do not have a functional instead of the Comparable</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/apache%20software%20foundation"
        rel="tag">apache software foundation</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2017/01/07/apache-commons-text" title="Permanent link">Apache Commons Text</a></h2>
    <p><small>kinow</small> @ <small>Jan 07, 2017&nbsp;20:39:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2017/01/07/apache-commons-text" data-text="Apache Commons Text" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>There is a new component in Apache Commons: Apache Commons Text. The 1.0 release might be announced
in the next weeks. The current site is still in the <a href="http://commons.apache.org/sandbox/commons-text/">Commons Sandbox</a>,
but it will change with the 1.0 release. The promotion from the sandbox
<a href="http://markmail.org/message/dm7xwv5wc6z7wme3">happened a few days ago</a> in
the project mailing list.</p>
<p>Here&#8217;s the project description: <strong>Apache Commons Text is a library focused on algorithms working on strings</strong>.</p>
<p>There was <a href="http://markmail.org/message/3k7m2zrzboji333r">a thread on the mailing list</a>
some time ago (Oct/2014) when we first discussed the component idea. Since then
many people contributed porting code from
<a href="http://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a>,
<a href="http://lucene.apache.org/">Apache Lucene</a>, donating code from existing projects, and with new ideas.</p>
<p><strong>It is important to be aware that certain parts of Apache Commons Lang are
being marked as deprecated, and will be removed in the future, after Apache Commons Text
1.0 is out</strong>. For example: <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html">StringUtils</a>,
and <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html">RandomStringUtils</a>.</p>
<p>That will happen probably in a 4.x release of Apache Commons Lang, if everything
goes well with Apache Commons Text :-)</p>
<p>And there are already future features in
<a href="https://github.com/apache/commons-text/branches/all">branches too</a>.
It was decided that these features
needed further work, so they will probably be included in next releases.</p>
<p>So that&#8217;s a little bit of background on the new component that will be released soon.
If you have code using Apache Commons Lang, you might be interested in staying
tuned to release announcements in the mailing list!</p>
<p>And should you have suggestions and would like to contribute, feel free to join and start
a thread in the <a href="https://commons.apache.org/mail-lists.html">mailing list</a>,
open a <a href="https://issues.apache.org/jira/browse/TEXT">JIRA issue</a>, or submit a
<a href="https://github.com/apache/commons-text/pulls">pull request</a>.</p>
<p>Happy hacking!</p><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/programming"
        rel="tag">programming</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/apache%20software%20foundation"
        rel="tag">apache software foundation</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div class="ui raised padded container segment">
    <h2><a href="/2016/11/21/changing-spring-boot-environment-variables-in-the-command-line-" title="Permanent link">Changing Spring Boot environment variables in the command line</a></h2>
    <p><small>kinow</small> @ <small>Nov 21, 2016&nbsp;21:26:03</small></p>
    
    





<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://kinoshita.eti.br/2016/11/21/changing-spring-boot-environment-variables-in-the-command-line-" data-text="Changing Spring Boot environment variables in the command line" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p='https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <p>This week while helping developers and testers to experiment with a backend application,
some of them found useful to learn a simple trick to change Spring Boot properties
when you can run the application locally (our testers build, compile, change the code, how cool
is that?).</p>
<p>Here&#8217;s how it works. Say you have the following settings in your application&#8217;s
<strong>application.properties</strong>:</p>
<div class="highlight"><pre><span></span>my.application.database.username<span class="o">=</span>sa
my.application.database.password<span class="o">=</span>notasimplepassword
</pre></div>

<p>And that you want to change these parameters in order to, for instance, create an application
error, so that you can code and test what happens to the frontend application in that situation.</p>
<p>You replace <em>dots</em> by <em>underscores</em>, and put all your words in upper case. So the variables
above would be: MY_APPLICATION_DATABASE_USERNAME and MY_APPLICATION_DATABASE_PASSWORD.</p>
<p>Furthermore, you do not need to edit your application.properties file, if you are on Linux or
Mac OS. You can start the application and override environment variables at the same time
with the following syntax.</p>
<div class="highlight"><pre><span></span>$ <span class="nv">MY_APPLICATION_DATABASE_USERNAME</span><span class="o">=</span>olivei <span class="nv">MY_APPLICATION_DATABASE_PASSWORD</span><span class="o">=</span>7655432222a mvn clean spring-boot:run
</pre></div>

<p>This way your application will start with the new values.</p>
<p>Happy hacking!</p>
<p><strong>&#8212;EDIT&#8212;</strong></p>
<p>As pointed by Stéphane Nicoll (thanks!), you could change the property values
without having to use the upper case syntax.</p>
<div class="highlight"><pre><span></span>mvn -Dmy.application.database.username<span class="o">=</span>anotheruser clean spring-boot:run
</pre></div>

<p>And he even included a link to <a href="http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config">docs</a>! ♥ the Internet and Open Source!</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/kinow">@kinow</a> you can also specify them as command-line arguments (no need for the upper case thing)<a href="https://t.co/zBKpgcXN1C">https://t.co/zBKpgcXN1C</a><br><br>or `-Drun.arguments`</p>&mdash; Stéphane Nicoll (@snicoll) <a href="https://twitter.com/snicoll/status/800965565120708608">November 22, 2016</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><!-- html -->
    
<p class="postmetadata">
    
    <small>tags 
     [&nbsp;<a
        href="/tag/shell%20script"
        rel="tag">shell script</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/java"
        rel="tag">java</a>&nbsp;]&nbsp;
    
     [&nbsp;<a
        href="/tag/spring"
        rel="tag">spring</a>&nbsp;]&nbsp;
    
    </small>
    
    
    <br/>
    <small>posted in 
    [&nbsp;<a
        href="/blog"
        title="View all posts in blog"
        rel="category tag">blog</a>&nbsp;]&nbsp;
    category </small>
    
</p>
</div>




<div id="navigation">
    
        &larr;&nbsp;<a href="/tag/java/5" id="navigation-next">Older Entries</a>
    
    
        &mdash; <a href="/tag/java/3" id="navigation-next">Newer Entries</a>&nbsp;&rarr;
    
</div>



               </div>
            </div>
        </div>
        <div class="ui vertical footer segment" id="footer">
            <div class="ui center aligned container">
                           <div id="copy" class="">
                <p>&copy; <a href="/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
            </div>
         </div>
    </div>
</body>
</html>
<script src="/js/jquery-2.2.3.min.js"  type="text/javascript"></script>
<script src="/css/semantic/dist/semantic.min.js"  type="text/javascript"></script>
<script src="/js/jquery.prettyPhoto.js"></script>
<script src="/js/site.js"></script>