<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Running BDD tests from TestLink in Jenkins | kinow</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Running BDD tests from TestLink in Jenkins" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Last night and this morning I spent some time working on running BDD tests that were created in TestLink in Jenkins, using testlink-plugin. Similar integration has already been proposed in JinFeng, by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary), Jenkins retrieves these stories and executes them using a skeleton project. There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a DSL - as TestLink doesn’t maintain source code, only test cases -, so I switched to easyb." />
<meta property="og:description" content="Last night and this morning I spent some time working on running BDD tests that were created in TestLink in Jenkins, using testlink-plugin. Similar integration has already been proposed in JinFeng, by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary), Jenkins retrieves these stories and executes them using a skeleton project. There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a DSL - as TestLink doesn’t maintain source code, only test cases -, so I switched to easyb." />
<link rel="canonical" href="https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html" />
<meta property="og:url" content="https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html" />
<meta property="og:site_name" content="kinow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-11-07T00:00:00+13:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Running BDD tests from TestLink in Jenkins" />
<script type="application/ld+json">
{"description":"Last night and this morning I spent some time working on running BDD tests that were created in TestLink in Jenkins, using testlink-plugin. Similar integration has already been proposed in JinFeng, by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary), Jenkins retrieves these stories and executes them using a skeleton project. There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a DSL - as TestLink doesn’t maintain source code, only test cases -, so I switched to easyb.","@type":"BlogPosting","url":"https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html","headline":"Running BDD tests from TestLink in Jenkins","datePublished":"2012-11-07T00:00:00+13:00","dateModified":"2012-11-07T00:00:00+13:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css" /><link type="application/atom+xml" rel="alternate" href="https://kinoshita.eti.br/feed.xml" title="kinow" /><link href="https://unpkg.com/pattern.css" rel="stylesheet" />

</head>
<body>
<div id="mobile-menu"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image"  alt="Instagram link" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" alt="Twitter link" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" alt="GitHub link" />
      </a>
    </li>
  </ul>
</div>
</div>
<div id="wrapper">
  <div id="sidebar"><div class="menu">
  <ul class="menu">
    <li class="item">
      <h1 id="kinow">KINOW</h1>
    </li>
    <li class="item">
      <a href="/" class="">About</a>
    </li>
    <li class="item">
      <a href="/blog/" class="current">Blog</a>
    </li>
    <li class="item">
      <a href="/portfolio/" class="">Portfolio</a>
    </li>
    <li class="item social-media-item">
      <a href="https://www.instagram.com/brunokinoshita/" class="inline-link">
        <img src="/assets/icons/instagram.png" class="inverted-image"  alt="Instagram link" />
      </a>
      <a href="https://twitter.com/kinow/" class="inline-link">
        <img src="/assets/icons/twitter.png" class="inverted-image" alt="Twitter link" />
      </a>
      <a href="https://github.com/kinow/" class="inline-link">
        <img src="/assets/icons/github.png" class="inverted-image" alt="GitHub link" />
      </a>
    </li>
  </ul>
</div>
</div>
  <div id="content">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Running BDD tests from TestLink in Jenkins</h1>
    <span class="post-meta">
      <time class="dt-published" datetime="2012-11-07T00:00:00+13:00" itemprop="datePublished">Nov 7, 2012
      </time>
      <span>&mdash; star date: -310068.31.</span>
      <span>
        Number of words: 428.
      </span></span>
  </header>

  


  <div class="post-content e-content" itemprop="articleBody">
    <p>Last night and this morning I spent some time working on running
<a href="http://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> tests that were created in
<a href="http://www.teamst.org">TestLink</a> in <a href="http://jenkins-ci.org">Jenkins</a>, using
<a href="https://wiki.jenkins-ci.org/display/JENKINS/TestLink+Plugin">testlink-plugin</a>.</p>

<p>Similar integration has already been proposed in <a href="http://www.sqaopen.net/blog/en/?tag=jinfeng">JinFeng</a>,
by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary),
Jenkins retrieves these stories and executes them using a skeleton project.</p>

<p><img class="ui fluid image" src="/assets/posts/2012-11-07-running-bdd-tests-from-testlink-in-jenkins/tl_bdd.png" /></p>

<p>There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a <a href="http://en.wikipedia.org/wiki/Domain-specific_language" title="DSL">DSL</a> - as TestLink doesn’t maintain source code, only test cases -, so I switched to <a href="http://www.easyb.org" title="easyb">easyb</a>.</p>

<!--more-->

<p>There are many pros and cons in this integration, and a lot of work to do in the existing BDD tools, in TestLink and in the testlink-plugin too. I will write more about it in details later, but here’s a short list of things I’ve noted to work on the integration:</p>

<ul>
	<li>easyb reports have to be converted to TestNG, TAP or JUnit formats, or a new results seeking strategy will have to created for testlink-plugin</li>
	<li>TestLink doesn't store the stories correctly. In my test job in Jenkins, I had to use some Perl one liners to strip HTML and sanitize the string (take a look below)</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nv">$TESTLINK_TESTCASE_SUMMARY</span> | perl <span class="nt">-pe</span> <span class="s1">'s|\&amp;lt;br \/\&amp;gt;|\n|g'</span> | perl <span class="nt">-pe</span> <span class="s1">'s|\&amp;lt;br\/\&amp;gt;|\n|g'</span> | perl <span class="nt">-pe</span> <span class="s1">'s|\&amp;lt;\/div\&amp;gt;|\n|g'</span> | <span class="nb">sed</span> <span class="nt">-e</span> <span class="s1">'s/&amp;lt;[a-zA-Z\/][^&amp;gt;]*&amp;gt;//g'</span> | perl <span class="nt">-MHTML</span>::Entities <span class="nt">-le</span> <span class="s1">'while(&amp;lt;&amp;gt;) {print decode_entities($_);}'</span> | perl <span class="nt">-pe</span> <span class="s1">'s|^\s+||'</span> | perl <span class="nt">-pe</span> <span class="s1">'s|\xA0||g'</span> &amp;gt<span class="p">;</span> &amp;quot<span class="p">;</span><span class="nv">$TESTLINK_TESTCASE_EASYB_FILENAME</span>.story&amp;quot<span class="p">;</span>
</code></pre></div></div>

<p><img class="ui fluid image" src="/assets/posts/2012-11-07-running-bdd-tests-from-testlink-in-jenkins/jenkins_bdd.png" /></p>

<p>I’m working on a <a href="/2012/10/25/a-quick-view-on-wordpress-mantis-and-jenkins-plug-in-api.html">Plug-in API proposal</a>
for TestLink, and I can already imagine a few places where we could use a plug-in and that would help in the
BDD integration.</p>

<p>A test case could use a plug-in to retrieve its content from a git repository, for instance. So the BDD could be
stored/versioned in GitHub, and written in any language. And it would be displayed by the plug-in as if it was
the Test Case summary in TestLink.</p>

<p>You can get the idea of the integration from the screen shots in this post. The source code for the skeleton project
is available in this repository - <a href="https://github.com/kinow/easyb-sandbox">https://github.com/kinow/easyb-sandbox</a>.
I used the examples from <a href="http://www.easyb.org/storyexmpls.html">easyb website</a>.</p>

  </div>

  <div class="tags"><p>Tags:&nbsp;<a class="label" href="/tag/testlink">testlink</a>,&nbsp;<a class="label" href="/tag/jenkins">jenkins</a>,&nbsp;<a class="label" href="/tag/software quality">software quality</a>.<br/></p></div>

  <a class="u-url" href="/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html" hidden></a>
</article>

  </div>
</div>
</body>
</html>
