<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Running BDD tests from TestLink in Jenkins">
<meta property="og:description" content="Last night and this morning I spent some time working on running
BDD tests that were created in
TestLink in Jenkins, using
testlink-plugin.
Similar integration has already been proposed in JinFeng,
by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary),
Jenkins retrieves these stories and executes them using a skeleton project.





  
  




There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a DSL - as TestLink doesn&rsquo;t maintain source code, only test cases -, so I switched to easyb.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2012-11-07T00:00:00+00:00">
<meta property="article:modified_time" content="2024-04-06T10:45:18+02:00">
<link rel=alternate type=application/rss+xml href=https://kinoshita.eti.br/2012/11/07/running-bdd-tests-from-testlink-in-jenkins/feed.xml title=kinow>
<link rel=stylesheet type=text/css href=https://kinoshita.eti.br/sass/main.09b56b6037e962b67cf7a7701bf2a9ee5da840a4f74b74139c4731f2156a5917.css integrity="sha256-CbVrYDfpYrZ896dwG/Kp7l2oQKT3S3QTnEcx8hVqWRc=">
<title>kinow | Running BDD tests from TestLink in Jenkins</title>
</head>
<body>
<header role=banner class=content>
<nav id=nav aria-label=Main role=navigation class=content>
<ul><li>
<a href=/><i data-feather=about></i> About</a>
</li><li>
<a href=/blog/><i data-feather=blog></i> Blog</a>
</li><li>
<a href=/portfolio/><i data-feather=portfolio></i> Portfolio</a>
</li>
</ul>
</nav>
</header>
<main>
<article class=content>
<h1>Running BDD tests from TestLink in Jenkins</h1><div class=metadata>
<i data-feather=calendar></i>
<time datetime=2012-11-07>Nov 7, 2012</time>
</div>
<aside>
<nav id=TableOfContents></nav>
</aside>
<p>Last night and this morning I spent some time working on running
<a href=http://en.wikipedia.org/wiki/Behavior-driven_development>BDD</a> tests that were created in
<a href=http://www.teamst.org>TestLink</a> in <a href=http://jenkins-ci.org>Jenkins</a>, using
<a href=https://wiki.jenkins-ci.org/display/JENKINS/TestLink+Plugin>testlink-plugin</a>.</p>
<p>Similar integration has already been proposed in <a href="http://www.sqaopen.net/blog/en/?tag=jinfeng">JinFeng</a>,
by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary),
Jenkins retrieves these stories and executes them using a skeleton project.</p>
<figure class=feature>
<img src=/assets/posts/2012-11-07-running-bdd-tests-from-testlink-in-jenkins/tl_bdd.png alt title width height>
<figcaption></figcaption>
</figure>
<p>There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a <a href=http://en.wikipedia.org/wiki/Domain-specific_language title=DSL>DSL</a> - as TestLink doesn&rsquo;t maintain source code, only test cases -, so I switched to <a href=http://www.easyb.org title=easyb>easyb</a>.</p>
<p>There are many pros and cons in this integration, and a lot of work to do in the existing BDD tools, in TestLink and in the testlink-plugin too. I will write more about it in details later, but here&rsquo;s a short list of things I&rsquo;ve noted to work on the integration:</p>
<ul>
<li>easyb reports have to be converted to TestNG, TAP or JUnit formats, or a new results seeking strategy will have to created for testlink-plugin</li>
<li>TestLink doesn't store the stories correctly. In my test job in Jenkins, I had to use some Perl one liners to strip HTML and sanitize the string (take a look below)</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#a90d91>echo</span> <span style=color:#000>$TESTLINK_TESTCASE_SUMMARY</span> | perl -pe <span style=color:#c41a16>&#39;s|\&amp;lt;br \/\&amp;gt;|\n|g&#39;</span> | perl -pe <span style=color:#c41a16>&#39;s|\&amp;lt;br\/\&amp;gt;|\n|g&#39;</span> | perl -pe <span style=color:#c41a16>&#39;s|\&amp;lt;\/div\&amp;gt;|\n|g&#39;</span> | sed -e <span style=color:#c41a16>&#39;s/&amp;lt;[a-zA-Z\/][^&amp;gt;]*&amp;gt;//g&#39;</span> | perl -MHTML::Entities -le <span style=color:#c41a16>&#39;while(&amp;lt;&amp;gt;) {print decode_entities($_);}&#39;</span> | perl -pe <span style=color:#c41a16>&#39;s|^\s+||&#39;</span> | perl -pe <span style=color:#c41a16>&#39;s|\xA0||g&#39;</span> &amp;gt; &amp;quot;<span style=color:#000>$TESTLINK_TESTCASE_EASYB_FILENAME</span>.story&amp;quot;
</code></pre></div>
<figure class=feature>
<img src=/assets/posts/2012-11-07-running-bdd-tests-from-testlink-in-jenkins/jenkins_bdd.png alt title width height>
<figcaption></figcaption>
</figure>
<p>I&rsquo;m working on a [Plug-in API proposal]({% post_url 2012-10-25-a-quick-view-on-wordpress-mantis-and-jenkins-plug-in-api %})
for TestLink, and I can already imagine a few places where we could use a plug-in and that would help in the
BDD integration.</p>
<p>A test case could use a plug-in to retrieve its content from a git repository, for instance. So the BDD could be
stored/versioned in GitHub, and written in any language. And it would be displayed by the plug-in as if it was
the Test Case summary in TestLink.</p>
<p>You can get the idea of the integration from the screen shots in this post. The source code for the skeleton project
is available in this repository - <a href=https://github.com/kinow/easyb-sandbox>https://github.com/kinow/easyb-sandbox</a>.
I used the examples from <a href=http://www.easyb.org/storyexmpls.html>easyb website</a>.</p>
<p>
Categories:
<a href=/categories/blog.html>blog</a>
</p>
<p>
Tags:
<a href=/tags/testlink.html>testlink</a>,
<a href=/tags/jenkins.html>jenkins</a>,
<a href=/tags/software-quality.html>software quality</a>
</p>
<aside class=links>
<a class=previous href=https://kinoshita.eti.br/2012/10/25/a-quick-view-on-wordpress-mantis-and-jenkins-plug-in-api.html>&#171; Previous</a>
<a class=next href=https://kinoshita.eti.br/2012/12/21/using-apache-commons-functor-functional-interfaces-with-java-8-lambdas.html>Next &#187;</a>
</aside>
</article>
</main>
<footer role=contentinfo>
<ul id=social-media-icons>
<li>
<a href=https://www.instagram.com/brunokinoshita/>
<img src=/assets/icons/instagram.png alt="Instagram link">
</a>
</li>
<li>
<a href=https://twitter.com/kinow/>
<img src=/assets/icons/twitter.png alt="Twitter link">
</a>
</li>
<li>
<a href=https://github.com/kinow/>
<img src=/assets/icons/github.png alt="GitHub link">
</a>
</li>
<li>
<a href=/feed.xml>
<img src=/assets/icons/news.png alt="RSS feed link">
</a>
</li>
</ul>
</footer>
</body>
</html>